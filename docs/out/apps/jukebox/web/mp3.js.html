<!DOCTYPE html><html><head><title>mp3.js</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../../../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../../../index.html" class="source"><span class="file_name">README</span></a><a href="../../../apps/jukebox/web/moment.min.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">moment.min.js</span></a><a href="../../../apps/jukebox/web/backbone.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">backbone.js</span></a><a href="../../../apps/jukebox/web/chat.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">chat.js</span></a><a href="../../../apps/jukebox/web/mp3.js.html" class="source selected"><span class="base_path">apps / jukebox / web / </span><span class="file_name">mp3.js</span></a><a href="../../../apps/jukebox/web/jsmad.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">jsmad.js</span></a><a href="../../../apps/jukebox/web/require.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">require.js</span></a><a href="../../../apps/jukebox/web/houseChat.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">houseChat.js</span></a><a href="../../../apps/jukebox/web/houseAuth.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">houseAuth.js</span></a><a href="../../../apps/jukebox/web/houseUsers.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">houseUsers.js</span></a><a href="../../../apps/jukebox/web/jukebox.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">jukebox.js</span></a><a href="../../../apps/jukebox/web/jquery.idle-timer.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">jquery.idle-timer.js</span></a><a href="../../../apps/jukebox/web/aac.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">aac.js</span></a><a href="../../../apps/jukebox/web/aurora.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">aurora.js</span></a><a href="../../../apps/jukebox/web/jquery.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">jquery.js</span></a><a href="../../../apps/jukebox/web/houseSongs.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">houseSongs.js</span></a><a href="../../../apps/jukebox/web/jquery.ui.min.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">jquery.ui.min.js</span></a><a href="../../../apps/jukebox/web/chart.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">chart.js</span></a><a href="../../../apps/jukebox/web/backbone-house.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">backbone-house.js</span></a><a href="../../../apps/jukebox/web/alac.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">alac.js</span></a><a href="../../../apps/jukebox/web/underscore.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">underscore.js</span></a><a href="../../../apps/jukebox/web/pitch.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">pitch.js</span></a><a href="../../../apps/jukebox/web/flac.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">flac.js</span></a><a href="../../../apps/jukebox/web/id3v2.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">id3v2.js</span></a><a href="../../../apps/jukebox/web/index.js.html" class="source "><span class="base_path">apps / jukebox / web / </span><span class="file_name">index.js</span></a><a href="../../../apps/jukebox/config/config.js.html" class="source "><span class="base_path">apps / jukebox / config / </span><span class="file_name">config.js</span></a><a href="../../../apps/jukebox/index.js.html" class="source "><span class="base_path">apps / jukebox / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/songs/index.js.html" class="source "><span class="base_path">endPoints / songs / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/apps/index.js.html" class="source "><span class="base_path">endPoints / apps / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/files/index.js.html" class="source "><span class="base_path">endPoints / files / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/auth/index.js.html" class="source "><span class="base_path">endPoints / auth / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/users/index.js.html" class="source "><span class="base_path">endPoints / users / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/collections/index.js.html" class="source "><span class="base_path">endPoints / collections / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/chat/index.js.html" class="source "><span class="base_path">endPoints / chat / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/songr/index.js.html" class="source "><span class="base_path">endPoints / songr / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/fs/index.js.html" class="source "><span class="base_path">endPoints / fs / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/songq/index.js.html" class="source "><span class="base_path">endPoints / songq / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/artists/index.js.html" class="source "><span class="base_path">endPoints / artists / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/albums/index.js.html" class="source "><span class="base_path">endPoints / albums / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/songp/index.js.html" class="source "><span class="base_path">endPoints / songp / </span><span class="file_name">index.js</span></a><a href="../../../endPoints/index.js.html" class="source "><span class="base_path">endPoints / </span><span class="file_name">index.js</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>mp3.js</h1><div class="filepath">apps/jukebox/web/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div>
</td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>


<span class="kr">const</span> <span class="nx">LATIN1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nx">UTF16BOM</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
      <span class="nx">UTF16BE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nx">UTF8</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">ID3Stream</span> <span class="o">=</span> <span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="nx">stream</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">header</span> <span class="o">=</span> <span class="nx">header</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">stream</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">},</span>
    
    <span class="nx">read</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>
            </pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><p>read all frames</p>
</td><td class="code"><div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">frame</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="nx">frame</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">readFrame</span><span class="p">())</span> <span class="p">{</span></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><p>if we already have an instance of this key, add it to an array</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">if</span> <span class="p">(</span><span class="nx">frame</span><span class="p">.</span><span class="nx">key</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">frame</span><span class="p">.</span><span class="nx">key</span><span class="p">]))</span>
                        <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">frame</span><span class="p">.</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">frame</span><span class="p">.</span><span class="nx">key</span><span class="p">]];</span>
                        
                    <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">frame</span><span class="p">.</span><span class="nx">key</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">frame</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">frame</span><span class="p">.</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
    <span class="p">},</span>
    
    <span class="nx">readFrame</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span> <span class="o">&gt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
        </pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>get the header    </p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">readHeader</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">decoder</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">identifier</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">identifier</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">offset</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><p>map common frame names to a single type</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">frameTypes</span><span class="p">[</span><span class="nx">decoder</span><span class="p">])</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">decoder</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">decoder</span> <span class="o">=</span> <span class="nx">key</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">frameTypes</span><span class="p">[</span><span class="nx">decoder</span><span class="p">])</span> <span class="p">{</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><p>decode the frame</p>
</td><td class="code"><div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">frame</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">decodeFrame</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">frameTypes</span><span class="p">[</span><span class="nx">decoder</span><span class="p">]),</span>
                <span class="nx">keys</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">frame</span><span class="p">);</span>
            </pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><p>if it only returned one key, use that as the value    </p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span>
                <span class="nx">frame</span> <span class="o">=</span> <span class="nx">frame</span><span class="p">[</span><span class="nx">keys</span><span class="p">[</span><span class="mi">0</span><span class="p">]];</span>
            
            <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">frame</span>
            <span class="p">};</span>
            
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div></td></tr><tr id="section-8"><td class="docs"><div class="pilwrap"><a href="#section-8" class="pilcrow">&#182;</a></div><p>No frame type found, treat it as binary</p>
</td><td class="code"><div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readBuffer</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="p">))</span>
            <span class="p">};</span>
        <span class="p">}</span>

        <span class="nx">result</span><span class="p">.</span><span class="nx">key</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">names</span><span class="p">[</span><span class="nx">header</span><span class="p">.</span><span class="nx">identifier</span><span class="p">]</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">names</span><span class="p">[</span><span class="nx">header</span><span class="p">.</span><span class="nx">identifier</span><span class="p">]</span> <span class="o">:</span> <span class="nx">header</span><span class="p">.</span><span class="nx">identifier</span><span class="p">;</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">offset</span> <span class="o">+=</span> <span class="mi">10</span> <span class="o">+</span> <span class="nx">header</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
    <span class="p">},</span>
        
    <span class="nx">readString</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">encoding</span><span class="p">,</span> <span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">littleEndian</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">length</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="nx">length</span> <span class="o">=</span> <span class="kc">Infinity</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">length</span> <span class="o">+</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">;</span>
        
        <span class="k">switch</span> <span class="p">(</span><span class="nx">encoding</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="nx">LATIN1</span><span class="o">:</span>
                <span class="kd">var</span> <span class="nx">c</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span> <span class="o">&lt;</span> <span class="nx">end</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">c</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">()))</span>
                    <span class="nx">result</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span>
                
                <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
                
            <span class="k">case</span> <span class="nx">UTF16BOM</span><span class="o">:</span>
                <span class="kd">var</span> <span class="nx">bom</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">||</span> <span class="p">(</span><span class="nx">bom</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt16</span><span class="p">())</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
                
                <span class="nx">littleEndian</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bom</span> <span class="o">===</span> <span class="mh">0xfffe</span><span class="p">);</span></pre></div></td></tr><tr id="section-9"><td class="docs"><div class="pilwrap"><a href="#section-9" class="pilcrow">&#182;</a></div><p>fall through</p>
</td><td class="code"><div class="highlight"><pre>                
            <span class="k">case</span> <span class="nx">UTF16BE</span><span class="o">:</span>
                <span class="kd">var</span> <span class="nx">w1</span><span class="p">,</span> <span class="nx">w2</span><span class="p">;</span>
                
                <span class="k">while</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span> <span class="o">&lt;</span> <span class="nx">end</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">w1</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt16</span><span class="p">(</span><span class="nx">littleEndian</span><span class="p">)))</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">w1</span> <span class="o">&lt;</span> <span class="mh">0xd800</span> <span class="o">||</span> <span class="nx">w1</span> <span class="o">&gt;</span> <span class="mh">0xdfff</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">result</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">w1</span><span class="p">);</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nx">w1</span> <span class="o">&gt;</span> <span class="mh">0xdbff</span> <span class="o">||</span> <span class="o">!</span><span class="nx">stream</span><span class="p">.</span><span class="nx">available</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
                            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Invalid UTF16 sequence.&quot;</span><span class="p">);</span>
                            
                        <span class="nx">w2</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt16</span><span class="p">(</span><span class="nx">littleEndian</span><span class="p">);</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nx">w2</span> <span class="o">&lt;</span> <span class="mh">0xdc00</span> <span class="o">||</span> <span class="nx">w2</span> <span class="o">&gt;</span> <span class="mh">0xdfff</span><span class="p">)</span>
                            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Invalid UTF16 sequence.&quot;</span><span class="p">);</span>
                            
                        <span class="nx">result</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">w1</span><span class="p">,</span> <span class="nx">w2</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                
                <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
                
            <span class="k">case</span> <span class="nx">UTF8</span><span class="o">:</span>
                <span class="kd">var</span> <span class="nx">b1</span><span class="p">,</span> <span class="nx">b2</span><span class="p">,</span> <span class="nx">b3</span><span class="p">;</span>
                
                <span class="k">while</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span> <span class="o">&lt;</span> <span class="nx">end</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">b1</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">()))</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">b1</span> <span class="o">&lt;</span> <span class="mh">0x80</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">result</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">b1</span><span class="p">);</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">b1</span> <span class="o">&gt;</span> <span class="mh">0xbf</span> <span class="o">&amp;&amp;</span> <span class="nx">b1</span> <span class="o">&lt;</span> <span class="mh">0xe0</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">b2</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">();</span>
                        <span class="nx">result</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(((</span><span class="nx">b1</span> <span class="o">&amp;</span> <span class="mi">31</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">b2</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">));</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="nx">b2</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">();</span>
                        <span class="nx">b3</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">();</span>
                        <span class="nx">result</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(((</span><span class="nx">b1</span> <span class="o">&amp;</span> <span class="mi">15</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="nx">b2</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">b3</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">));</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                
                <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
            
            <span class="k">default</span><span class="o">:</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Unknown encoding&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">},</span>
    
    <span class="nx">decodeFrame</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">header</span><span class="p">,</span> <span class="nx">fields</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">,</span>
            <span class="nx">start</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">;</span>
            
        <span class="kd">var</span> <span class="nx">encoding</span> <span class="o">=</span> <span class="nx">LATIN1</span><span class="p">,</span> <span class="nx">ret</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="kd">var</span> <span class="nx">len</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">fields</span><span class="p">).</span><span class="nx">length</span><span class="p">,</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">fields</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="nx">fields</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
            <span class="kd">var</span> <span class="nx">rest</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span> <span class="o">-</span> <span class="nx">start</span><span class="p">);</span>
            <span class="nx">i</span><span class="o">++</span><span class="p">;</span>
            </pre></div></td></tr><tr id="section-10"><td class="docs"><div class="pilwrap"><a href="#section-10" class="pilcrow">&#182;</a></div><p>check for special field names</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">switch</span> <span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">case</span> <span class="s1">&#39;encoding&#39;</span><span class="o">:</span>
                    <span class="nx">encoding</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">();</span>
                    <span class="k">continue</span><span class="p">;</span>
                
                <span class="k">case</span> <span class="s1">&#39;language&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">.</span><span class="nx">language</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readString</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
                    <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            </pre></div></td></tr><tr id="section-11"><td class="docs"><div class="pilwrap"><a href="#section-11" class="pilcrow">&#182;</a></div><p>check types</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">switch</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>                    
                <span class="k">case</span> <span class="s1">&#39;latin1&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">readString</span><span class="p">(</span><span class="nx">LATIN1</span><span class="p">,</span> <span class="nx">i</span> <span class="o">===</span> <span class="nx">len</span> <span class="o">?</span> <span class="nx">rest</span> <span class="o">:</span> <span class="kc">null</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">case</span> <span class="s1">&#39;string&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">readString</span><span class="p">(</span><span class="nx">encoding</span><span class="p">,</span> <span class="nx">i</span> <span class="o">===</span> <span class="nx">len</span> <span class="o">?</span> <span class="nx">rest</span> <span class="o">:</span> <span class="kc">null</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">case</span> <span class="s1">&#39;binary&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readBuffer</span><span class="p">(</span><span class="nx">rest</span><span class="p">)</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">case</span> <span class="s1">&#39;int16&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readInt16</span><span class="p">();</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">case</span> <span class="s1">&#39;int8&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readInt8</span><span class="p">();</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">case</span> <span class="s1">&#39;int24&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readInt24</span><span class="p">();</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">case</span> <span class="s1">&#39;int32&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readInt32</span><span class="p">();</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">case</span> <span class="s1">&#39;int32+&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readInt32</span><span class="p">();</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">rest</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">)</span>
                        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Seriously dude? Stop playing this song and get a life!&#39;</span><span class="p">);</span>
                        
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">case</span> <span class="s1">&#39;date&#39;</span><span class="o">:</span>
                    <span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readString</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">val</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="nx">val</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">val</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">));</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">case</span> <span class="s1">&#39;frame_id&#39;</span><span class="o">:</span>
                    <span class="nx">ret</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readString</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="k">default</span><span class="o">:</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Unknown key type &#39;</span> <span class="o">+</span> <span class="nx">type</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-12"><td class="docs"><div class="pilwrap"><a href="#section-12" class="pilcrow">&#182;</a></div><p>Just in case something went wrong...</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">rest</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span> <span class="o">-</span> <span class="nx">start</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">rest</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">rest</span><span class="p">);</span>
        
        <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span></pre></div></td></tr><tr id="section-13"><td class="docs"><div class="pilwrap"><a href="#section-13" class="pilcrow">&#182;</a></div><p>ID3 v2.3 and v2.4 support</p>
</td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ID3v23Stream</span> <span class="o">=</span> <span class="nx">ID3Stream</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">readHeader</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">identifier</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readString</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>        
        <span class="kd">var</span> <span class="nx">length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">major</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
                <span class="nx">length</span> <span class="o">=</span> <span class="p">(</span><span class="nx">length</span> <span class="o">&lt;&lt;</span> <span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">()</span> <span class="o">&amp;</span> <span class="mh">0x7f</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">length</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt32</span><span class="p">();</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">identifier</span><span class="o">:</span> <span class="nx">identifier</span><span class="p">,</span>
            <span class="nx">length</span><span class="o">:</span> <span class="nx">length</span><span class="p">,</span>
            <span class="nx">flags</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt16</span><span class="p">()</span>
        <span class="p">};</span>
    <span class="p">},</span>
    
    <span class="nx">map</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">text</span><span class="o">:</span> <span class="p">[</span></pre></div></td></tr><tr id="section-14"><td class="docs"><div class="pilwrap"><a href="#section-14" class="pilcrow">&#182;</a></div><p>Identification Frames</p>
</td><td class="code"><div class="highlight"><pre>            <span class="s1">&#39;TIT1&#39;</span><span class="p">,</span> <span class="s1">&#39;TIT2&#39;</span><span class="p">,</span> <span class="s1">&#39;TIT3&#39;</span><span class="p">,</span> <span class="s1">&#39;TALB&#39;</span><span class="p">,</span> <span class="s1">&#39;TOAL&#39;</span><span class="p">,</span> <span class="s1">&#39;TRCK&#39;</span><span class="p">,</span> <span class="s1">&#39;TPOS&#39;</span><span class="p">,</span> <span class="s1">&#39;TSST&#39;</span><span class="p">,</span> <span class="s1">&#39;TSRC&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-15"><td class="docs"><div class="pilwrap"><a href="#section-15" class="pilcrow">&#182;</a></div><p>Involved Persons Frames</p>
</td><td class="code"><div class="highlight"><pre>            <span class="s1">&#39;TPE1&#39;</span><span class="p">,</span> <span class="s1">&#39;TPE2&#39;</span><span class="p">,</span> <span class="s1">&#39;TPE3&#39;</span><span class="p">,</span> <span class="s1">&#39;TPE4&#39;</span><span class="p">,</span> <span class="s1">&#39;TOPE&#39;</span><span class="p">,</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">,</span> <span class="s1">&#39;TOLY&#39;</span><span class="p">,</span> <span class="s1">&#39;TCOM&#39;</span><span class="p">,</span> <span class="s1">&#39;TMCL&#39;</span><span class="p">,</span> <span class="s1">&#39;TIPL&#39;</span><span class="p">,</span> <span class="s1">&#39;TENC&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-16"><td class="docs"><div class="pilwrap"><a href="#section-16" class="pilcrow">&#182;</a></div><p>Derived and Subjective Properties Frames</p>
</td><td class="code"><div class="highlight"><pre>            <span class="s1">&#39;TBPM&#39;</span><span class="p">,</span> <span class="s1">&#39;TLEN&#39;</span><span class="p">,</span> <span class="s1">&#39;TKEY&#39;</span><span class="p">,</span> <span class="s1">&#39;TLAN&#39;</span><span class="p">,</span> <span class="s1">&#39;TCON&#39;</span><span class="p">,</span> <span class="s1">&#39;TFLT&#39;</span><span class="p">,</span> <span class="s1">&#39;TMED&#39;</span><span class="p">,</span> <span class="s1">&#39;TMOO&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-17"><td class="docs"><div class="pilwrap"><a href="#section-17" class="pilcrow">&#182;</a></div><p>Rights and Licence Frames</p>
</td><td class="code"><div class="highlight"><pre>            <span class="s1">&#39;TCOP&#39;</span><span class="p">,</span> <span class="s1">&#39;TPRO&#39;</span><span class="p">,</span> <span class="s1">&#39;TPUB&#39;</span><span class="p">,</span> <span class="s1">&#39;TOWN&#39;</span><span class="p">,</span> <span class="s1">&#39;TRSN&#39;</span><span class="p">,</span> <span class="s1">&#39;TRSO&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-18"><td class="docs"><div class="pilwrap"><a href="#section-18" class="pilcrow">&#182;</a></div><p>Other Text Frames</p>
</td><td class="code"><div class="highlight"><pre>            <span class="s1">&#39;TOFN&#39;</span><span class="p">,</span> <span class="s1">&#39;TDLY&#39;</span><span class="p">,</span> <span class="s1">&#39;TDEN&#39;</span><span class="p">,</span> <span class="s1">&#39;TDOR&#39;</span><span class="p">,</span> <span class="s1">&#39;TDRC&#39;</span><span class="p">,</span> <span class="s1">&#39;TDRL&#39;</span><span class="p">,</span> <span class="s1">&#39;TDTG&#39;</span><span class="p">,</span> <span class="s1">&#39;TSSE&#39;</span><span class="p">,</span> <span class="s1">&#39;TSOA&#39;</span><span class="p">,</span> <span class="s1">&#39;TSOP&#39;</span><span class="p">,</span> <span class="s1">&#39;TSOT&#39;</span><span class="p">,</span>
            </pre></div></td></tr><tr id="section-19"><td class="docs"><div class="pilwrap"><a href="#section-19" class="pilcrow">&#182;</a></div><p>Deprecated Text Frames</p>
</td><td class="code"><div class="highlight"><pre>            <span class="s1">&#39;TDAT&#39;</span><span class="p">,</span> <span class="s1">&#39;TIME&#39;</span><span class="p">,</span> <span class="s1">&#39;TORY&#39;</span><span class="p">,</span> <span class="s1">&#39;TRDA&#39;</span><span class="p">,</span> <span class="s1">&#39;TSIZ&#39;</span><span class="p">,</span> <span class="s1">&#39;TYER&#39;</span><span class="p">,</span>
            </pre></div></td></tr><tr id="section-20"><td class="docs"><div class="pilwrap"><a href="#section-20" class="pilcrow">&#182;</a></div><p>Non-standard iTunes Frames</p>
</td><td class="code"><div class="highlight"><pre>            <span class="s1">&#39;TCMP&#39;</span><span class="p">,</span> <span class="s1">&#39;TSO2&#39;</span><span class="p">,</span> <span class="s1">&#39;TSOC&#39;</span>
        <span class="p">],</span>
        
        <span class="nx">url</span><span class="o">:</span> <span class="p">[</span>
            <span class="s1">&#39;WCOM&#39;</span><span class="p">,</span> <span class="s1">&#39;WCOP&#39;</span><span class="p">,</span> <span class="s1">&#39;WOAF&#39;</span><span class="p">,</span> <span class="s1">&#39;WOAR&#39;</span><span class="p">,</span> <span class="s1">&#39;WOAS&#39;</span><span class="p">,</span> <span class="s1">&#39;WORS&#39;</span><span class="p">,</span> <span class="s1">&#39;WPAY&#39;</span><span class="p">,</span> <span class="s1">&#39;WPUB&#39;</span>
        <span class="p">]</span>
    <span class="p">},</span>
    
    <span class="nx">frameTypes</span><span class="o">:</span> <span class="p">{</span>        
        <span class="nx">text</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">url</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">TXXX</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">WXXX</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
        <span class="p">},</span>
        
        <span class="nx">USLT</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">language</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">COMM</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">language</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">APIC</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">mime</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">UFID</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">owner</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>

        <span class="nx">MCDI</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">PRIV</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">owner</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">GEOB</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">mime</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">filename</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">PCNT</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;int32+&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">POPM</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">rating</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">counter</span><span class="o">:</span> <span class="s1">&#39;int32+&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">AENC</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">owner</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">previewStart</span><span class="o">:</span> <span class="s1">&#39;int16&#39;</span><span class="p">,</span>
            <span class="nx">previewLength</span><span class="o">:</span> <span class="s1">&#39;int16&#39;</span><span class="p">,</span>
            <span class="nx">encryptionInfo</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">ETCO</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">format</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>  <span class="c1">// TODO</span>
        <span class="p">},</span>
        
        <span class="nx">MLLT</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">framesBetweenReference</span><span class="o">:</span> <span class="s1">&#39;int16&#39;</span><span class="p">,</span>
            <span class="nx">bytesBetweenReference</span><span class="o">:</span> <span class="s1">&#39;int24&#39;</span><span class="p">,</span>
            <span class="nx">millisecondsBetweenReference</span><span class="o">:</span> <span class="s1">&#39;int24&#39;</span><span class="p">,</span>
            <span class="nx">bitsForBytesDeviation</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">bitsForMillisecondsDev</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO</span>
        <span class="p">},</span>
        
        <span class="nx">SYTC</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">format</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">tempoData</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO</span>
        <span class="p">},</span>
        
        <span class="nx">SYLT</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">language</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">format</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">contentType</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO</span>
        <span class="p">},</span>
        
        <span class="nx">RVA2</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">identification</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO</span>
        <span class="p">},</span>
        
        <span class="nx">EQU2</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">interpolationMethod</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">identification</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO</span>
        <span class="p">},</span>
        
        <span class="nx">RVRB</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">left</span><span class="o">:</span> <span class="s1">&#39;int16&#39;</span><span class="p">,</span>
            <span class="nx">right</span><span class="o">:</span> <span class="s1">&#39;int16&#39;</span><span class="p">,</span>
            <span class="nx">bouncesLeft</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">bouncesRight</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">feedbackLL</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">feedbackLR</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">feedbackRR</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">feedbackRL</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">premixLR</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">premixRL</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">RBUF</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">size</span><span class="o">:</span> <span class="s1">&#39;int24&#39;</span><span class="p">,</span>
            <span class="nx">flag</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">offset</span><span class="o">:</span> <span class="s1">&#39;int32&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">LINK</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;frame_id&#39;</span><span class="p">,</span>
            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO stringlist?</span>
        <span class="p">},</span>
        
        <span class="nx">POSS</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">format</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO</span>
        <span class="p">},</span>
        
        <span class="nx">USER</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">language</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">OWNE</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">price</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">purchaseDate</span><span class="o">:</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span>
            <span class="nx">seller</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">COMR</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">price</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">validUntil</span><span class="o">:</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span>
            <span class="nx">contactURL</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">receivedAs</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">seller</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">logoMime</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">logo</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">ENCR</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">owner</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">methodSymbol</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">GRID</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">owner</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">groupSymbol</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">SIGN</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">groupSymbol</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">signature</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">SEEK</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;int32&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">ASPI</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">dataStart</span><span class="o">:</span> <span class="s1">&#39;int32&#39;</span><span class="p">,</span>
            <span class="nx">dataLength</span><span class="o">:</span> <span class="s1">&#39;int32&#39;</span><span class="p">,</span>
            <span class="nx">numPoints</span><span class="o">:</span> <span class="s1">&#39;int16&#39;</span><span class="p">,</span>
            <span class="nx">bitsPerPoint</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO</span>
        <span class="p">},</span>
        </pre></div></td></tr><tr id="section-21"><td class="docs"><div class="pilwrap"><a href="#section-21" class="pilcrow">&#182;</a></div><p>Deprecated ID3 v2.3 frames</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">IPLS</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span> <span class="c1">// list?</span>
        <span class="p">},</span>
        
        <span class="nx">RVAD</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">adjustment</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">bits</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO</span>
        <span class="p">},</span>
        
        <span class="nx">EQUA</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">adjustmentBits</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span> <span class="c1">// TODO</span>
        <span class="p">}</span>
    <span class="p">},</span>
    
    <span class="nx">names</span><span class="o">:</span> <span class="p">{</span></pre></div></td></tr><tr id="section-22"><td class="docs"><div class="pilwrap"><a href="#section-22" class="pilcrow">&#182;</a></div><p>Identification Frames</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;TIT1&#39;</span><span class="o">:</span> <span class="s1">&#39;grouping&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TIT2&#39;</span><span class="o">:</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TIT3&#39;</span><span class="o">:</span> <span class="s1">&#39;subtitle&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TALB&#39;</span><span class="o">:</span> <span class="s1">&#39;album&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOAL&#39;</span><span class="o">:</span> <span class="s1">&#39;originalAlbumTitle&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRCK&#39;</span><span class="o">:</span> <span class="s1">&#39;trackNumber&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TPOS&#39;</span><span class="o">:</span> <span class="s1">&#39;diskNumber&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSST&#39;</span><span class="o">:</span> <span class="s1">&#39;setSubtitle&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSRC&#39;</span><span class="o">:</span> <span class="s1">&#39;ISRC&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-23"><td class="docs"><div class="pilwrap"><a href="#section-23" class="pilcrow">&#182;</a></div><p>Involved Persons Frames</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;TPE1&#39;</span><span class="o">:</span> <span class="s1">&#39;artist&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TPE2&#39;</span><span class="o">:</span> <span class="s1">&#39;albumArtist&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TPE3&#39;</span><span class="o">:</span> <span class="s1">&#39;conductor&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TPE4&#39;</span><span class="o">:</span> <span class="s1">&#39;modifiedBy&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOPE&#39;</span><span class="o">:</span> <span class="s1">&#39;originalArtist&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TEXT&#39;</span><span class="o">:</span> <span class="s1">&#39;lyricist&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOLY&#39;</span><span class="o">:</span> <span class="s1">&#39;originalLyricist&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TCOM&#39;</span><span class="o">:</span> <span class="s1">&#39;composer&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TMCL&#39;</span><span class="o">:</span> <span class="s1">&#39;musicianCreditsList&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TIPL&#39;</span><span class="o">:</span> <span class="s1">&#39;involvedPeopleList&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TENC&#39;</span><span class="o">:</span> <span class="s1">&#39;encodedBy&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-24"><td class="docs"><div class="pilwrap"><a href="#section-24" class="pilcrow">&#182;</a></div><p>Derived and Subjective Properties Frames</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;TBPM&#39;</span><span class="o">:</span> <span class="s1">&#39;tempo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TLEN&#39;</span><span class="o">:</span> <span class="s1">&#39;length&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TKEY&#39;</span><span class="o">:</span> <span class="s1">&#39;initialKey&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TLAN&#39;</span><span class="o">:</span> <span class="s1">&#39;language&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TCON&#39;</span><span class="o">:</span> <span class="s1">&#39;genre&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TFLT&#39;</span><span class="o">:</span> <span class="s1">&#39;fileType&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TMED&#39;</span><span class="o">:</span> <span class="s1">&#39;mediaType&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TMOO&#39;</span><span class="o">:</span> <span class="s1">&#39;mood&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-25"><td class="docs"><div class="pilwrap"><a href="#section-25" class="pilcrow">&#182;</a></div><p>Rights and Licence Frames</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;TCOP&#39;</span><span class="o">:</span> <span class="s1">&#39;copyright&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TPRO&#39;</span><span class="o">:</span> <span class="s1">&#39;producedNotice&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TPUB&#39;</span><span class="o">:</span> <span class="s1">&#39;publisher&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOWN&#39;</span><span class="o">:</span> <span class="s1">&#39;fileOwner&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRSN&#39;</span><span class="o">:</span> <span class="s1">&#39;internetRadioStationName&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRSO&#39;</span><span class="o">:</span> <span class="s1">&#39;internetRadioStationOwner&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-26"><td class="docs"><div class="pilwrap"><a href="#section-26" class="pilcrow">&#182;</a></div><p>Other Text Frames</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;TOFN&#39;</span><span class="o">:</span> <span class="s1">&#39;originalFilename&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TDLY&#39;</span><span class="o">:</span> <span class="s1">&#39;playlistDelay&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TDEN&#39;</span><span class="o">:</span> <span class="s1">&#39;encodingTime&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TDOR&#39;</span><span class="o">:</span> <span class="s1">&#39;originalReleaseTime&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TDRC&#39;</span><span class="o">:</span> <span class="s1">&#39;recordingTime&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TDRL&#39;</span><span class="o">:</span> <span class="s1">&#39;releaseTime&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TDTG&#39;</span><span class="o">:</span> <span class="s1">&#39;taggingTime&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSSE&#39;</span><span class="o">:</span> <span class="s1">&#39;encodedWith&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSOA&#39;</span><span class="o">:</span> <span class="s1">&#39;albumSortOrder&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSOP&#39;</span><span class="o">:</span> <span class="s1">&#39;performerSortOrder&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSOT&#39;</span><span class="o">:</span> <span class="s1">&#39;titleSortOrder&#39;</span><span class="p">,</span>
        </pre></div></td></tr><tr id="section-27"><td class="docs"><div class="pilwrap"><a href="#section-27" class="pilcrow">&#182;</a></div><p>User defined text information</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;TXXX&#39;</span><span class="o">:</span> <span class="s1">&#39;userText&#39;</span><span class="p">,</span>
        </pre></div></td></tr><tr id="section-28"><td class="docs"><div class="pilwrap"><a href="#section-28" class="pilcrow">&#182;</a></div><p>Unsynchronised lyrics/text transcription</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;USLT&#39;</span><span class="o">:</span> <span class="s1">&#39;lyrics&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-29"><td class="docs"><div class="pilwrap"><a href="#section-29" class="pilcrow">&#182;</a></div><p>Attached Picture Frame</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;APIC&#39;</span><span class="o">:</span> <span class="s1">&#39;coverArt&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-30"><td class="docs"><div class="pilwrap"><a href="#section-30" class="pilcrow">&#182;</a></div><p>Unique Identifier Frame</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;UFID&#39;</span><span class="o">:</span> <span class="s1">&#39;uniqueIdentifier&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-31"><td class="docs"><div class="pilwrap"><a href="#section-31" class="pilcrow">&#182;</a></div><p>Music CD Identifier Frame</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;MCDI&#39;</span><span class="o">:</span> <span class="s1">&#39;CDIdentifier&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-32"><td class="docs"><div class="pilwrap"><a href="#section-32" class="pilcrow">&#182;</a></div><p>Comment Frame</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;COMM&#39;</span><span class="o">:</span> <span class="s1">&#39;comments&#39;</span><span class="p">,</span>
        </pre></div></td></tr><tr id="section-33"><td class="docs"><div class="pilwrap"><a href="#section-33" class="pilcrow">&#182;</a></div><p>URL link frames</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;WCOM&#39;</span><span class="o">:</span> <span class="s1">&#39;commercialInformation&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WCOP&#39;</span><span class="o">:</span> <span class="s1">&#39;copyrightInformation&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WOAF&#39;</span><span class="o">:</span> <span class="s1">&#39;officialAudioFileWebpage&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WOAR&#39;</span><span class="o">:</span> <span class="s1">&#39;officialArtistWebpage&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WOAS&#39;</span><span class="o">:</span> <span class="s1">&#39;officialAudioSourceWebpage&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WORS&#39;</span><span class="o">:</span> <span class="s1">&#39;officialInternetRadioStationHomepage&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WPAY&#39;</span><span class="o">:</span> <span class="s1">&#39;payment&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WPUB&#39;</span><span class="o">:</span> <span class="s1">&#39;officialPublisherWebpage&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-34"><td class="docs"><div class="pilwrap"><a href="#section-34" class="pilcrow">&#182;</a></div><p>User Defined URL Link Frame</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;WXXX&#39;</span><span class="o">:</span> <span class="s1">&#39;url&#39;</span><span class="p">,</span>

        <span class="s1">&#39;PRIV&#39;</span><span class="o">:</span> <span class="s1">&#39;private&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GEOB&#39;</span><span class="o">:</span> <span class="s1">&#39;generalEncapsulatedObject&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PCNT&#39;</span><span class="o">:</span> <span class="s1">&#39;playCount&#39;</span><span class="p">,</span>
        <span class="s1">&#39;POPM&#39;</span><span class="o">:</span> <span class="s1">&#39;rating&#39;</span><span class="p">,</span>
        <span class="s1">&#39;AENC&#39;</span><span class="o">:</span> <span class="s1">&#39;audioEncryption&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ETCO&#39;</span><span class="o">:</span> <span class="s1">&#39;eventTimingCodes&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MLLT&#39;</span><span class="o">:</span> <span class="s1">&#39;MPEGLocationLookupTable&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SYTC&#39;</span><span class="o">:</span> <span class="s1">&#39;synchronisedTempoCodes&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SYLT&#39;</span><span class="o">:</span> <span class="s1">&#39;synchronisedLyrics&#39;</span><span class="p">,</span>
        <span class="s1">&#39;RVA2&#39;</span><span class="o">:</span> <span class="s1">&#39;volumeAdjustment&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EQU2&#39;</span><span class="o">:</span> <span class="s1">&#39;equalization&#39;</span><span class="p">,</span>
        <span class="s1">&#39;RVRB&#39;</span><span class="o">:</span> <span class="s1">&#39;reverb&#39;</span><span class="p">,</span>
        <span class="s1">&#39;RBUF&#39;</span><span class="o">:</span> <span class="s1">&#39;recommendedBufferSize&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LINK&#39;</span><span class="o">:</span> <span class="s1">&#39;link&#39;</span><span class="p">,</span>
        <span class="s1">&#39;POSS&#39;</span><span class="o">:</span> <span class="s1">&#39;positionSynchronisation&#39;</span><span class="p">,</span>
        <span class="s1">&#39;USER&#39;</span><span class="o">:</span> <span class="s1">&#39;termsOfUse&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OWNE&#39;</span><span class="o">:</span> <span class="s1">&#39;ownership&#39;</span><span class="p">,</span>
        <span class="s1">&#39;COMR&#39;</span><span class="o">:</span> <span class="s1">&#39;commercial&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ENCR&#39;</span><span class="o">:</span> <span class="s1">&#39;encryption&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GRID&#39;</span><span class="o">:</span> <span class="s1">&#39;groupIdentifier&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SIGN&#39;</span><span class="o">:</span> <span class="s1">&#39;signature&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SEEK&#39;</span><span class="o">:</span> <span class="s1">&#39;seek&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ASPI&#39;</span><span class="o">:</span> <span class="s1">&#39;audioSeekPointIndex&#39;</span><span class="p">,</span></pre></div></td></tr><tr id="section-35"><td class="docs"><div class="pilwrap"><a href="#section-35" class="pilcrow">&#182;</a></div><p>Deprecated ID3 v2.3 frames</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;TDAT&#39;</span><span class="o">:</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TIME&#39;</span><span class="o">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TORY&#39;</span><span class="o">:</span> <span class="s1">&#39;originalReleaseYear&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRDA&#39;</span><span class="o">:</span> <span class="s1">&#39;recordingDates&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSIZ&#39;</span><span class="o">:</span> <span class="s1">&#39;size&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TYER&#39;</span><span class="o">:</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span>
        <span class="s1">&#39;IPLS&#39;</span><span class="o">:</span> <span class="s1">&#39;involvedPeopleList&#39;</span><span class="p">,</span>
        <span class="s1">&#39;RVAD&#39;</span><span class="o">:</span> <span class="s1">&#39;volumeAdjustment&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EQUA&#39;</span><span class="o">:</span> <span class="s1">&#39;equalization&#39;</span><span class="p">,</span>
        </pre></div></td></tr><tr id="section-36"><td class="docs"><div class="pilwrap"><a href="#section-36" class="pilcrow">&#182;</a></div><p>Non-standard iTunes frames</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;TCMP&#39;</span><span class="o">:</span> <span class="s1">&#39;compilation&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSO2&#39;</span><span class="o">:</span> <span class="s1">&#39;albumArtistSortOrder&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSOC&#39;</span><span class="o">:</span> <span class="s1">&#39;composerSortOrder&#39;</span>
    <span class="p">}</span>
<span class="p">});</span></pre></div></td></tr><tr id="section-37"><td class="docs"><div class="pilwrap"><a href="#section-37" class="pilcrow">&#182;</a></div><p>ID3 v2.2 support</p>
</td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ID3v22Stream</span> <span class="o">=</span> <span class="nx">ID3v23Stream</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>    
    <span class="nx">readHeader</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readString</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">frameReplacements</span><span class="p">[</span><span class="nx">id</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">frameTypes</span><span class="p">[</span><span class="nx">id</span><span class="p">])</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">frameTypes</span><span class="p">[</span><span class="nx">id</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">frameReplacements</span><span class="p">[</span><span class="nx">id</span><span class="p">];</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">identifier</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">replacements</span><span class="p">[</span><span class="nx">id</span><span class="p">]</span> <span class="o">||</span> <span class="nx">id</span><span class="p">,</span>
            <span class="nx">length</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt24</span><span class="p">()</span>
        <span class="p">};</span>
    <span class="p">},</span>
    </pre></div></td></tr><tr id="section-38"><td class="docs"><div class="pilwrap"><a href="#section-38" class="pilcrow">&#182;</a></div><p>map 3 char ID3 v2.2 names to 4 char ID3 v2.3/4 names</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">replacements</span><span class="o">:</span> <span class="p">{</span>
        <span class="s1">&#39;UFI&#39;</span><span class="o">:</span> <span class="s1">&#39;UFID&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TT1&#39;</span><span class="o">:</span> <span class="s1">&#39;TIT1&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TT2&#39;</span><span class="o">:</span> <span class="s1">&#39;TIT2&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TT3&#39;</span><span class="o">:</span> <span class="s1">&#39;TIT3&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TP1&#39;</span><span class="o">:</span> <span class="s1">&#39;TPE1&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TP2&#39;</span><span class="o">:</span> <span class="s1">&#39;TPE2&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TP3&#39;</span><span class="o">:</span> <span class="s1">&#39;TPE3&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TP4&#39;</span><span class="o">:</span> <span class="s1">&#39;TPE4&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TCM&#39;</span><span class="o">:</span> <span class="s1">&#39;TCOM&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TXT&#39;</span><span class="o">:</span> <span class="s1">&#39;TEXT&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TLA&#39;</span><span class="o">:</span> <span class="s1">&#39;TLAN&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TCO&#39;</span><span class="o">:</span> <span class="s1">&#39;TCON&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TAL&#39;</span><span class="o">:</span> <span class="s1">&#39;TALB&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TPA&#39;</span><span class="o">:</span> <span class="s1">&#39;TPOS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRK&#39;</span><span class="o">:</span> <span class="s1">&#39;TRCK&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRC&#39;</span><span class="o">:</span> <span class="s1">&#39;TSRC&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TYE&#39;</span><span class="o">:</span> <span class="s1">&#39;TYER&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TDA&#39;</span><span class="o">:</span> <span class="s1">&#39;TDAT&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TIM&#39;</span><span class="o">:</span> <span class="s1">&#39;TIME&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRD&#39;</span><span class="o">:</span> <span class="s1">&#39;TRDA&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TMT&#39;</span><span class="o">:</span> <span class="s1">&#39;TMED&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TFT&#39;</span><span class="o">:</span> <span class="s1">&#39;TFLT&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TBP&#39;</span><span class="o">:</span> <span class="s1">&#39;TBPM&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TCR&#39;</span><span class="o">:</span> <span class="s1">&#39;TCOP&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TPB&#39;</span><span class="o">:</span> <span class="s1">&#39;TPUB&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TEN&#39;</span><span class="o">:</span> <span class="s1">&#39;TENC&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSS&#39;</span><span class="o">:</span> <span class="s1">&#39;TSSE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOF&#39;</span><span class="o">:</span> <span class="s1">&#39;TOFN&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TLE&#39;</span><span class="o">:</span> <span class="s1">&#39;TLEN&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSI&#39;</span><span class="o">:</span> <span class="s1">&#39;TSIZ&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TDY&#39;</span><span class="o">:</span> <span class="s1">&#39;TDLY&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TKE&#39;</span><span class="o">:</span> <span class="s1">&#39;TKEY&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOT&#39;</span><span class="o">:</span> <span class="s1">&#39;TOAL&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOA&#39;</span><span class="o">:</span> <span class="s1">&#39;TOPE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOL&#39;</span><span class="o">:</span> <span class="s1">&#39;TOLY&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOR&#39;</span><span class="o">:</span> <span class="s1">&#39;TORY&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TXX&#39;</span><span class="o">:</span> <span class="s1">&#39;TXXX&#39;</span><span class="p">,</span>
        
        <span class="s1">&#39;WAF&#39;</span><span class="o">:</span> <span class="s1">&#39;WOAF&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WAR&#39;</span><span class="o">:</span> <span class="s1">&#39;WOAR&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WAS&#39;</span><span class="o">:</span> <span class="s1">&#39;WOAS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WCM&#39;</span><span class="o">:</span> <span class="s1">&#39;WCOM&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WCP&#39;</span><span class="o">:</span> <span class="s1">&#39;WCOP&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WPB&#39;</span><span class="o">:</span> <span class="s1">&#39;WPUB&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WXX&#39;</span><span class="o">:</span> <span class="s1">&#39;WXXX&#39;</span><span class="p">,</span>
        
        <span class="s1">&#39;IPL&#39;</span><span class="o">:</span> <span class="s1">&#39;IPLS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MCI&#39;</span><span class="o">:</span> <span class="s1">&#39;MCDI&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ETC&#39;</span><span class="o">:</span> <span class="s1">&#39;ETCO&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MLL&#39;</span><span class="o">:</span> <span class="s1">&#39;MLLT&#39;</span><span class="p">,</span>
        <span class="s1">&#39;STC&#39;</span><span class="o">:</span> <span class="s1">&#39;SYTC&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ULT&#39;</span><span class="o">:</span> <span class="s1">&#39;USLT&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SLT&#39;</span><span class="o">:</span> <span class="s1">&#39;SYLT&#39;</span><span class="p">,</span>
        <span class="s1">&#39;COM&#39;</span><span class="o">:</span> <span class="s1">&#39;COMM&#39;</span><span class="p">,</span>
        <span class="s1">&#39;RVA&#39;</span><span class="o">:</span> <span class="s1">&#39;RVAD&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EQU&#39;</span><span class="o">:</span> <span class="s1">&#39;EQUA&#39;</span><span class="p">,</span>
        <span class="s1">&#39;REV&#39;</span><span class="o">:</span> <span class="s1">&#39;RVRB&#39;</span><span class="p">,</span>
        
        <span class="s1">&#39;GEO&#39;</span><span class="o">:</span> <span class="s1">&#39;GEOB&#39;</span><span class="p">,</span>
        <span class="s1">&#39;CNT&#39;</span><span class="o">:</span> <span class="s1">&#39;PCNT&#39;</span><span class="p">,</span>
        <span class="s1">&#39;POP&#39;</span><span class="o">:</span> <span class="s1">&#39;POPM&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BUF&#39;</span><span class="o">:</span> <span class="s1">&#39;RBUF&#39;</span><span class="p">,</span>
        <span class="s1">&#39;CRA&#39;</span><span class="o">:</span> <span class="s1">&#39;AENC&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LNK&#39;</span><span class="o">:</span> <span class="s1">&#39;LINK&#39;</span><span class="p">,</span>
        </pre></div></td></tr><tr id="section-39"><td class="docs"><div class="pilwrap"><a href="#section-39" class="pilcrow">&#182;</a></div><p>iTunes stuff</p>
</td><td class="code"><div class="highlight"><pre>        <span class="s1">&#39;TST&#39;</span><span class="o">:</span> <span class="s1">&#39;TSOT&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSP&#39;</span><span class="o">:</span> <span class="s1">&#39;TSOP&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSA&#39;</span><span class="o">:</span> <span class="s1">&#39;TSOA&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TCP&#39;</span><span class="o">:</span> <span class="s1">&#39;TCMP&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TS2&#39;</span><span class="o">:</span> <span class="s1">&#39;TSO2&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TSC&#39;</span><span class="o">:</span> <span class="s1">&#39;TSOC&#39;</span>
    <span class="p">},</span>
    </pre></div></td></tr><tr id="section-40"><td class="docs"><div class="pilwrap"><a href="#section-40" class="pilcrow">&#182;</a></div><p>replacements for ID3 v2.3/4 frames</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">frameReplacements</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">PIC</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">encoding</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">format</span><span class="o">:</span> <span class="s1">&#39;int24&#39;</span><span class="p">,</span>
            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">},</span>
        
        <span class="nx">CRM</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">owner</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="nx">MP3Demuxer</span> <span class="o">=</span> <span class="nx">Demuxer</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">Demuxer</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">probe</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">off</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">;</span>
        </pre></div></td></tr><tr id="section-41"><td class="docs"><div class="pilwrap"><a href="#section-41" class="pilcrow">&#182;</a></div><p>skip id3 metadata if it exists</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">id3header</span> <span class="o">=</span> <span class="nx">MP3Demuxer</span><span class="p">.</span><span class="nx">getID3v2Header</span><span class="p">(</span><span class="nx">stream</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">id3header</span><span class="p">)</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mi">10</span> <span class="o">+</span> <span class="nx">id3header</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
        </pre></div></td></tr><tr id="section-42"><td class="docs"><div class="pilwrap"><a href="#section-42" class="pilcrow">&#182;</a></div><p>attempt to read the header of the first audio frame</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MP3Stream</span><span class="p">(</span><span class="k">new</span> <span class="nx">Bitstream</span><span class="p">(</span><span class="nx">stream</span><span class="p">));</span>
        <span class="kd">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">decode</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
        </pre></div></td></tr><tr id="section-43"><td class="docs"><div class="pilwrap"><a href="#section-43" class="pilcrow">&#182;</a></div><p>go back to the beginning, for other probes</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">off</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">);</span>
        
        <span class="k">return</span> <span class="o">!!</span><span class="nx">header</span><span class="p">;</span>
    <span class="p">};</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">getID3v2Header</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">peekString</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;ID3&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">stream</span> <span class="o">=</span> <span class="nx">Stream</span><span class="p">.</span><span class="nx">fromBuffer</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">peekBuffer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// &#39;ID3&#39;</span>

            <span class="kd">var</span> <span class="nx">major</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">();</span>
            <span class="kd">var</span> <span class="nx">minor</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">();</span>
            <span class="kd">var</span> <span class="nx">flags</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt8</span><span class="p">();</span>
            <span class="kd">var</span> <span class="nx">bytes</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readBuffer</span><span class="p">(</span><span class="mi">4</span><span class="p">).</span><span class="nx">data</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">length</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">21</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">14</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">7</span><span class="p">)</span> <span class="o">|</span> <span class="nx">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

            <span class="k">return</span> <span class="p">{</span> 
                <span class="nx">version</span><span class="o">:</span> <span class="s1">&#39;2.&#39;</span> <span class="o">+</span> <span class="nx">major</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="nx">minor</span><span class="p">,</span> 
                <span class="nx">major</span><span class="o">:</span> <span class="nx">major</span><span class="p">,</span> 
                <span class="nx">minor</span><span class="o">:</span> <span class="nx">minor</span><span class="p">,</span> 
                <span class="nx">flags</span><span class="o">:</span> <span class="nx">flags</span><span class="p">,</span> 
                <span class="nx">length</span><span class="o">:</span> <span class="nx">length</span> 
            <span class="p">};</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">};</span>
    
    <span class="kr">const</span> <span class="nx">XING_OFFSETS</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">32</span><span class="p">,</span> <span class="mi">17</span><span class="p">],</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">9</span><span class="p">]];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">parseDuration</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">header</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">frames</span><span class="p">;</span>
                
        <span class="kd">var</span> <span class="nx">offset</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">header</span> <span class="o">||</span> <span class="nx">header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">!==</span> <span class="mi">3</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        </pre></div></td></tr><tr id="section-44"><td class="docs"><div class="pilwrap"><a href="#section-44" class="pilcrow">&#182;</a></div><p>Check for Xing/Info tag</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">XING_OFFSETS</span><span class="p">[</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">][</span><span class="nx">header</span><span class="p">.</span><span class="nx">nchannels</span><span class="p">()</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">]);</span>
        <span class="kd">var</span> <span class="nx">tag</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readString</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">tag</span> <span class="o">===</span> <span class="s1">&#39;Xing&#39;</span> <span class="o">||</span> <span class="nx">tag</span> <span class="o">===</span> <span class="s1">&#39;Info&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">flags</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt32</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">)</span> 
                <span class="nx">frames</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt32</span><span class="p">();</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-45"><td class="docs"><div class="pilwrap"><a href="#section-45" class="pilcrow">&#182;</a></div><p>Check for VBRI tag (always 32 bytes after end of mpegaudio header)</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">offset</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">32</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">);</span>
        <span class="nx">tag</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readString</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">tag</span> <span class="o">==</span> <span class="s1">&#39;VBRI&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt16</span><span class="p">()</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Check tag version</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="c1">// skip delay and quality</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="c1">// skip size</span>
            <span class="nx">frames</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readUInt32</span><span class="p">();</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">frames</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
            
        <span class="kd">var</span> <span class="nx">samplesPerFrame</span> <span class="o">=</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">)</span> <span class="o">?</span> <span class="mi">576</span> <span class="o">:</span> <span class="mi">1152</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">frames</span> <span class="o">*</span> <span class="nx">samplesPerFrame</span><span class="p">)</span> <span class="o">/</span> <span class="nx">header</span><span class="p">.</span><span class="nx">samplerate</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">|</span> <span class="mi">0</span><span class="p">);</span>
            
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">readChunk</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">sentInfo</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-46"><td class="docs"><div class="pilwrap"><a href="#section-46" class="pilcrow">&#182;</a></div><p>read id3 metadata if it exists</p>
</td><td class="code"><div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">id3header</span> <span class="o">=</span> <span class="nx">MP3Demuxer</span><span class="p">.</span><span class="nx">getID3v2Header</span><span class="p">(</span><span class="nx">stream</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">id3header</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
                
                <span class="k">if</span> <span class="p">(</span><span class="nx">id3header</span><span class="p">.</span><span class="nx">major</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">id3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ID3v23Stream</span><span class="p">(</span><span class="nx">id3header</span><span class="p">,</span> <span class="nx">stream</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">id3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ID3v22Stream</span><span class="p">(</span><span class="nx">id3header</span><span class="p">,</span> <span class="nx">stream</span><span class="p">);</span>
                <span class="p">}</span>
                
                <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="nx">id3</span><span class="p">.</span><span class="nx">read</span><span class="p">());</span>
            <span class="p">}</span>
            </pre></div></td></tr><tr id="section-47"><td class="docs"><div class="pilwrap"><a href="#section-47" class="pilcrow">&#182;</a></div><p>read the header of the first audio frame</p>
</td><td class="code"><div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">off</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MP3Stream</span><span class="p">(</span><span class="k">new</span> <span class="nx">Bitstream</span><span class="p">(</span><span class="nx">stream</span><span class="p">));</span>
            
            <span class="kd">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">decode</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">header</span><span class="p">)</span>
                <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;Could not find first frame.&#39;</span><span class="p">);</span>
            
            <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;format&#39;</span><span class="p">,</span> <span class="p">{</span>
                <span class="nx">formatID</span><span class="o">:</span> <span class="s1">&#39;mp3&#39;</span><span class="p">,</span>
                <span class="nx">sampleRate</span><span class="o">:</span> <span class="nx">header</span><span class="p">.</span><span class="nx">samplerate</span><span class="p">,</span>
                <span class="nx">channelsPerFrame</span><span class="o">:</span> <span class="nx">header</span><span class="p">.</span><span class="nx">nchannels</span><span class="p">(),</span>
                <span class="nx">bitrate</span><span class="o">:</span> <span class="nx">header</span><span class="p">.</span><span class="nx">bitrate</span>
            <span class="p">});</span>
            
            <span class="k">this</span><span class="p">.</span><span class="nx">parseDuration</span><span class="p">(</span><span class="nx">header</span><span class="p">);</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">off</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">);</span>
            
            <span class="k">this</span><span class="p">.</span><span class="nx">sentInfo</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">available</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">buffer</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readSingleBuffer</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">remainingBytes</span><span class="p">());</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">remainingBytes</span><span class="p">()</span> <span class="o">===</span> <span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">});</span>
<span class="kd">function</span> <span class="nx">MP3Stream</span><span class="p">(</span><span class="nx">stream</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">stream</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">;</span>                     <span class="c1">// actual bitstream</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">sync</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>                        <span class="c1">// stream sync found</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">freerate</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>                        <span class="c1">// free bitrate (fixed)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">this_frame</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">;</span>   <span class="c1">// start of current frame</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">;</span>   <span class="c1">// start of next frame</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">NONE</span><span class="p">;</span>        <span class="c1">// error code</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">main_data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">(</span><span class="nx">BUFFER_MDLEN</span><span class="p">);</span> <span class="c1">// actual audio data</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>                               <span class="c1">// length of main data</span>
    </pre></div></td></tr><tr id="section-48"><td class="docs"><div class="pilwrap"><a href="#section-48" class="pilcrow">&#182;</a></div><p>copy methods from actual stream</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">stream</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">stream</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span>
            <span class="k">this</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">bind</span><span class="p">(</span><span class="nx">stream</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getU8</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">offset</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">peekUInt8</span><span class="p">(</span><span class="nx">offset</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">nextByte</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">bitPosition</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span> <span class="o">:</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">doSync</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">align</span><span class="p">();</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">available</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">peekUInt8</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">===</span> <span class="mh">0xff</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">peekUInt8</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xe0</span><span class="p">)</span> <span class="o">===</span> <span class="mh">0xe0</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">available</span><span class="p">(</span><span class="nx">BUFFER_GUARD</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">NONE</span>           <span class="o">:</span> <span class="mh">0x0000</span><span class="p">,</span>      <span class="c1">// no error </span>

    <span class="nx">BUFLEN</span>         <span class="o">:</span> <span class="mh">0x0001</span><span class="p">,</span>      <span class="c1">// input buffer too small (or EOF) </span>
    <span class="nx">BUFPTR</span>         <span class="o">:</span> <span class="mh">0x0002</span><span class="p">,</span>      <span class="c1">// invalid (null) buffer pointer </span>

    <span class="nx">NOMEM</span>          <span class="o">:</span> <span class="mh">0x0031</span><span class="p">,</span>      <span class="c1">// not enough memory </span>

    <span class="nx">LOSTSYNC</span>       <span class="o">:</span> <span class="mh">0x0101</span><span class="p">,</span>      <span class="c1">// lost synchronization </span>
    <span class="nx">BADLAYER</span>       <span class="o">:</span> <span class="mh">0x0102</span><span class="p">,</span>      <span class="c1">// reserved header layer value </span>
    <span class="nx">BADBITRATE</span>     <span class="o">:</span> <span class="mh">0x0103</span><span class="p">,</span>      <span class="c1">// forbidden bitrate value </span>
    <span class="nx">BADSAMPLERATE</span>  <span class="o">:</span> <span class="mh">0x0104</span><span class="p">,</span>      <span class="c1">// reserved sample frequency value </span>
    <span class="nx">BADEMPHASIS</span>    <span class="o">:</span> <span class="mh">0x0105</span><span class="p">,</span>      <span class="c1">// reserved emphasis value </span>

    <span class="nx">BADCRC</span>         <span class="o">:</span> <span class="mh">0x0201</span><span class="p">,</span>      <span class="c1">// CRC check failed </span>
    <span class="nx">BADBITALLOC</span>    <span class="o">:</span> <span class="mh">0x0211</span><span class="p">,</span>      <span class="c1">// forbidden bit allocation value </span>
    <span class="nx">BADSCALEFACTOR</span> <span class="o">:</span> <span class="mh">0x0221</span><span class="p">,</span>      <span class="c1">// bad scalefactor index </span>
    <span class="nx">BADMODE</span>        <span class="o">:</span> <span class="mh">0x0222</span><span class="p">,</span>      <span class="c1">// bad bitrate/mode combination </span>
    <span class="nx">BADFRAMELEN</span>    <span class="o">:</span> <span class="mh">0x0231</span><span class="p">,</span>      <span class="c1">// bad frame length </span>
    <span class="nx">BADBIGVALUES</span>   <span class="o">:</span> <span class="mh">0x0232</span><span class="p">,</span>      <span class="c1">// bad big_values count </span>
    <span class="nx">BADBLOCKTYPE</span>   <span class="o">:</span> <span class="mh">0x0233</span><span class="p">,</span>      <span class="c1">// reserved block_type </span>
    <span class="nx">BADSCFSI</span>       <span class="o">:</span> <span class="mh">0x0234</span><span class="p">,</span>      <span class="c1">// bad scalefactor selection info </span>
    <span class="nx">BADDATAPTR</span>     <span class="o">:</span> <span class="mh">0x0235</span><span class="p">,</span>      <span class="c1">// bad main_data_begin pointer </span>
    <span class="nx">BADPART3LEN</span>    <span class="o">:</span> <span class="mh">0x0236</span><span class="p">,</span>      <span class="c1">// bad audio data length </span>
    <span class="nx">BADHUFFTABLE</span>   <span class="o">:</span> <span class="mh">0x0237</span><span class="p">,</span>      <span class="c1">// bad Huffman table select </span>
    <span class="nx">BADHUFFDATA</span>    <span class="o">:</span> <span class="mh">0x0238</span><span class="p">,</span>      <span class="c1">// Huffman data overrun </span>
    <span class="nx">BADSTEREO</span>      <span class="o">:</span> <span class="mh">0x0239</span>       <span class="c1">// incompatible block_type for JS </span>
<span class="p">};</span>
<span class="kr">const</span> <span class="nx">BITRATES</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-49"><td class="docs"><div class="pilwrap"><a href="#section-49" class="pilcrow">&#182;</a></div><p>MPEG-1</p>
</td><td class="code"><div class="highlight"><pre>    <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">32000</span><span class="p">,</span>  <span class="mi">64000</span><span class="p">,</span>  <span class="mi">96000</span><span class="p">,</span> <span class="mi">128000</span><span class="p">,</span> <span class="mi">160000</span><span class="p">,</span> <span class="mi">192000</span><span class="p">,</span> <span class="mi">224000</span><span class="p">,</span>  <span class="c1">// Layer I</span>
         <span class="mi">256000</span><span class="p">,</span> <span class="mi">288000</span><span class="p">,</span> <span class="mi">320000</span><span class="p">,</span> <span class="mi">352000</span><span class="p">,</span> <span class="mi">384000</span><span class="p">,</span> <span class="mi">416000</span><span class="p">,</span> <span class="mi">448000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">32000</span><span class="p">,</span>  <span class="mi">48000</span><span class="p">,</span>  <span class="mi">56000</span><span class="p">,</span>  <span class="mi">64000</span><span class="p">,</span>  <span class="mi">80000</span><span class="p">,</span>  <span class="mi">96000</span><span class="p">,</span> <span class="mi">112000</span><span class="p">,</span>  <span class="c1">// Layer II</span>
         <span class="mi">128000</span><span class="p">,</span> <span class="mi">160000</span><span class="p">,</span> <span class="mi">192000</span><span class="p">,</span> <span class="mi">224000</span><span class="p">,</span> <span class="mi">256000</span><span class="p">,</span> <span class="mi">320000</span><span class="p">,</span> <span class="mi">384000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">32000</span><span class="p">,</span>  <span class="mi">40000</span><span class="p">,</span>  <span class="mi">48000</span><span class="p">,</span>  <span class="mi">56000</span><span class="p">,</span>  <span class="mi">64000</span><span class="p">,</span>  <span class="mi">80000</span><span class="p">,</span>  <span class="mi">96000</span><span class="p">,</span>  <span class="c1">// Layer III</span>
         <span class="mi">112000</span><span class="p">,</span> <span class="mi">128000</span><span class="p">,</span> <span class="mi">160000</span><span class="p">,</span> <span class="mi">192000</span><span class="p">,</span> <span class="mi">224000</span><span class="p">,</span> <span class="mi">256000</span><span class="p">,</span> <span class="mi">320000</span> <span class="p">],</span></pre></div></td></tr><tr id="section-50"><td class="docs"><div class="pilwrap"><a href="#section-50" class="pilcrow">&#182;</a></div><p>MPEG-2 LSF</p>
</td><td class="code"><div class="highlight"><pre>    <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">32000</span><span class="p">,</span>  <span class="mi">48000</span><span class="p">,</span>  <span class="mi">56000</span><span class="p">,</span>  <span class="mi">64000</span><span class="p">,</span>  <span class="mi">80000</span><span class="p">,</span>  <span class="mi">96000</span><span class="p">,</span> <span class="mi">112000</span><span class="p">,</span>  <span class="c1">// Layer I</span>
         <span class="mi">128000</span><span class="p">,</span> <span class="mi">144000</span><span class="p">,</span> <span class="mi">160000</span><span class="p">,</span> <span class="mi">176000</span><span class="p">,</span> <span class="mi">192000</span><span class="p">,</span> <span class="mi">224000</span><span class="p">,</span> <span class="mi">256000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>   <span class="mi">8000</span><span class="p">,</span>  <span class="mi">16000</span><span class="p">,</span>  <span class="mi">24000</span><span class="p">,</span>  <span class="mi">32000</span><span class="p">,</span>  <span class="mi">40000</span><span class="p">,</span>  <span class="mi">48000</span><span class="p">,</span>  <span class="mi">56000</span><span class="p">,</span>  <span class="c1">// Layers</span>
          <span class="mi">64000</span><span class="p">,</span>  <span class="mi">80000</span><span class="p">,</span>  <span class="mi">96000</span><span class="p">,</span> <span class="mi">112000</span><span class="p">,</span> <span class="mi">128000</span><span class="p">,</span> <span class="mi">144000</span><span class="p">,</span> <span class="mi">160000</span> <span class="p">]</span> <span class="c1">// II &amp; III</span>
<span class="p">];</span>

<span class="kr">const</span> <span class="nx">SAMPLERATES</span> <span class="o">=</span> <span class="p">[</span> 
    <span class="mi">44100</span><span class="p">,</span> <span class="mi">48000</span><span class="p">,</span> <span class="mi">32000</span> 
<span class="p">];</span>

<span class="kr">const</span> <span class="nx">FLAGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">NPRIVATE_III</span><span class="o">:</span> <span class="mh">0x0007</span><span class="p">,</span>   <span class="c1">// number of Layer III private bits</span>
    <span class="nx">INCOMPLETE</span>  <span class="o">:</span> <span class="mh">0x0008</span><span class="p">,</span>   <span class="c1">// header but not data is decoded</span>

    <span class="nx">PROTECTION</span>  <span class="o">:</span> <span class="mh">0x0010</span><span class="p">,</span>   <span class="c1">// frame has CRC protection</span>
    <span class="nx">COPYRIGHT</span>   <span class="o">:</span> <span class="mh">0x0020</span><span class="p">,</span>   <span class="c1">// frame is copyright</span>
    <span class="nx">ORIGINAL</span>    <span class="o">:</span> <span class="mh">0x0040</span><span class="p">,</span>   <span class="c1">// frame is original (else copy)</span>
    <span class="nx">PADDING</span>     <span class="o">:</span> <span class="mh">0x0080</span><span class="p">,</span>   <span class="c1">// frame has additional slot</span>

    <span class="nx">I_STEREO</span>    <span class="o">:</span> <span class="mh">0x0100</span><span class="p">,</span>   <span class="c1">// uses intensity joint stereo</span>
    <span class="nx">MS_STEREO</span>   <span class="o">:</span> <span class="mh">0x0200</span><span class="p">,</span>   <span class="c1">// uses middle/side joint stereo</span>
    <span class="nx">FREEFORMAT</span>  <span class="o">:</span> <span class="mh">0x0400</span><span class="p">,</span>   <span class="c1">// uses free format bitrate</span>

    <span class="nx">LSF_EXT</span>     <span class="o">:</span> <span class="mh">0x1000</span><span class="p">,</span>   <span class="c1">// lower sampling freq. extension</span>
    <span class="nx">MC_EXT</span>      <span class="o">:</span> <span class="mh">0x2000</span><span class="p">,</span>   <span class="c1">// multichannel audio extension</span>
    <span class="nx">MPEG_2_5_EXT</span><span class="o">:</span> <span class="mh">0x4000</span>    <span class="c1">// MPEG 2.5 (unofficial) extension</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">PRIVATE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">HEADER</span>  <span class="o">:</span> <span class="mh">0x0100</span><span class="p">,</span> <span class="c1">// header private bit</span>
    <span class="nx">III</span>     <span class="o">:</span> <span class="mh">0x001f</span>  <span class="c1">// Layer III private bits (up to 5)</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">MODE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">SINGLE_CHANNEL</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">// single channel</span>
    <span class="nx">DUAL_CHANNEL</span>  <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="c1">// dual channel</span>
    <span class="nx">JOINT_STEREO</span>  <span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="c1">// joint (MS/intensity) stereo</span>
    <span class="nx">STEREO</span>        <span class="o">:</span> <span class="mi">3</span>  <span class="c1">// normal LR stereo</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">EMPHASIS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">NONE</span>      <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">// no emphasis</span>
    <span class="nx">_50_15_US</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="c1">// 50/15 microseconds emphasis</span>
    <span class="nx">CCITT_J_17</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="c1">// CCITT J.17 emphasis</span>
    <span class="nx">RESERVED</span>  <span class="o">:</span> <span class="mi">2</span>  <span class="c1">// unknown emphasis</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">BUFFER_GUARD</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">BUFFER_MDLEN</span> <span class="o">=</span> <span class="p">(</span><span class="mi">511</span> <span class="o">+</span> <span class="mi">2048</span> <span class="o">+</span> <span class="nx">BUFFER_GUARD</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">MP3FrameHeader</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">layer</span>          <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// audio layer (1, 2, or 3)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">mode</span>           <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// channel mode (see above)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">mode_extension</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// additional mode info</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">emphasis</span>       <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// de-emphasis to use (see above)</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">bitrate</span>        <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// stream bitrate (bps)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">samplerate</span>     <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// sampling frequency (Hz)</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">crc_check</span>      <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// frame CRC accumulator</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">crc_target</span>     <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// final target CRC checksum</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">flags</span>          <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// flags (see above)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">private_bits</span>   <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// private bits</span>
<span class="p">}</span>

<span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">copy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MP3FrameHeader</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">keys</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">keys</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">clone</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nx">clone</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">nchannels</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">mode</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">nbsamples</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">12</span> <span class="o">:</span> <span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">))</span> <span class="o">?</span> <span class="mi">18</span> <span class="o">:</span> <span class="mi">36</span><span class="p">));</span>
<span class="p">};</span>

<span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">decode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">flags</span>        <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">private_bits</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    </pre></div></td></tr><tr id="section-51"><td class="docs"><div class="pilwrap"><a href="#section-51" class="pilcrow">&#182;</a></div><p>syncword </p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mi">11</span><span class="p">);</span></pre></div></td></tr><tr id="section-52"><td class="docs"><div class="pilwrap"><a href="#section-52" class="pilcrow">&#182;</a></div><p>MPEG 2.5 indicator (really part of syncword) </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readOne</span><span class="p">()</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">MPEG_2_5_EXT</span><span class="p">;</span>
    <span class="p">}</span></pre></div></td></tr><tr id="section-53"><td class="docs"><div class="pilwrap"><a href="#section-53" class="pilcrow">&#182;</a></div><p>ID </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readOne</span><span class="p">()</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">MPEG_2_5_EXT</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">LOSTSYNC</span><span class="p">;</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span></pre></div></td></tr><tr id="section-54"><td class="docs"><div class="pilwrap"><a href="#section-54" class="pilcrow">&#182;</a></div><p>layer </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">layer</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readSmall</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADLAYER</span><span class="p">;</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span></pre></div></td></tr><tr id="section-55"><td class="docs"><div class="pilwrap"><a href="#section-55" class="pilcrow">&#182;</a></div><p>protection_bit </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readOne</span><span class="p">()</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">PROTECTION</span><span class="p">;</span></pre></div></td></tr><tr id="section-56"><td class="docs"><div class="pilwrap"><a href="#section-56" class="pilcrow">&#182;</a></div><p>bitrate_index </p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readSmall</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">===</span> <span class="mi">15</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADBITRATE</span><span class="p">;</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bitrate</span> <span class="o">=</span> <span class="nx">BITRATES</span><span class="p">[</span><span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">layer</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)][</span><span class="nx">index</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bitrate</span> <span class="o">=</span> <span class="nx">BITRATES</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">layer</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="nx">index</span><span class="p">];</span>
    <span class="p">}</span></pre></div></td></tr><tr id="section-57"><td class="docs"><div class="pilwrap"><a href="#section-57" class="pilcrow">&#182;</a></div><p>sampling_frequency </p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">index</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readSmall</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">===</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADSAMPLERATE</span><span class="p">;</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">samplerate</span> <span class="o">=</span> <span class="nx">SAMPLERATES</span><span class="p">[</span><span class="nx">index</span><span class="p">];</span>

    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">samplerate</span> <span class="o">/=</span> <span class="mi">2</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">MPEG_2_5_EXT</span><span class="p">)</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">samplerate</span> <span class="o">/=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span></pre></div></td></tr><tr id="section-58"><td class="docs"><div class="pilwrap"><a href="#section-58" class="pilcrow">&#182;</a></div><p>padding_bit </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readOne</span><span class="p">())</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">PADDING</span><span class="p">;</span></pre></div></td></tr><tr id="section-59"><td class="docs"><div class="pilwrap"><a href="#section-59" class="pilcrow">&#182;</a></div><p>private_bit </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readOne</span><span class="p">())</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">private_bits</span> <span class="o">|=</span> <span class="nx">PRIVATE</span><span class="p">.</span><span class="nx">HEADER</span><span class="p">;</span></pre></div></td></tr><tr id="section-60"><td class="docs"><div class="pilwrap"><a href="#section-60" class="pilcrow">&#182;</a></div><p>mode </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">mode</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readSmall</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span></pre></div></td></tr><tr id="section-61"><td class="docs"><div class="pilwrap"><a href="#section-61" class="pilcrow">&#182;</a></div><p>mode_extension </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">mode_extension</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readSmall</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span></pre></div></td></tr><tr id="section-62"><td class="docs"><div class="pilwrap"><a href="#section-62" class="pilcrow">&#182;</a></div><p>copyright </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readOne</span><span class="p">())</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">COPYRIGHT</span><span class="p">;</span></pre></div></td></tr><tr id="section-63"><td class="docs"><div class="pilwrap"><a href="#section-63" class="pilcrow">&#182;</a></div><p>original/copy </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readOne</span><span class="p">())</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">ORIGINAL</span><span class="p">;</span></pre></div></td></tr><tr id="section-64"><td class="docs"><div class="pilwrap"><a href="#section-64" class="pilcrow">&#182;</a></div><p>emphasis </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">emphasis</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readSmall</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span></pre></div></td></tr><tr id="section-65"><td class="docs"><div class="pilwrap"><a href="#section-65" class="pilcrow">&#182;</a></div><p>crc_check </p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">PROTECTION</span><span class="p">)</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">crc_target</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">decode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-66"><td class="docs"><div class="pilwrap"><a href="#section-66" class="pilcrow">&#182;</a></div><p>synchronize</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">syncing</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="nx">syncing</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">syncing</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">sync</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">stream</span><span class="p">.</span><span class="nx">available</span><span class="p">(</span><span class="nx">BUFFER_GUARD</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">=</span> <span class="nx">ptr</span><span class="p">;</span>
                <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BUFLEN</span><span class="p">;</span>
                <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">getU8</span><span class="p">(</span><span class="nx">ptr</span><span class="p">)</span> <span class="o">===</span> <span class="mh">0xff</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">getU8</span><span class="p">(</span><span class="nx">ptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xe0</span><span class="p">)</span> <span class="o">===</span> <span class="mh">0xe0</span><span class="p">))</span> <span class="p">{</span></pre></div></td></tr><tr id="section-67"><td class="docs"><div class="pilwrap"><a href="#section-67" class="pilcrow">&#182;</a></div><p>mark point where frame sync word was expected</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">stream</span><span class="p">.</span><span class="nx">this_frame</span> <span class="o">=</span> <span class="nx">ptr</span><span class="p">;</span>
                <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">=</span> <span class="nx">ptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">LOSTSYNC</span><span class="p">;</span>
                <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">ptr</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">());</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">doSync</span><span class="p">()</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>                
                <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BUFLEN</span><span class="p">;</span>
                <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
            <span class="p">}</span>
            
            <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">nextByte</span><span class="p">();</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-68"><td class="docs"><div class="pilwrap"><a href="#section-68" class="pilcrow">&#182;</a></div><p>begin processing</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">stream</span><span class="p">.</span><span class="nx">this_frame</span> <span class="o">=</span> <span class="nx">ptr</span><span class="p">;</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">=</span> <span class="nx">ptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// possibly bogus sync word</span>
        
        <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">this_frame</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">());</span>
        
        <span class="nx">header</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MP3FrameHeader</span><span class="p">();</span>
        <span class="nx">header</span><span class="p">.</span><span class="nx">decode</span><span class="p">(</span><span class="nx">stream</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">header</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">bitrate</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">freerate</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="o">!</span><span class="nx">stream</span><span class="p">.</span><span class="nx">sync</span> <span class="o">||</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">freerate</span> <span class="o">&gt;</span> <span class="mi">640000</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">free_bitrate</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">header</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            
            <span class="nx">header</span><span class="p">.</span><span class="nx">bitrate</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">freerate</span><span class="p">;</span>
            <span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">FREEFORMAT</span><span class="p">;</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-69"><td class="docs"><div class="pilwrap"><a href="#section-69" class="pilcrow">&#182;</a></div><p>calculate beginning of next frame</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">pad_slot</span> <span class="o">=</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">PADDING</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">N</span> <span class="o">=</span> <span class="p">(((</span><span class="mi">12</span> <span class="o">*</span> <span class="nx">header</span><span class="p">.</span><span class="nx">bitrate</span> <span class="o">/</span> <span class="nx">header</span><span class="p">.</span><span class="nx">samplerate</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="nx">pad_slot</span><span class="p">)</span> <span class="o">*</span> <span class="mi">4</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">slots_per_frame</span> <span class="o">=</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">))</span> <span class="o">?</span> <span class="mi">72</span> <span class="o">:</span> <span class="mi">144</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">N</span> <span class="o">=</span> <span class="p">((</span><span class="nx">slots_per_frame</span> <span class="o">*</span> <span class="nx">header</span><span class="p">.</span><span class="nx">bitrate</span> <span class="o">/</span> <span class="nx">header</span><span class="p">.</span><span class="nx">samplerate</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="nx">pad_slot</span><span class="p">;</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-70"><td class="docs"><div class="pilwrap"><a href="#section-70" class="pilcrow">&#182;</a></div><p>verify there is enough data left in buffer to decode this frame</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">stream</span><span class="p">.</span><span class="nx">available</span><span class="p">(</span><span class="nx">N</span> <span class="o">+</span> <span class="nx">BUFFER_GUARD</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">this_frame</span><span class="p">;</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BUFLEN</span><span class="p">;</span>
            <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">this_frame</span> <span class="o">+</span> <span class="nx">N</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">stream</span><span class="p">.</span><span class="nx">sync</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-71"><td class="docs"><div class="pilwrap"><a href="#section-71" class="pilcrow">&#182;</a></div><p>check that a valid frame header follows this frame</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span><span class="p">;</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">getU8</span><span class="p">(</span><span class="nx">ptr</span><span class="p">)</span> <span class="o">===</span> <span class="mh">0xff</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">getU8</span><span class="p">(</span><span class="nx">ptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xe0</span><span class="p">)</span> <span class="o">===</span> <span class="mh">0xe0</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">this_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></pre></div></td></tr><tr id="section-72"><td class="docs"><div class="pilwrap"><a href="#section-72" class="pilcrow">&#182;</a></div><p>emulating 'goto sync'</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">syncing</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            
            <span class="nx">stream</span><span class="p">.</span><span class="nx">sync</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">INCOMPLETE</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">header</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">free_bitrate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">header</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">pad_slot</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">PADDING</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">slots_per_frame</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span> <span class="o">?</span> <span class="mi">72</span> <span class="o">:</span> <span class="mi">144</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">rate</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        
    <span class="k">while</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">doSync</span><span class="p">()</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">peek_header</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">copy</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">peek_stream</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">copy</span><span class="p">();</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">peek_header</span><span class="p">.</span><span class="nx">decode</span><span class="p">(</span><span class="nx">peek_stream</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">peek_header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="nx">header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">&amp;&amp;</span> <span class="nx">peek_header</span><span class="p">.</span><span class="nx">samplerate</span> <span class="o">===</span> <span class="nx">header</span><span class="p">.</span><span class="nx">samplerate</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">N</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">nextByte</span><span class="p">()</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">this_frame</span><span class="p">;</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">rate</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">samplerate</span> <span class="o">*</span> <span class="p">(</span><span class="nx">N</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="nx">pad_slot</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mi">48</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">|</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">rate</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">samplerate</span> <span class="o">*</span> <span class="p">(</span><span class="nx">N</span> <span class="o">-</span> <span class="nx">pad_slot</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="nx">slots_per_frame</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">|</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="nx">rate</span> <span class="o">&gt;=</span> <span class="mi">8</span><span class="p">)</span>
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">start</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">());</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">rate</span> <span class="o">&lt;</span> <span class="mi">8</span> <span class="o">||</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="nx">rate</span> <span class="o">&gt;</span> <span class="mi">640</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">LOST_SYNC</span><span class="p">;</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="nx">stream</span><span class="p">.</span><span class="nx">freerate</span> <span class="o">=</span> <span class="nx">rate</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-73"><td class="docs"><div class="pilwrap"><a href="#section-73" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>MPEG-1 scalefactor band widths<br />derived from Table B.8 of ISO/IEC 11172-3</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">SFB_48000_LONG</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
    <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>   <span class="mi">8</span><span class="p">,</span>  <span class="mi">10</span><span class="p">,</span>
    <span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span>  <span class="mi">54</span><span class="p">,</span> <span class="mi">192</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_44100_LONG</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
    <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>   <span class="mi">8</span><span class="p">,</span>  <span class="mi">10</span><span class="p">,</span>
    <span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span>  <span class="mi">76</span><span class="p">,</span> <span class="mi">158</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_32000_LONG</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
    <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">10</span><span class="p">,</span>  <span class="mi">12</span><span class="p">,</span>
    <span class="mi">16</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">84</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span>  <span class="mi">26</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_48000_SHORT</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
    <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span>
    <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">66</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_44100_SHORT</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
    <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span>
    <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">56</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_32000_SHORT</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
    <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span>
    <span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_48000_MIXED</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span></pre></div></td></tr><tr id="section-74"><td class="docs"><div class="pilwrap"><a href="#section-74" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>long</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>short</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span>
    <span class="mi">16</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">66</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_44100_MIXED</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span></pre></div></td></tr><tr id="section-75"><td class="docs"><div class="pilwrap"><a href="#section-75" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>long</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>short</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span>
    <span class="mi">18</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">56</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_32000_MIXED</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span></pre></div></td></tr><tr id="section-76"><td class="docs"><div class="pilwrap"><a href="#section-76" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>long</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>short</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span>
    <span class="mi">26</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span>
<span class="p">]);</span></pre></div></td></tr><tr id="section-77"><td class="docs"><div class="pilwrap"><a href="#section-77" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>MPEG-2 scalefactor band widths<br />derived from Table B.2 of ISO/IEC 13818-3</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">SFB_24000_LONG</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
    <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>  <span class="mi">14</span><span class="p">,</span>  <span class="mi">16</span><span class="p">,</span>
   <span class="mi">18</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span>  <span class="mi">76</span><span class="p">,</span>  <span class="mi">36</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_22050_LONG</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
    <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>  <span class="mi">14</span><span class="p">,</span>  <span class="mi">16</span><span class="p">,</span>
   <span class="mi">20</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span>  <span class="mi">58</span><span class="p">,</span>  <span class="mi">54</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_16000_LONG</span> <span class="o">=</span> <span class="nx">SFB_22050_LONG</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">SFB_24000_SHORT</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
   <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>
   <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span>
  <span class="mi">18</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_22050_SHORT</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
   <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>
   <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span>
  <span class="mi">18</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_16000_SHORT</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
   <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>
   <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span>
  <span class="mi">18</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_24000_MIXED</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span></pre></div></td></tr><tr id="section-78"><td class="docs"><div class="pilwrap"><a href="#section-78" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>long</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>short</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>              <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span>
              <span class="mi">24</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_22050_MIXED</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span></pre></div></td></tr><tr id="section-79"><td class="docs"><div class="pilwrap"><a href="#section-79" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>long</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>short</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>              <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span>
              <span class="mi">26</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_16000_MIXED</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span></pre></div></td></tr><tr id="section-80"><td class="docs"><div class="pilwrap"><a href="#section-80" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>long</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>short</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>              <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span>
              <span class="mi">24</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span>
<span class="p">]);</span></pre></div></td></tr><tr id="section-81"><td class="docs"><div class="pilwrap"><a href="#section-81" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>MPEG 2.5 scalefactor band widths<br />derived from public sources</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">SFB_12000_LONG</span> <span class="o">=</span> <span class="nx">SFB_16000_LONG</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">SFB_11025_LONG</span> <span class="o">=</span> <span class="nx">SFB_12000_LONG</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">SFB_8000_LONG</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
  <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span>  <span class="mi">28</span><span class="p">,</span>  <span class="mi">32</span><span class="p">,</span>
  <span class="mi">40</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>   <span class="mi">2</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_12000_SHORT</span> <span class="o">=</span> <span class="nx">SFB_16000_SHORT</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">SFB_11025_SHORT</span> <span class="o">=</span> <span class="nx">SFB_12000_SHORT</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">SFB_8000_SHORT</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
   <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span>
  <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span>
  <span class="mi">36</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFB_12000_MIXED</span> <span class="o">=</span> <span class="nx">SFB_16000_MIXED</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">SFB_11025_MIXED</span> <span class="o">=</span> <span class="nx">SFB_12000_MIXED</span><span class="p">;</span></pre></div></td></tr><tr id="section-82"><td class="docs"><div class="pilwrap"><a href="#section-82" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>the 8000 Hz short block scalefactor bands do not break after<br />   the first 36 frequency lines, so this is probably wrong</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">SFB_8000_MIXED</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span></pre></div></td></tr><tr id="section-83"><td class="docs"><div class="pilwrap"><a href="#section-83" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>long</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>short</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>              <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span>
               <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">26</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">SFBWIDTH_TABLE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">l</span><span class="o">:</span> <span class="nx">SFB_48000_LONG</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="nx">SFB_48000_SHORT</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span> <span class="nx">SFB_48000_MIXED</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">l</span><span class="o">:</span> <span class="nx">SFB_44100_LONG</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="nx">SFB_44100_SHORT</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span> <span class="nx">SFB_44100_MIXED</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">l</span><span class="o">:</span> <span class="nx">SFB_32000_LONG</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="nx">SFB_32000_SHORT</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span> <span class="nx">SFB_32000_MIXED</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">l</span><span class="o">:</span> <span class="nx">SFB_24000_LONG</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="nx">SFB_24000_SHORT</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span> <span class="nx">SFB_24000_MIXED</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">l</span><span class="o">:</span> <span class="nx">SFB_22050_LONG</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="nx">SFB_22050_SHORT</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span> <span class="nx">SFB_22050_MIXED</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">l</span><span class="o">:</span> <span class="nx">SFB_16000_LONG</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="nx">SFB_16000_SHORT</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span> <span class="nx">SFB_16000_MIXED</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">l</span><span class="o">:</span> <span class="nx">SFB_12000_LONG</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="nx">SFB_12000_SHORT</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span> <span class="nx">SFB_12000_MIXED</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">l</span><span class="o">:</span> <span class="nx">SFB_11025_LONG</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="nx">SFB_11025_SHORT</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span> <span class="nx">SFB_11025_MIXED</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">l</span><span class="o">:</span>  <span class="nx">SFB_8000_LONG</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span>  <span class="nx">SFB_8000_SHORT</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span>  <span class="nx">SFB_8000_MIXED</span> <span class="p">}</span>
<span class="p">];</span>

<span class="kr">const</span> <span class="nx">PRETAB</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">([</span>
    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span>
<span class="p">]);</span></pre></div></td></tr><tr id="section-84"><td class="docs"><div class="pilwrap"><a href="#section-84" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>fractional powers of two<br />used for requantization and joint stereo decoding</p></div><div class="body"><p>ROOT_TABLE[3 + x] = 2^(x/4)</p></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">ROOT_TABLE</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float32Array</span><span class="p">([</span></pre></div></td></tr><tr id="section-85"><td class="docs"><div class="pilwrap"><a href="#section-85" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>2^(-3/4)</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>2^(-2/4)</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>2^(-1/4)</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>2^( 0/4)</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>2^(+1/4)</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>2^(+2/4)</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>2^(+3/4)</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">]);</span>

<span class="kr">const</span> <span class="nx">CS</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float32Array</span><span class="p">([</span>
    <span class="o">+</span><span class="mf">0.857492926</span> <span class="p">,</span> <span class="o">+</span><span class="mf">0.881741997</span><span class="p">,</span>
    <span class="o">+</span><span class="mf">0.949628649</span> <span class="p">,</span> <span class="o">+</span><span class="mf">0.983314592</span><span class="p">,</span>
    <span class="o">+</span><span class="mf">0.995517816</span> <span class="p">,</span> <span class="o">+</span><span class="mf">0.999160558</span><span class="p">,</span>
    <span class="o">+</span><span class="mf">0.999899195</span> <span class="p">,</span> <span class="o">+</span><span class="mf">0.999993155</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">CA</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float32Array</span><span class="p">([</span>
    <span class="o">-</span><span class="mf">0.514495755</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.471731969</span><span class="p">,</span>
    <span class="o">-</span><span class="mf">0.313377454</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.181913200</span><span class="p">,</span>
    <span class="o">-</span><span class="mf">0.094574193</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.040965583</span><span class="p">,</span>
    <span class="o">-</span><span class="mf">0.014198569</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.003699975</span>
<span class="p">]);</span>

<span class="kr">const</span> <span class="nx">COUNT1TABLE_SELECT</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">SCALEFAC_SCALE</span>     <span class="o">=</span> <span class="mh">0x02</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">PREFLAG</span>            <span class="o">=</span> <span class="mh">0x04</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">MIXED_BLOCK_FLAG</span>   <span class="o">=</span> <span class="mh">0x08</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">I_STEREO</span>  <span class="o">=</span> <span class="mh">0x1</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">MS_STEREO</span> <span class="o">=</span> <span class="mh">0x2</span><span class="p">;</span></pre></div></td></tr><tr id="section-86"><td class="docs"><div class="pilwrap"><a href="#section-86" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>windowing coefficients for long blocks<br />derived from section 2.4.3.4.10.3 of ISO/IEC 11172-3</p></div><div class="body"><p>WINDOW_L[i] = sin((PI / 36) * (i + 1/2))</p></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">WINDOW_L</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float32Array</span><span class="p">([</span>
    <span class="mf">0.043619387</span><span class="p">,</span> <span class="mf">0.130526192</span><span class="p">,</span>
    <span class="mf">0.216439614</span><span class="p">,</span> <span class="mf">0.300705800</span><span class="p">,</span>
    <span class="mf">0.382683432</span><span class="p">,</span> <span class="mf">0.461748613</span><span class="p">,</span>
    <span class="mf">0.537299608</span><span class="p">,</span> <span class="mf">0.608761429</span><span class="p">,</span>
    <span class="mf">0.675590208</span><span class="p">,</span> <span class="mf">0.737277337</span><span class="p">,</span>
    <span class="mf">0.793353340</span><span class="p">,</span> <span class="mf">0.843391446</span><span class="p">,</span>

    <span class="mf">0.887010833</span><span class="p">,</span> <span class="mf">0.923879533</span><span class="p">,</span>
    <span class="mf">0.953716951</span><span class="p">,</span> <span class="mf">0.976296007</span><span class="p">,</span>
    <span class="mf">0.991444861</span><span class="p">,</span> <span class="mf">0.999048222</span><span class="p">,</span>
    <span class="mf">0.999048222</span><span class="p">,</span> <span class="mf">0.991444861</span><span class="p">,</span>
    <span class="mf">0.976296007</span><span class="p">,</span> <span class="mf">0.953716951</span><span class="p">,</span>
    <span class="mf">0.923879533</span><span class="p">,</span> <span class="mf">0.887010833</span><span class="p">,</span>

    <span class="mf">0.843391446</span><span class="p">,</span> <span class="mf">0.793353340</span><span class="p">,</span>
    <span class="mf">0.737277337</span><span class="p">,</span> <span class="mf">0.675590208</span><span class="p">,</span>
    <span class="mf">0.608761429</span><span class="p">,</span> <span class="mf">0.537299608</span><span class="p">,</span>
    <span class="mf">0.461748613</span><span class="p">,</span> <span class="mf">0.382683432</span><span class="p">,</span>
    <span class="mf">0.300705800</span><span class="p">,</span> <span class="mf">0.216439614</span><span class="p">,</span>
    <span class="mf">0.130526192</span><span class="p">,</span> <span class="mf">0.043619387</span>
<span class="p">]);</span></pre></div></td></tr><tr id="section-87"><td class="docs"><div class="pilwrap"><a href="#section-87" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>windowing coefficients for short blocks<br />derived from section 2.4.3.4.10.3 of ISO/IEC 11172-3</p></div><div class="body"><p>WINDOW_S[i] = sin((PI / 12) * (i + 1/2))</p></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">WINDOW_S</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float32Array</span><span class="p">([</span>
    <span class="mf">0.130526192</span><span class="p">,</span> <span class="mf">0.382683432</span><span class="p">,</span>
    <span class="mf">0.608761429</span><span class="p">,</span> <span class="mf">0.793353340</span><span class="p">,</span>
    <span class="mf">0.923879533</span><span class="p">,</span> <span class="mf">0.991444861</span><span class="p">,</span>
    <span class="mf">0.991444861</span><span class="p">,</span> <span class="mf">0.923879533</span><span class="p">,</span>
    <span class="mf">0.793353340</span><span class="p">,</span> <span class="mf">0.608761429</span><span class="p">,</span>
    <span class="mf">0.382683432</span><span class="p">,</span> <span class="mf">0.130526192</span>
<span class="p">]);</span></pre></div></td></tr><tr id="section-88"><td class="docs"><div class="pilwrap"><a href="#section-88" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>coefficients for intensity stereo processing<br />derived from section 2.4.3.4.9.3 of ISO/IEC 11172-3</p></div><div class="body"><p>is_ratio[i] = tan(i * (PI / 12))<br />IS_TABLE[i] = is_ratio[i] / (1 + is_ratio[i])</p></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">IS_TABLE</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float32Array</span><span class="p">([</span>
    <span class="mf">0.000000000</span><span class="p">,</span>
    <span class="mf">0.211324865</span><span class="p">,</span>
    <span class="mf">0.366025404</span><span class="p">,</span>
    <span class="mf">0.500000000</span><span class="p">,</span>
    <span class="mf">0.633974596</span><span class="p">,</span>
    <span class="mf">0.788675135</span><span class="p">,</span>
    <span class="mf">1.000000000</span>
<span class="p">]);</span></pre></div></td></tr><tr id="section-89"><td class="docs"><div class="pilwrap"><a href="#section-89" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>coefficients for LSF intensity stereo processing<br />derived from section 2.4.3.2 of ISO/IEC 13818-3</p></div><div class="body"><p>IS_LSF_TABLE[0][i] = (1 / sqrt(sqrt(2)))^(i + 1)<br />IS_LSF_TABLE[1][i] = (1 /      sqrt(2)) ^(i + 1)</p></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">IS_LSF_TABLE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="k">new</span> <span class="nx">Float32Array</span><span class="p">([</span>
        <span class="mf">0.840896415</span><span class="p">,</span>
        <span class="mf">0.707106781</span><span class="p">,</span>
        <span class="mf">0.594603558</span><span class="p">,</span>
        <span class="mf">0.500000000</span><span class="p">,</span>
        <span class="mf">0.420448208</span><span class="p">,</span>
        <span class="mf">0.353553391</span><span class="p">,</span>
        <span class="mf">0.297301779</span><span class="p">,</span>
        <span class="mf">0.250000000</span><span class="p">,</span>
        <span class="mf">0.210224104</span><span class="p">,</span>
        <span class="mf">0.176776695</span><span class="p">,</span>
        <span class="mf">0.148650889</span><span class="p">,</span>
        <span class="mf">0.125000000</span><span class="p">,</span>
        <span class="mf">0.105112052</span><span class="p">,</span>
        <span class="mf">0.088388348</span><span class="p">,</span>
        <span class="mf">0.074325445</span>
    <span class="p">]),</span> 
    <span class="k">new</span> <span class="nx">Float32Array</span><span class="p">([</span>
        <span class="mf">0.707106781</span><span class="p">,</span>
        <span class="mf">0.500000000</span><span class="p">,</span>
        <span class="mf">0.353553391</span><span class="p">,</span>
        <span class="mf">0.250000000</span><span class="p">,</span>
        <span class="mf">0.176776695</span><span class="p">,</span>
        <span class="mf">0.125000000</span><span class="p">,</span>
        <span class="mf">0.088388348</span><span class="p">,</span>
        <span class="mf">0.062500000</span><span class="p">,</span>
        <span class="mf">0.044194174</span><span class="p">,</span>
        <span class="mf">0.031250000</span><span class="p">,</span>
        <span class="mf">0.022097087</span><span class="p">,</span>
        <span class="mf">0.015625000</span><span class="p">,</span>
        <span class="mf">0.011048543</span><span class="p">,</span>
        <span class="mf">0.007812500</span><span class="p">,</span>
        <span class="mf">0.005524272</span>
    <span class="p">])</span>
<span class="p">];</span></pre></div></td></tr><tr id="section-90"><td class="docs"><div class="pilwrap"><a href="#section-90" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>scalefactor bit lengths<br />derived from section 2.4.2.7 of ISO/IEC 11172-3</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">SFLEN_TABLE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">2</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">3</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">2</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">3</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">2</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">3</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">1</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">2</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">3</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">2</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">slen1</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">slen2</span><span class="o">:</span> <span class="mi">3</span> <span class="p">}</span>    
<span class="p">];</span></pre></div></td></tr><tr id="section-91"><td class="docs"><div class="pilwrap"><a href="#section-91" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>number of LSF scalefactor band values<br />derived from section 2.4.3.2 of ISO/IEC 13818-3</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">NSFB_TABLE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span> <span class="p">[</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span> <span class="p">],</span>
      <span class="p">[</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span> <span class="p">],</span>
      <span class="p">[</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span> <span class="p">]</span> <span class="p">],</span>

    <span class="p">[</span> <span class="p">[</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span>
      <span class="p">[</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span> <span class="p">],</span>
      <span class="p">[</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span> <span class="p">]</span> <span class="p">],</span>

    <span class="p">[</span> <span class="p">[</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="p">[</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="p">[</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">],</span>

    <span class="p">[</span> <span class="p">[</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="p">[</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="p">[</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">],</span>

    <span class="p">[</span> <span class="p">[</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span>
      <span class="p">[</span> <span class="mi">12</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span> <span class="p">],</span>
      <span class="p">[</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span> <span class="p">]</span> <span class="p">],</span>

    <span class="p">[</span> <span class="p">[</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="p">[</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="p">[</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">]</span>
 <span class="p">];</span></pre></div></td></tr><tr id="section-92"><td class="docs"><div class="pilwrap"><a href="#section-92" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>These are the Huffman code words for Layer III.<br />The data for these tables are derived from Table B.7 of ISO/IEC 11172-3.</p></div><div class="body"><p>These tables support decoding up to 4 Huffman code bits at a time.</p></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">PTR</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">offs</span><span class="p">,</span> <span class="nx">bits</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="kr">final</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">ptr</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">bits</span><span class="o">:</span>   <span class="nx">bits</span><span class="p">,</span>
            <span class="nx">offset</span><span class="o">:</span> <span class="nx">offs</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">huffquad_V</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">v</span><span class="p">,</span> <span class="nx">w</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">hlen</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="kr">final</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">value</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">v</span><span class="o">:</span> <span class="nx">v</span><span class="p">,</span>
            <span class="nx">w</span><span class="o">:</span> <span class="nx">w</span><span class="p">,</span>
            <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">,</span>
            <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">hufftabA</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-93"><td class="docs"><div class="pilwrap"><a href="#section-93" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-94"><td class="docs"><div class="pilwrap"><a href="#section-94" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-95"><td class="docs"><div class="pilwrap"><a href="#section-95" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-96"><td class="docs"><div class="pilwrap"><a href="#section-96" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-97"><td class="docs"><div class="pilwrap"><a href="#section-97" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftabB</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-98"><td class="docs"><div class="pilwrap"><a href="#section-98" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kd">var</span> <span class="nx">V</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">hlen</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="kr">final</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">value</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">,</span>
            <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span><span class="p">,</span>
            <span class="nx">hlen</span><span class="o">:</span> <span class="nx">hlen</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">hufftab0</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-99"><td class="docs"><div class="pilwrap"><a href="#section-99" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab1</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-100"><td class="docs"><div class="pilwrap"><a href="#section-100" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab2</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-101"><td class="docs"><div class="pilwrap"><a href="#section-101" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-102"><td class="docs"><div class="pilwrap"><a href="#section-102" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab3</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-103"><td class="docs"><div class="pilwrap"><a href="#section-103" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-104"><td class="docs"><div class="pilwrap"><a href="#section-104" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab5</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-105"><td class="docs"><div class="pilwrap"><a href="#section-105" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-106"><td class="docs"><div class="pilwrap"><a href="#section-106" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-107"><td class="docs"><div class="pilwrap"><a href="#section-107" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab6</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-108"><td class="docs"><div class="pilwrap"><a href="#section-108" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-109"><td class="docs"><div class="pilwrap"><a href="#section-109" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-110"><td class="docs"><div class="pilwrap"><a href="#section-110" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-111"><td class="docs"><div class="pilwrap"><a href="#section-111" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab7</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-112"><td class="docs"><div class="pilwrap"><a href="#section-112" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-113"><td class="docs"><div class="pilwrap"><a href="#section-113" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-114"><td class="docs"><div class="pilwrap"><a href="#section-114" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-115"><td class="docs"><div class="pilwrap"><a href="#section-115" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-116"><td class="docs"><div class="pilwrap"><a href="#section-116" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-117"><td class="docs"><div class="pilwrap"><a href="#section-117" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-118"><td class="docs"><div class="pilwrap"><a href="#section-118" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-119"><td class="docs"><div class="pilwrap"><a href="#section-119" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-120"><td class="docs"><div class="pilwrap"><a href="#section-120" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab8</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-121"><td class="docs"><div class="pilwrap"><a href="#section-121" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-122"><td class="docs"><div class="pilwrap"><a href="#section-122" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-123"><td class="docs"><div class="pilwrap"><a href="#section-123" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-124"><td class="docs"><div class="pilwrap"><a href="#section-124" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-125"><td class="docs"><div class="pilwrap"><a href="#section-125" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-126"><td class="docs"><div class="pilwrap"><a href="#section-126" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-127"><td class="docs"><div class="pilwrap"><a href="#section-127" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-128"><td class="docs"><div class="pilwrap"><a href="#section-128" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab9</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-129"><td class="docs"><div class="pilwrap"><a href="#section-129" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-130"><td class="docs"><div class="pilwrap"><a href="#section-130" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-131"><td class="docs"><div class="pilwrap"><a href="#section-131" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-132"><td class="docs"><div class="pilwrap"><a href="#section-132" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-133"><td class="docs"><div class="pilwrap"><a href="#section-133" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-134"><td class="docs"><div class="pilwrap"><a href="#section-134" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-135"><td class="docs"><div class="pilwrap"><a href="#section-135" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-136"><td class="docs"><div class="pilwrap"><a href="#section-136" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab10</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-137"><td class="docs"><div class="pilwrap"><a href="#section-137" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-138"><td class="docs"><div class="pilwrap"><a href="#section-138" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-139"><td class="docs"><div class="pilwrap"><a href="#section-139" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-140"><td class="docs"><div class="pilwrap"><a href="#section-140" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-141"><td class="docs"><div class="pilwrap"><a href="#section-141" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-142"><td class="docs"><div class="pilwrap"><a href="#section-142" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-143"><td class="docs"><div class="pilwrap"><a href="#section-143" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-144"><td class="docs"><div class="pilwrap"><a href="#section-144" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-145"><td class="docs"><div class="pilwrap"><a href="#section-145" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-146"><td class="docs"><div class="pilwrap"><a href="#section-146" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-147"><td class="docs"><div class="pilwrap"><a href="#section-147" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-148"><td class="docs"><div class="pilwrap"><a href="#section-148" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-149"><td class="docs"><div class="pilwrap"><a href="#section-149" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-150"><td class="docs"><div class="pilwrap"><a href="#section-150" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-151"><td class="docs"><div class="pilwrap"><a href="#section-151" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-152"><td class="docs"><div class="pilwrap"><a href="#section-152" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-153"><td class="docs"><div class="pilwrap"><a href="#section-153" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab11</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-154"><td class="docs"><div class="pilwrap"><a href="#section-154" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-155"><td class="docs"><div class="pilwrap"><a href="#section-155" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-156"><td class="docs"><div class="pilwrap"><a href="#section-156" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-157"><td class="docs"><div class="pilwrap"><a href="#section-157" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-158"><td class="docs"><div class="pilwrap"><a href="#section-158" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-159"><td class="docs"><div class="pilwrap"><a href="#section-159" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-160"><td class="docs"><div class="pilwrap"><a href="#section-160" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-161"><td class="docs"><div class="pilwrap"><a href="#section-161" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-162"><td class="docs"><div class="pilwrap"><a href="#section-162" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-163"><td class="docs"><div class="pilwrap"><a href="#section-163" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-164"><td class="docs"><div class="pilwrap"><a href="#section-164" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-165"><td class="docs"><div class="pilwrap"><a href="#section-165" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-166"><td class="docs"><div class="pilwrap"><a href="#section-166" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-167"><td class="docs"><div class="pilwrap"><a href="#section-167" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-168"><td class="docs"><div class="pilwrap"><a href="#section-168" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab12</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-169"><td class="docs"><div class="pilwrap"><a href="#section-169" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-170"><td class="docs"><div class="pilwrap"><a href="#section-170" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-171"><td class="docs"><div class="pilwrap"><a href="#section-171" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-172"><td class="docs"><div class="pilwrap"><a href="#section-172" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-173"><td class="docs"><div class="pilwrap"><a href="#section-173" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-174"><td class="docs"><div class="pilwrap"><a href="#section-174" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-175"><td class="docs"><div class="pilwrap"><a href="#section-175" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-176"><td class="docs"><div class="pilwrap"><a href="#section-176" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-177"><td class="docs"><div class="pilwrap"><a href="#section-177" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-178"><td class="docs"><div class="pilwrap"><a href="#section-178" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-179"><td class="docs"><div class="pilwrap"><a href="#section-179" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-180"><td class="docs"><div class="pilwrap"><a href="#section-180" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-181"><td class="docs"><div class="pilwrap"><a href="#section-181" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-182"><td class="docs"><div class="pilwrap"><a href="#section-182" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-183"><td class="docs"><div class="pilwrap"><a href="#section-183" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab13</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-184"><td class="docs"><div class="pilwrap"><a href="#section-184" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-185"><td class="docs"><div class="pilwrap"><a href="#section-185" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-186"><td class="docs"><div class="pilwrap"><a href="#section-186" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-187"><td class="docs"><div class="pilwrap"><a href="#section-187" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-188"><td class="docs"><div class="pilwrap"><a href="#section-188" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-189"><td class="docs"><div class="pilwrap"><a href="#section-189" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-190"><td class="docs"><div class="pilwrap"><a href="#section-190" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-191"><td class="docs"><div class="pilwrap"><a href="#section-191" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-192"><td class="docs"><div class="pilwrap"><a href="#section-192" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-193"><td class="docs"><div class="pilwrap"><a href="#section-193" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-194"><td class="docs"><div class="pilwrap"><a href="#section-194" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-195"><td class="docs"><div class="pilwrap"><a href="#section-195" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-196"><td class="docs"><div class="pilwrap"><a href="#section-196" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-197"><td class="docs"><div class="pilwrap"><a href="#section-197" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-198"><td class="docs"><div class="pilwrap"><a href="#section-198" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-199"><td class="docs"><div class="pilwrap"><a href="#section-199" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-200"><td class="docs"><div class="pilwrap"><a href="#section-200" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-201"><td class="docs"><div class="pilwrap"><a href="#section-201" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-202"><td class="docs"><div class="pilwrap"><a href="#section-202" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-203"><td class="docs"><div class="pilwrap"><a href="#section-203" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-204"><td class="docs"><div class="pilwrap"><a href="#section-204" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-205"><td class="docs"><div class="pilwrap"><a href="#section-205" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-206"><td class="docs"><div class="pilwrap"><a href="#section-206" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-207"><td class="docs"><div class="pilwrap"><a href="#section-207" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-208"><td class="docs"><div class="pilwrap"><a href="#section-208" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-209"><td class="docs"><div class="pilwrap"><a href="#section-209" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-210"><td class="docs"><div class="pilwrap"><a href="#section-210" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-211"><td class="docs"><div class="pilwrap"><a href="#section-211" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-212"><td class="docs"><div class="pilwrap"><a href="#section-212" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-213"><td class="docs"><div class="pilwrap"><a href="#section-213" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-214"><td class="docs"><div class="pilwrap"><a href="#section-214" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-215"><td class="docs"><div class="pilwrap"><a href="#section-215" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-216"><td class="docs"><div class="pilwrap"><a href="#section-216" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-217"><td class="docs"><div class="pilwrap"><a href="#section-217" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-218"><td class="docs"><div class="pilwrap"><a href="#section-218" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-219"><td class="docs"><div class="pilwrap"><a href="#section-219" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-220"><td class="docs"><div class="pilwrap"><a href="#section-220" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-221"><td class="docs"><div class="pilwrap"><a href="#section-221" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-222"><td class="docs"><div class="pilwrap"><a href="#section-222" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-223"><td class="docs"><div class="pilwrap"><a href="#section-223" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-224"><td class="docs"><div class="pilwrap"><a href="#section-224" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-225"><td class="docs"><div class="pilwrap"><a href="#section-225" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-226"><td class="docs"><div class="pilwrap"><a href="#section-226" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-227"><td class="docs"><div class="pilwrap"><a href="#section-227" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-228"><td class="docs"><div class="pilwrap"><a href="#section-228" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-229"><td class="docs"><div class="pilwrap"><a href="#section-229" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-230"><td class="docs"><div class="pilwrap"><a href="#section-230" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-231"><td class="docs"><div class="pilwrap"><a href="#section-231" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-232"><td class="docs"><div class="pilwrap"><a href="#section-232" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-233"><td class="docs"><div class="pilwrap"><a href="#section-233" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-234"><td class="docs"><div class="pilwrap"><a href="#section-234" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-235"><td class="docs"><div class="pilwrap"><a href="#section-235" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-236"><td class="docs"><div class="pilwrap"><a href="#section-236" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-237"><td class="docs"><div class="pilwrap"><a href="#section-237" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-238"><td class="docs"><div class="pilwrap"><a href="#section-238" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-239"><td class="docs"><div class="pilwrap"><a href="#section-239" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-240"><td class="docs"><div class="pilwrap"><a href="#section-240" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-241"><td class="docs"><div class="pilwrap"><a href="#section-241" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-242"><td class="docs"><div class="pilwrap"><a href="#section-242" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-243"><td class="docs"><div class="pilwrap"><a href="#section-243" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-244"><td class="docs"><div class="pilwrap"><a href="#section-244" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-245"><td class="docs"><div class="pilwrap"><a href="#section-245" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-246"><td class="docs"><div class="pilwrap"><a href="#section-246" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0000 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab15</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-247"><td class="docs"><div class="pilwrap"><a href="#section-247" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-248"><td class="docs"><div class="pilwrap"><a href="#section-248" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-249"><td class="docs"><div class="pilwrap"><a href="#section-249" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-250"><td class="docs"><div class="pilwrap"><a href="#section-250" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-251"><td class="docs"><div class="pilwrap"><a href="#section-251" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-252"><td class="docs"><div class="pilwrap"><a href="#section-252" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-253"><td class="docs"><div class="pilwrap"><a href="#section-253" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-254"><td class="docs"><div class="pilwrap"><a href="#section-254" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-255"><td class="docs"><div class="pilwrap"><a href="#section-255" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-256"><td class="docs"><div class="pilwrap"><a href="#section-256" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-257"><td class="docs"><div class="pilwrap"><a href="#section-257" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-258"><td class="docs"><div class="pilwrap"><a href="#section-258" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-259"><td class="docs"><div class="pilwrap"><a href="#section-259" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-260"><td class="docs"><div class="pilwrap"><a href="#section-260" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-261"><td class="docs"><div class="pilwrap"><a href="#section-261" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-262"><td class="docs"><div class="pilwrap"><a href="#section-262" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-263"><td class="docs"><div class="pilwrap"><a href="#section-263" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-264"><td class="docs"><div class="pilwrap"><a href="#section-264" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-265"><td class="docs"><div class="pilwrap"><a href="#section-265" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-266"><td class="docs"><div class="pilwrap"><a href="#section-266" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-267"><td class="docs"><div class="pilwrap"><a href="#section-267" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-268"><td class="docs"><div class="pilwrap"><a href="#section-268" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-269"><td class="docs"><div class="pilwrap"><a href="#section-269" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-270"><td class="docs"><div class="pilwrap"><a href="#section-270" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-271"><td class="docs"><div class="pilwrap"><a href="#section-271" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-272"><td class="docs"><div class="pilwrap"><a href="#section-272" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-273"><td class="docs"><div class="pilwrap"><a href="#section-273" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-274"><td class="docs"><div class="pilwrap"><a href="#section-274" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-275"><td class="docs"><div class="pilwrap"><a href="#section-275" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-276"><td class="docs"><div class="pilwrap"><a href="#section-276" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-277"><td class="docs"><div class="pilwrap"><a href="#section-277" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-278"><td class="docs"><div class="pilwrap"><a href="#section-278" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-279"><td class="docs"><div class="pilwrap"><a href="#section-279" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-280"><td class="docs"><div class="pilwrap"><a href="#section-280" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-281"><td class="docs"><div class="pilwrap"><a href="#section-281" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-282"><td class="docs"><div class="pilwrap"><a href="#section-282" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-283"><td class="docs"><div class="pilwrap"><a href="#section-283" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-284"><td class="docs"><div class="pilwrap"><a href="#section-284" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-285"><td class="docs"><div class="pilwrap"><a href="#section-285" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-286"><td class="docs"><div class="pilwrap"><a href="#section-286" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-287"><td class="docs"><div class="pilwrap"><a href="#section-287" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-288"><td class="docs"><div class="pilwrap"><a href="#section-288" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-289"><td class="docs"><div class="pilwrap"><a href="#section-289" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-290"><td class="docs"><div class="pilwrap"><a href="#section-290" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-291"><td class="docs"><div class="pilwrap"><a href="#section-291" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-292"><td class="docs"><div class="pilwrap"><a href="#section-292" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-293"><td class="docs"><div class="pilwrap"><a href="#section-293" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-294"><td class="docs"><div class="pilwrap"><a href="#section-294" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-295"><td class="docs"><div class="pilwrap"><a href="#section-295" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-296"><td class="docs"><div class="pilwrap"><a href="#section-296" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-297"><td class="docs"><div class="pilwrap"><a href="#section-297" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-298"><td class="docs"><div class="pilwrap"><a href="#section-298" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-299"><td class="docs"><div class="pilwrap"><a href="#section-299" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-300"><td class="docs"><div class="pilwrap"><a href="#section-300" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-301"><td class="docs"><div class="pilwrap"><a href="#section-301" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0011 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-302"><td class="docs"><div class="pilwrap"><a href="#section-302" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0011 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-303"><td class="docs"><div class="pilwrap"><a href="#section-303" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-304"><td class="docs"><div class="pilwrap"><a href="#section-304" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-305"><td class="docs"><div class="pilwrap"><a href="#section-305" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-306"><td class="docs"><div class="pilwrap"><a href="#section-306" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-307"><td class="docs"><div class="pilwrap"><a href="#section-307" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-308"><td class="docs"><div class="pilwrap"><a href="#section-308" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-309"><td class="docs"><div class="pilwrap"><a href="#section-309" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab16</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-310"><td class="docs"><div class="pilwrap"><a href="#section-310" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-311"><td class="docs"><div class="pilwrap"><a href="#section-311" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-312"><td class="docs"><div class="pilwrap"><a href="#section-312" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-313"><td class="docs"><div class="pilwrap"><a href="#section-313" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-314"><td class="docs"><div class="pilwrap"><a href="#section-314" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-315"><td class="docs"><div class="pilwrap"><a href="#section-315" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-316"><td class="docs"><div class="pilwrap"><a href="#section-316" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-317"><td class="docs"><div class="pilwrap"><a href="#section-317" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-318"><td class="docs"><div class="pilwrap"><a href="#section-318" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-319"><td class="docs"><div class="pilwrap"><a href="#section-319" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-320"><td class="docs"><div class="pilwrap"><a href="#section-320" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-321"><td class="docs"><div class="pilwrap"><a href="#section-321" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-322"><td class="docs"><div class="pilwrap"><a href="#section-322" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-323"><td class="docs"><div class="pilwrap"><a href="#section-323" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-324"><td class="docs"><div class="pilwrap"><a href="#section-324" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-325"><td class="docs"><div class="pilwrap"><a href="#section-325" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-326"><td class="docs"><div class="pilwrap"><a href="#section-326" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-327"><td class="docs"><div class="pilwrap"><a href="#section-327" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-328"><td class="docs"><div class="pilwrap"><a href="#section-328" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-329"><td class="docs"><div class="pilwrap"><a href="#section-329" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-330"><td class="docs"><div class="pilwrap"><a href="#section-330" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-331"><td class="docs"><div class="pilwrap"><a href="#section-331" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-332"><td class="docs"><div class="pilwrap"><a href="#section-332" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-333"><td class="docs"><div class="pilwrap"><a href="#section-333" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-334"><td class="docs"><div class="pilwrap"><a href="#section-334" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-335"><td class="docs"><div class="pilwrap"><a href="#section-335" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-336"><td class="docs"><div class="pilwrap"><a href="#section-336" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-337"><td class="docs"><div class="pilwrap"><a href="#section-337" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-338"><td class="docs"><div class="pilwrap"><a href="#section-338" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-339"><td class="docs"><div class="pilwrap"><a href="#section-339" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-340"><td class="docs"><div class="pilwrap"><a href="#section-340" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-341"><td class="docs"><div class="pilwrap"><a href="#section-341" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-342"><td class="docs"><div class="pilwrap"><a href="#section-342" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-343"><td class="docs"><div class="pilwrap"><a href="#section-343" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-344"><td class="docs"><div class="pilwrap"><a href="#section-344" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-345"><td class="docs"><div class="pilwrap"><a href="#section-345" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-346"><td class="docs"><div class="pilwrap"><a href="#section-346" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-347"><td class="docs"><div class="pilwrap"><a href="#section-347" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-348"><td class="docs"><div class="pilwrap"><a href="#section-348" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-349"><td class="docs"><div class="pilwrap"><a href="#section-349" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-350"><td class="docs"><div class="pilwrap"><a href="#section-350" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-351"><td class="docs"><div class="pilwrap"><a href="#section-351" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-352"><td class="docs"><div class="pilwrap"><a href="#section-352" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-353"><td class="docs"><div class="pilwrap"><a href="#section-353" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-354"><td class="docs"><div class="pilwrap"><a href="#section-354" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-355"><td class="docs"><div class="pilwrap"><a href="#section-355" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-356"><td class="docs"><div class="pilwrap"><a href="#section-356" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-357"><td class="docs"><div class="pilwrap"><a href="#section-357" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-358"><td class="docs"><div class="pilwrap"><a href="#section-358" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-359"><td class="docs"><div class="pilwrap"><a href="#section-359" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-360"><td class="docs"><div class="pilwrap"><a href="#section-360" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-361"><td class="docs"><div class="pilwrap"><a href="#section-361" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-362"><td class="docs"><div class="pilwrap"><a href="#section-362" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-363"><td class="docs"><div class="pilwrap"><a href="#section-363" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-364"><td class="docs"><div class="pilwrap"><a href="#section-364" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1011 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-365"><td class="docs"><div class="pilwrap"><a href="#section-365" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-366"><td class="docs"><div class="pilwrap"><a href="#section-366" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-367"><td class="docs"><div class="pilwrap"><a href="#section-367" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-368"><td class="docs"><div class="pilwrap"><a href="#section-368" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-369"><td class="docs"><div class="pilwrap"><a href="#section-369" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-370"><td class="docs"><div class="pilwrap"><a href="#section-370" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-371"><td class="docs"><div class="pilwrap"><a href="#section-371" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-372"><td class="docs"><div class="pilwrap"><a href="#section-372" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1100 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-373"><td class="docs"><div class="pilwrap"><a href="#section-373" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 1101 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-374"><td class="docs"><div class="pilwrap"><a href="#section-374" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 0110 1100 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kr">const</span> <span class="nx">hufftab24</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-375"><td class="docs"><div class="pilwrap"><a href="#section-375" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-376"><td class="docs"><div class="pilwrap"><a href="#section-376" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-377"><td class="docs"><div class="pilwrap"><a href="#section-377" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-378"><td class="docs"><div class="pilwrap"><a href="#section-378" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-379"><td class="docs"><div class="pilwrap"><a href="#section-379" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-380"><td class="docs"><div class="pilwrap"><a href="#section-380" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-381"><td class="docs"><div class="pilwrap"><a href="#section-381" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-382"><td class="docs"><div class="pilwrap"><a href="#section-382" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-383"><td class="docs"><div class="pilwrap"><a href="#section-383" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-384"><td class="docs"><div class="pilwrap"><a href="#section-384" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-385"><td class="docs"><div class="pilwrap"><a href="#section-385" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-386"><td class="docs"><div class="pilwrap"><a href="#section-386" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-387"><td class="docs"><div class="pilwrap"><a href="#section-387" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-388"><td class="docs"><div class="pilwrap"><a href="#section-388" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-389"><td class="docs"><div class="pilwrap"><a href="#section-389" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-390"><td class="docs"><div class="pilwrap"><a href="#section-390" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0010 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-391"><td class="docs"><div class="pilwrap"><a href="#section-391" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0111</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-392"><td class="docs"><div class="pilwrap"><a href="#section-392" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-393"><td class="docs"><div class="pilwrap"><a href="#section-393" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-394"><td class="docs"><div class="pilwrap"><a href="#section-394" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-395"><td class="docs"><div class="pilwrap"><a href="#section-395" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-396"><td class="docs"><div class="pilwrap"><a href="#section-396" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-397"><td class="docs"><div class="pilwrap"><a href="#section-397" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-398"><td class="docs"><div class="pilwrap"><a href="#section-398" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-399"><td class="docs"><div class="pilwrap"><a href="#section-399" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-400"><td class="docs"><div class="pilwrap"><a href="#section-400" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-401"><td class="docs"><div class="pilwrap"><a href="#section-401" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-402"><td class="docs"><div class="pilwrap"><a href="#section-402" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-403"><td class="docs"><div class="pilwrap"><a href="#section-403" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-404"><td class="docs"><div class="pilwrap"><a href="#section-404" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-405"><td class="docs"><div class="pilwrap"><a href="#section-405" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-406"><td class="docs"><div class="pilwrap"><a href="#section-406" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0100 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-407"><td class="docs"><div class="pilwrap"><a href="#section-407" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-408"><td class="docs"><div class="pilwrap"><a href="#section-408" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-409"><td class="docs"><div class="pilwrap"><a href="#section-409" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-410"><td class="docs"><div class="pilwrap"><a href="#section-410" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>000</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>001</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>010</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>011</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>100</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>101</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>110</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>111</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-411"><td class="docs"><div class="pilwrap"><a href="#section-411" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-412"><td class="docs"><div class="pilwrap"><a href="#section-412" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-413"><td class="docs"><div class="pilwrap"><a href="#section-413" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-414"><td class="docs"><div class="pilwrap"><a href="#section-414" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-415"><td class="docs"><div class="pilwrap"><a href="#section-415" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-416"><td class="docs"><div class="pilwrap"><a href="#section-416" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-417"><td class="docs"><div class="pilwrap"><a href="#section-417" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-418"><td class="docs"><div class="pilwrap"><a href="#section-418" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-419"><td class="docs"><div class="pilwrap"><a href="#section-419" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-420"><td class="docs"><div class="pilwrap"><a href="#section-420" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 1101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-421"><td class="docs"><div class="pilwrap"><a href="#section-421" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-422"><td class="docs"><div class="pilwrap"><a href="#section-422" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0101 1111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-423"><td class="docs"><div class="pilwrap"><a href="#section-423" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 0000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-424"><td class="docs"><div class="pilwrap"><a href="#section-424" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 0001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-425"><td class="docs"><div class="pilwrap"><a href="#section-425" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 0010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-426"><td class="docs"><div class="pilwrap"><a href="#section-426" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-427"><td class="docs"><div class="pilwrap"><a href="#section-427" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 0100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-428"><td class="docs"><div class="pilwrap"><a href="#section-428" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 0101 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-429"><td class="docs"><div class="pilwrap"><a href="#section-429" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 0110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-430"><td class="docs"><div class="pilwrap"><a href="#section-430" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 0111 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-431"><td class="docs"><div class="pilwrap"><a href="#section-431" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 1000 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-432"><td class="docs"><div class="pilwrap"><a href="#section-432" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 1001 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-433"><td class="docs"><div class="pilwrap"><a href="#section-433" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 1010 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-434"><td class="docs"><div class="pilwrap"><a href="#section-434" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 1011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-435"><td class="docs"><div class="pilwrap"><a href="#section-435" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>00</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>01</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-436"><td class="docs"><div class="pilwrap"><a href="#section-436" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0110 1110 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-437"><td class="docs"><div class="pilwrap"><a href="#section-437" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0111 1100 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-438"><td class="docs"><div class="pilwrap"><a href="#section-438" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1000 0011 ...</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span></pre></div></td></tr><tr id="section-439"><td class="docs"><div class="pilwrap"><a href="#section-439" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>hufftable constructor</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">MP3Hufftable</span><span class="p">(</span><span class="nx">table</span><span class="p">,</span> <span class="nx">linbits</span><span class="p">,</span> <span class="nx">startbits</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">table</span> <span class="o">=</span> <span class="nx">table</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">linbits</span> <span class="o">=</span> <span class="nx">linbits</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">startbits</span> <span class="o">=</span> <span class="nx">startbits</span><span class="p">;</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-440"><td class="docs"><div class="pilwrap"><a href="#section-440" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>external tables</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">huff_quad_table</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">hufftabA</span><span class="p">,</span> <span class="nx">hufftabB</span> <span class="p">];</span>

<span class="kr">const</span> <span class="nx">huff_pair_table</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-441"><td class="docs"><div class="pilwrap"><a href="#section-441" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>2</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>3</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>4</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>5</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>6</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>7</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>8</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>9</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>12</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>13</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>14</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>15</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>16</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>17</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>18</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>19</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>20</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>21</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>22</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>23</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>24</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>25</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>26</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>27</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>28</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>29</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>30</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>31</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">];</span>

<span class="kd">var</span> <span class="nx">IMDCT</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">function</span> <span class="nx">IMDCT</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">tmp_imdct36</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">18</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">tmp_dctIV</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">18</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">tmp_sdctII</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
    <span class="p">}</span>
    </pre></div></td></tr><tr id="section-442"><td class="docs"><div class="pilwrap"><a href="#section-442" class="pilcrow">&#182;</a></div><p>perform X[18]->x[36] IMDCT using Szu-Wei Lee's fast algorithm</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">IMDCT</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">imdct36</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tmp_imdct36</span><span class="p">;</span></pre></div></td></tr><tr id="section-443"><td class="docs"><div class="pilwrap"><a href="#section-443" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>DCT-IV</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>        <span class="k">this</span><span class="p">.</span><span class="nx">dctIV</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">tmp</span><span class="p">);</span></pre></div></td></tr><tr id="section-444"><td class="docs"><div class="pilwrap"><a href="#section-444" class="pilcrow">&#182;</a></div><p>convert 18-point DCT-IV to 36-point IMDCT</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span>  <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span>  <span class="mi">9</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">y</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span>  <span class="nx">tmp</span><span class="p">[</span><span class="mi">9</span> <span class="o">+</span> <span class="nx">i</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span>  <span class="mi">9</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">27</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">y</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="nx">tmp</span><span class="p">[</span><span class="mi">36</span> <span class="o">-</span> <span class="p">(</span><span class="mi">9</span> <span class="o">+</span> <span class="nx">i</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">27</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">36</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">y</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="nx">tmp</span><span class="p">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">27</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">};</span>
    
    <span class="kd">var</span> <span class="nx">dctIV_scale</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">dctIV_scale</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="mi">18</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nx">IMDCT</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">dctIV</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">y</span><span class="p">,</span> <span class="nx">X</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tmp_dctIV</span><span class="p">;</span></pre></div></td></tr><tr id="section-445"><td class="docs"><div class="pilwrap"><a href="#section-445" class="pilcrow">&#182;</a></div><p>scaling</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">tmp</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">y</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">*</span> <span class="nx">dctIV_scale</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="p">}</span></pre></div></td></tr><tr id="section-446"><td class="docs"><div class="pilwrap"><a href="#section-446" class="pilcrow">&#182;</a></div><p>SDCT-II</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">this</span><span class="p">.</span><span class="nx">sdctII</span><span class="p">(</span><span class="nx">tmp</span><span class="p">,</span> <span class="nx">X</span><span class="p">);</span></pre></div></td></tr><tr id="section-447"><td class="docs"><div class="pilwrap"><a href="#section-447" class="pilcrow">&#182;</a></div><p>scale reduction and output accumulation</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">X</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">X</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">X</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="nx">X</span><span class="p">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">};</span>
    
    <span class="kd">var</span> <span class="nx">sdctII_scale</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">sdctII_scale</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">18</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nx">IMDCT</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sdctII</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">X</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-448"><td class="docs"><div class="pilwrap"><a href="#section-448" class="pilcrow">&#182;</a></div><p>divide the 18-point SDCT-II into two 9-point SDCT-IIs</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tmp_sdctII</span><span class="p">;</span></pre></div></td></tr><tr id="section-449"><td class="docs"><div class="pilwrap"><a href="#section-449" class="pilcrow">&#182;</a></div><p>even input butterfly</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">tmp</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">x</span><span class="p">[</span><span class="mi">18</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>

        <span class="nx">fastsdct</span><span class="p">(</span><span class="nx">tmp</span><span class="p">,</span> <span class="nx">X</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span></pre></div></td></tr><tr id="section-450"><td class="docs"><div class="pilwrap"><a href="#section-450" class="pilcrow">&#182;</a></div><p>odd input butterfly and scaling</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">tmp</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">-</span> <span class="nx">x</span><span class="p">[</span><span class="mi">18</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="nx">sdctII_scale</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="p">}</span>

        <span class="nx">fastsdct</span><span class="p">(</span><span class="nx">tmp</span><span class="p">,</span> <span class="nx">X</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span></pre></div></td></tr><tr id="section-451"><td class="docs"><div class="pilwrap"><a href="#section-451" class="pilcrow">&#182;</a></div><p>output accumulation</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">X</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">-=</span> <span class="nx">X</span><span class="p">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">};</span>
    
    <span class="kd">var</span> <span class="nx">c0</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span> <span class="mi">1</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">18</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">c1</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span> <span class="mi">3</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">18</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">c2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span> <span class="mi">4</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">18</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">c3</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span> <span class="mi">5</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">18</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">c4</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span> <span class="mi">7</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">18</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">c5</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span> <span class="mi">8</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">18</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">c6</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="mi">16</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">18</span><span class="p">);</span>

    <span class="kd">function</span> <span class="nx">fastsdct</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">offset</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">a0</span><span class="p">,</span>  <span class="nx">a1</span><span class="p">,</span>  <span class="nx">a2</span><span class="p">,</span>  <span class="nx">a3</span><span class="p">,</span>  <span class="nx">a4</span><span class="p">,</span>  <span class="nx">a5</span><span class="p">,</span>  <span class="nx">a6</span><span class="p">,</span>  <span class="nx">a7</span><span class="p">,</span>  <span class="nx">a8</span><span class="p">,</span>  <span class="nx">a9</span><span class="p">,</span>  <span class="nx">a10</span><span class="p">,</span> <span class="nx">a11</span><span class="p">,</span> <span class="nx">a12</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">a13</span><span class="p">,</span> <span class="nx">a14</span><span class="p">,</span> <span class="nx">a15</span><span class="p">,</span> <span class="nx">a16</span><span class="p">,</span> <span class="nx">a17</span><span class="p">,</span> <span class="nx">a18</span><span class="p">,</span> <span class="nx">a19</span><span class="p">,</span> <span class="nx">a20</span><span class="p">,</span> <span class="nx">a21</span><span class="p">,</span> <span class="nx">a22</span><span class="p">,</span> <span class="nx">a23</span><span class="p">,</span> <span class="nx">a24</span><span class="p">,</span> <span class="nx">a25</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">m0</span><span class="p">,</span>  <span class="nx">m1</span><span class="p">,</span>  <span class="nx">m2</span><span class="p">,</span>  <span class="nx">m3</span><span class="p">,</span>  <span class="nx">m4</span><span class="p">,</span>  <span class="nx">m5</span><span class="p">,</span>  <span class="nx">m6</span><span class="p">,</span>  <span class="nx">m7</span><span class="p">;</span>

        <span class="nx">a0</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="nx">x</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
        <span class="nx">a1</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="nx">x</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
        <span class="nx">a2</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">+</span> <span class="nx">x</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
        <span class="nx">a3</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">-</span> <span class="nx">x</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
        <span class="nx">a4</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nx">x</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
        <span class="nx">a5</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="nx">x</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
        <span class="nx">a6</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="nx">x</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="nx">a7</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">-</span> <span class="nx">x</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

        <span class="nx">a8</span>  <span class="o">=</span> <span class="nx">a0</span>  <span class="o">+</span> <span class="nx">a2</span><span class="p">;</span>
        <span class="nx">a9</span>  <span class="o">=</span> <span class="nx">a0</span>  <span class="o">-</span> <span class="nx">a2</span><span class="p">;</span>
        <span class="nx">a10</span> <span class="o">=</span> <span class="nx">a0</span>  <span class="o">-</span> <span class="nx">a6</span><span class="p">;</span>
        <span class="nx">a11</span> <span class="o">=</span> <span class="nx">a2</span>  <span class="o">-</span> <span class="nx">a6</span><span class="p">;</span>
        <span class="nx">a12</span> <span class="o">=</span> <span class="nx">a8</span>  <span class="o">+</span> <span class="nx">a6</span><span class="p">;</span>
        <span class="nx">a13</span> <span class="o">=</span> <span class="nx">a1</span>  <span class="o">-</span> <span class="nx">a3</span><span class="p">;</span>
        <span class="nx">a14</span> <span class="o">=</span> <span class="nx">a13</span> <span class="o">+</span> <span class="nx">a7</span><span class="p">;</span>
        <span class="nx">a15</span> <span class="o">=</span> <span class="nx">a3</span>  <span class="o">+</span> <span class="nx">a7</span><span class="p">;</span>
        <span class="nx">a16</span> <span class="o">=</span> <span class="nx">a1</span>  <span class="o">-</span> <span class="nx">a7</span><span class="p">;</span>
        <span class="nx">a17</span> <span class="o">=</span> <span class="nx">a1</span>  <span class="o">+</span> <span class="nx">a3</span><span class="p">;</span>

        <span class="nx">m0</span> <span class="o">=</span> <span class="nx">a17</span> <span class="o">*</span> <span class="o">-</span><span class="nx">c3</span><span class="p">;</span>
        <span class="nx">m1</span> <span class="o">=</span> <span class="nx">a16</span> <span class="o">*</span> <span class="o">-</span><span class="nx">c0</span><span class="p">;</span>
        <span class="nx">m2</span> <span class="o">=</span> <span class="nx">a15</span> <span class="o">*</span> <span class="o">-</span><span class="nx">c4</span><span class="p">;</span>
        <span class="nx">m3</span> <span class="o">=</span> <span class="nx">a14</span> <span class="o">*</span> <span class="o">-</span><span class="nx">c1</span><span class="p">;</span>
        <span class="nx">m4</span> <span class="o">=</span> <span class="nx">a5</span>  <span class="o">*</span> <span class="o">-</span><span class="nx">c1</span><span class="p">;</span>
        <span class="nx">m5</span> <span class="o">=</span> <span class="nx">a11</span> <span class="o">*</span> <span class="o">-</span><span class="nx">c6</span><span class="p">;</span>
        <span class="nx">m6</span> <span class="o">=</span> <span class="nx">a10</span> <span class="o">*</span> <span class="o">-</span><span class="nx">c5</span><span class="p">;</span>
        <span class="nx">m7</span> <span class="o">=</span> <span class="nx">a9</span>  <span class="o">*</span> <span class="o">-</span><span class="nx">c2</span><span class="p">;</span>

        <span class="nx">a18</span> <span class="o">=</span>     <span class="nx">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="nx">a4</span><span class="p">;</span>
        <span class="nx">a19</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">-</span> <span class="nx">a4</span><span class="p">;</span>
        <span class="nx">a20</span> <span class="o">=</span> <span class="nx">a19</span> <span class="o">+</span> <span class="nx">m5</span><span class="p">;</span>
        <span class="nx">a21</span> <span class="o">=</span> <span class="nx">a19</span> <span class="o">-</span> <span class="nx">m5</span><span class="p">;</span>
        <span class="nx">a22</span> <span class="o">=</span> <span class="nx">a19</span> <span class="o">+</span> <span class="nx">m6</span><span class="p">;</span>
        <span class="nx">a23</span> <span class="o">=</span> <span class="nx">m4</span>  <span class="o">+</span> <span class="nx">m2</span><span class="p">;</span>
        <span class="nx">a24</span> <span class="o">=</span> <span class="nx">m4</span>  <span class="o">-</span> <span class="nx">m2</span><span class="p">;</span>
        <span class="nx">a25</span> <span class="o">=</span> <span class="nx">m4</span>  <span class="o">+</span> <span class="nx">m1</span><span class="p">;</span></pre></div></td></tr><tr id="section-452"><td class="docs"><div class="pilwrap"><a href="#section-452" class="pilcrow">&#182;</a></div><p>output to every other slot for convenience</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">y</span><span class="p">[</span><span class="nx">offset</span> <span class="o">+</span>  <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">a18</span> <span class="o">+</span> <span class="nx">a12</span><span class="p">;</span>
        <span class="nx">y</span><span class="p">[</span><span class="nx">offset</span> <span class="o">+</span>  <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">m0</span>  <span class="o">-</span> <span class="nx">a25</span><span class="p">;</span>
        <span class="nx">y</span><span class="p">[</span><span class="nx">offset</span> <span class="o">+</span>  <span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="nx">m7</span>  <span class="o">-</span> <span class="nx">a20</span><span class="p">;</span>
        <span class="nx">y</span><span class="p">[</span><span class="nx">offset</span> <span class="o">+</span>  <span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="nx">m3</span><span class="p">;</span>
        <span class="nx">y</span><span class="p">[</span><span class="nx">offset</span> <span class="o">+</span>  <span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="nx">a21</span> <span class="o">-</span> <span class="nx">m6</span><span class="p">;</span>
        <span class="nx">y</span><span class="p">[</span><span class="nx">offset</span> <span class="o">+</span> <span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="nx">a24</span> <span class="o">-</span> <span class="nx">m1</span><span class="p">;</span>
        <span class="nx">y</span><span class="p">[</span><span class="nx">offset</span> <span class="o">+</span> <span class="mi">12</span><span class="p">]</span> <span class="o">=</span> <span class="nx">a12</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">a18</span><span class="p">;</span>
        <span class="nx">y</span><span class="p">[</span><span class="nx">offset</span> <span class="o">+</span> <span class="mi">14</span><span class="p">]</span> <span class="o">=</span> <span class="nx">a23</span> <span class="o">+</span> <span class="nx">m0</span><span class="p">;</span>
        <span class="nx">y</span><span class="p">[</span><span class="nx">offset</span> <span class="o">+</span> <span class="mi">16</span><span class="p">]</span> <span class="o">=</span> <span class="nx">a22</span> <span class="o">+</span> <span class="nx">m7</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nx">IMDCT</span><span class="p">;</span>
    
<span class="p">})();</span>

<span class="kr">const</span> <span class="nx">IMDCT_S</span> <span class="o">=</span> <span class="p">[</span></pre></div></td></tr><tr id="section-453"><td class="docs"><div class="pilwrap"><a href="#section-453" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>              <span class="o">-</span><span class="mf">0.923879533</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.130526192</span><span class="p">,</span>
               <span class="mf">0.991444861</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.382683432</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.793353340</span> <span class="p">],</span></pre></div></td></tr><tr id="section-454"><td class="docs"><div class="pilwrap"><a href="#section-454" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>6</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>               <span class="mf">0.382683432</span><span class="p">,</span>
               <span class="mf">0.991444861</span><span class="p">,</span>
               <span class="mf">0.130526192</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.923879533</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.608761429</span> <span class="p">],</span></pre></div></td></tr><tr id="section-455"><td class="docs"><div class="pilwrap"><a href="#section-455" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>              <span class="o">-</span><span class="mf">0.923879533</span><span class="p">,</span>
               <span class="mf">0.923879533</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.382683432</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.382683432</span><span class="p">,</span>
               <span class="mf">0.923879533</span> <span class="p">],</span></pre></div></td></tr><tr id="section-456"><td class="docs"><div class="pilwrap"><a href="#section-456" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>7</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>              <span class="o">-</span><span class="mf">0.382683432</span><span class="p">,</span>
               <span class="mf">0.382683432</span><span class="p">,</span>
               <span class="mf">0.923879533</span><span class="p">,</span>
               <span class="mf">0.923879533</span><span class="p">,</span>
               <span class="mf">0.382683432</span> <span class="p">],</span></pre></div></td></tr><tr id="section-457"><td class="docs"><div class="pilwrap"><a href="#section-457" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>2</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>              <span class="o">-</span><span class="mf">0.382683432</span><span class="p">,</span>
               <span class="mf">0.608761429</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.793353340</span><span class="p">,</span>
               <span class="mf">0.923879533</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.991444861</span> <span class="p">],</span></pre></div></td></tr><tr id="section-458"><td class="docs"><div class="pilwrap"><a href="#section-458" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>8</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>              <span class="o">-</span><span class="mf">0.923879533</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.793353340</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.608761429</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.382683432</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.130526192</span> <span class="p">]</span>
<span class="p">];</span>

<span class="kd">function</span> <span class="nx">MP3SideInfo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">main_data_begin</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">private_bits</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">gr</span> <span class="o">=</span> <span class="p">[</span><span class="k">new</span> <span class="nx">MP3Granule</span><span class="p">(),</span> <span class="k">new</span> <span class="nx">MP3Granule</span><span class="p">()];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">scfsi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">MP3Granule</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">ch</span> <span class="o">=</span> <span class="p">[</span><span class="k">new</span> <span class="nx">MP3Channel</span><span class="p">(),</span> <span class="k">new</span> <span class="nx">MP3Channel</span><span class="p">()];</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">MP3Channel</span><span class="p">()</span> <span class="p">{</span></pre></div></td></tr><tr id="section-459"><td class="docs"><div class="pilwrap"><a href="#section-459" class="pilcrow">&#182;</a></div><p>from side info</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">part2_3_length</span>    <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">big_values</span>        <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">global_gain</span>       <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">scalefac_compress</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">flags</span>         <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">block_type</span>    <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">table_select</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">subblock_gain</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">region0_count</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">region1_count</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    </pre></div></td></tr><tr id="section-460"><td class="docs"><div class="pilwrap"><a href="#section-460" class="pilcrow">&#182;</a></div><p>from main_data</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">scalefac</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">(</span><span class="mi">39</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Layer3</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">imdct</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">IMDCT</span><span class="p">();</span>
    </pre></div></td></tr><tr id="section-461"><td class="docs"><div class="pilwrap"><a href="#section-461" class="pilcrow">&#182;</a></div><p>preallocate reusable typed arrays for performance</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">xr</span> <span class="o">=</span> <span class="p">[</span><span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">576</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">576</span><span class="p">)];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_exponents</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Int32Array</span><span class="p">(</span><span class="mi">39</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">reqcache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">modes</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Int16Array</span><span class="p">(</span><span class="mi">39</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">output</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">36</span><span class="p">);</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">tmp</span> <span class="o">=</span> <span class="nx">makeArray</span><span class="p">([</span><span class="mi">32</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">tmp2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">32</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">6</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">decode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">frame</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">header</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">next_md_begin</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">md_len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">nch</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">nchannels</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">si_len</span> <span class="o">=</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="nx">nch</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">9</span> <span class="o">:</span> <span class="mi">17</span><span class="p">)</span> <span class="o">:</span> <span class="p">(</span><span class="nx">nch</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">17</span> <span class="o">:</span> <span class="mi">32</span><span class="p">);</span>
        </pre></div></td></tr><tr id="section-462"><td class="docs"><div class="pilwrap"><a href="#section-462" class="pilcrow">&#182;</a></div><p>check frame sanity</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">nextByte</span><span class="p">()</span> <span class="o">&lt;</span> <span class="nx">si_len</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADFRAMELEN</span><span class="p">;</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    </pre></div></td></tr><tr id="section-463"><td class="docs"><div class="pilwrap"><a href="#section-463" class="pilcrow">&#182;</a></div><p>check CRC word</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">PROTECTION</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-464"><td class="docs"><div class="pilwrap"><a href="#section-464" class="pilcrow">&#182;</a></div><p>TODO: crc check</p>
</td><td class="code"><div class="highlight"><pre>    <span class="p">}</span>
    </pre></div></td></tr><tr id="section-465"><td class="docs"><div class="pilwrap"><a href="#section-465" class="pilcrow">&#182;</a></div><p>decode frame side information</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">sideInfo</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sideInfo</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">nch</span><span class="p">,</span> <span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">!==</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">NONE</span><span class="p">)</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        
    <span class="kd">var</span> <span class="nx">si</span> <span class="o">=</span> <span class="nx">sideInfo</span><span class="p">.</span><span class="nx">si</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">data_bitlen</span> <span class="o">=</span> <span class="nx">sideInfo</span><span class="p">.</span><span class="nx">data_bitlen</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">priv_bitlen</span> <span class="o">=</span> <span class="nx">sideInfo</span><span class="p">.</span><span class="nx">priv_bitlen</span><span class="p">;</span>
    
    <span class="nx">header</span><span class="p">.</span><span class="nx">flags</span>        <span class="o">|=</span> <span class="nx">priv_bitlen</span><span class="p">;</span>
    <span class="nx">header</span><span class="p">.</span><span class="nx">private_bits</span> <span class="o">|=</span> <span class="nx">si</span><span class="p">.</span><span class="nx">private_bits</span><span class="p">;</span>
    </pre></div></td></tr><tr id="section-466"><td class="docs"><div class="pilwrap"><a href="#section-466" class="pilcrow">&#182;</a></div><p>find main_data of next frame</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">peek</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">copy</span><span class="p">();</span>
    <span class="nx">peek</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">-</span> <span class="nx">peek</span><span class="p">.</span><span class="nx">offset</span><span class="p">());</span>
    
    <span class="kd">var</span> <span class="nx">nextHeader</span> <span class="o">=</span> <span class="nx">peek</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">32</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="nx">nextHeader</span><span class="p">,</span> <span class="mh">0xffe60000</span><span class="p">)</span> <span class="o">===</span> <span class="mh">0xffe20000</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// syncword | layer</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="nx">nextHeader</span><span class="p">,</span> <span class="mh">0x00010000</span><span class="p">))</span> <span class="c1">// protection bit</span>
            <span class="nx">peek</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span> <span class="c1">// crc check</span>
            
        <span class="nx">next_md_begin</span> <span class="o">=</span> <span class="nx">peek</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="nx">nextHeader</span><span class="p">,</span> <span class="mh">0x00080000</span><span class="p">)</span> <span class="o">?</span> <span class="mi">9</span> <span class="o">:</span> <span class="mi">8</span><span class="p">);</span>
    <span class="p">}</span>
    </pre></div></td></tr><tr id="section-467"><td class="docs"><div class="pilwrap"><a href="#section-467" class="pilcrow">&#182;</a></div><p>find main_data of this frame</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">frame_space</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">-</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">nextByte</span><span class="p">();</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">next_md_begin</span> <span class="o">&gt;</span> <span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span> <span class="o">+</span> <span class="nx">frame_space</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">next_md_begin</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
        
    <span class="kd">var</span> <span class="nx">md_len</span> <span class="o">=</span> <span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span> <span class="o">+</span> <span class="nx">frame_space</span> <span class="o">-</span> <span class="nx">next_md_begin</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">frame_used</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">ptr</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">;</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">frame_used</span> <span class="o">=</span> <span class="nx">md_len</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span> <span class="o">&gt;</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADDATAPTR</span><span class="p">;</span>
                <span class="nx">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">old_md_len</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span><span class="p">;</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="nx">md_len</span> <span class="o">&gt;</span> <span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">+</span> <span class="nx">md_len</span> <span class="o">-</span> <span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span> <span class="o">&gt;</span> <span class="nx">BUFFER_MDLEN</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Assertion failed: (stream.md_len + md_len - si.main_data_begin &lt;= MAD_BUFFER_MDLEN)&quot;</span><span class="p">);</span>
                <span class="p">}</span>
                
                <span class="nx">frame_used</span> <span class="o">=</span> <span class="nx">md_len</span> <span class="o">-</span> <span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">memcpy</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">main_data</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">nextByte</span><span class="p">(),</span> <span class="nx">frame_used</span><span class="p">);</span>
                <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">+=</span> <span class="nx">frame_used</span><span class="p">;</span>
            <span class="p">}</span>
            
            <span class="nx">ptr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bitstream</span><span class="p">(</span><span class="nx">Stream</span><span class="p">.</span><span class="nx">fromBuffer</span><span class="p">(</span><span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">main_data</span><span class="p">)));</span>
            <span class="nx">ptr</span><span class="p">.</span><span class="nx">advance</span><span class="p">((</span><span class="nx">old_md_len</span> <span class="o">-</span> <span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span><span class="p">)</span> <span class="o">*</span> <span class="mi">8</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">var</span> <span class="nx">frame_free</span> <span class="o">=</span> <span class="nx">frame_space</span> <span class="o">-</span> <span class="nx">frame_used</span><span class="p">;</span>
    </pre></div></td></tr><tr id="section-468"><td class="docs"><div class="pilwrap"><a href="#section-468" class="pilcrow">&#182;</a></div><p>decode main_data</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">error</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">decodeMainData</span><span class="p">(</span><span class="nx">ptr</span><span class="p">,</span> <span class="nx">frame</span><span class="p">,</span> <span class="nx">si</span><span class="p">,</span> <span class="nx">nch</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">error</span><span class="p">;</span>
            <span class="nx">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </pre></div></td></tr><tr id="section-469"><td class="docs"><div class="pilwrap"><a href="#section-469" class="pilcrow">&#182;</a></div><p>preload main_data buffer with up to 511 bytes for next frame(s)</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">frame_free</span> <span class="o">&gt;=</span> <span class="nx">next_md_begin</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">memcpy</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">main_data</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">-</span> <span class="nx">next_md_begin</span><span class="p">,</span> <span class="nx">next_md_begin</span><span class="p">);</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">=</span> <span class="nx">next_md_begin</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">md_len</span> <span class="o">&lt;</span> <span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">extra</span> <span class="o">=</span> <span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span> <span class="o">-</span> <span class="nx">md_len</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">extra</span> <span class="o">+</span> <span class="nx">frame_free</span> <span class="o">&gt;</span> <span class="nx">next_md_begin</span><span class="p">)</span>
                <span class="nx">extra</span> <span class="o">=</span> <span class="nx">next_md_begin</span> <span class="o">-</span> <span class="nx">frame_free</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">extra</span> <span class="o">&lt;</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">memcpy</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">main_data</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">main_data</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">-</span> <span class="nx">extra</span><span class="p">,</span> <span class="nx">extra</span><span class="p">);</span>
                <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">=</span> <span class="nx">extra</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="k">this</span><span class="p">.</span><span class="nx">memcpy</span><span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">main_data</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">next_frame</span> <span class="o">-</span> <span class="nx">frame_free</span><span class="p">,</span> <span class="nx">frame_free</span><span class="p">);</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">md_len</span> <span class="o">+=</span> <span class="nx">frame_free</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">memcpy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">dst</span><span class="p">,</span> <span class="nx">dstOffset</span><span class="p">,</span> <span class="nx">pSrc</span><span class="p">,</span> <span class="nx">srcOffset</span><span class="p">,</span> <span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">subarr</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">pSrc</span><span class="p">.</span><span class="nx">subarray</span><span class="p">)</span>
        <span class="nx">subarr</span> <span class="o">=</span> <span class="nx">pSrc</span><span class="p">.</span><span class="nx">subarray</span><span class="p">(</span><span class="nx">srcOffset</span><span class="p">,</span> <span class="nx">srcOffset</span> <span class="o">+</span> <span class="nx">length</span><span class="p">);</span>
    <span class="k">else</span>
        <span class="nx">subarr</span> <span class="o">=</span> <span class="nx">pSrc</span><span class="p">.</span><span class="nx">peekBuffer</span><span class="p">(</span><span class="nx">srcOffset</span> <span class="o">-</span> <span class="nx">pSrc</span><span class="p">.</span><span class="nx">offset</span><span class="p">,</span> <span class="nx">length</span><span class="p">).</span><span class="nx">data</span><span class="p">;</span></pre></div></td></tr><tr id="section-470"><td class="docs"><div class="pilwrap"><a href="#section-470" class="pilcrow">&#182;</a></div><p>oh my, memcpy actually exists in JavaScript?</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">dst</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">subarr</span><span class="p">,</span> <span class="nx">dstOffset</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">dst</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bitwiseAnd</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="mi">2147483648</span><span class="p">;</span> <span class="c1">// 2^31</span>

    <span class="kd">var</span> <span class="nx">aHI</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">/</span> <span class="nx">w</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">aLO</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">%</span> <span class="nx">w</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">bHI</span> <span class="o">=</span> <span class="p">(</span><span class="nx">b</span> <span class="o">/</span> <span class="nx">w</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">bLO</span> <span class="o">=</span> <span class="nx">b</span> <span class="o">%</span> <span class="nx">w</span><span class="p">;</span>

    <span class="k">return</span> <span class="p">((</span><span class="nx">aHI</span> <span class="o">&amp;</span> <span class="nx">bHI</span><span class="p">)</span> <span class="o">*</span> <span class="nx">w</span> <span class="o">+</span> <span class="p">(</span><span class="nx">aLO</span> <span class="o">&amp;</span> <span class="nx">bLO</span><span class="p">));</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sideInfo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">nch</span><span class="p">,</span> <span class="nx">lsf</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">si</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MP3SideInfo</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">NONE</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">data_bitlen</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">priv_bitlen</span> <span class="o">=</span> <span class="nx">lsf</span> <span class="o">?</span> <span class="p">((</span><span class="nx">nch</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">)</span> <span class="o">:</span> <span class="p">((</span><span class="nx">nch</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="mi">5</span> <span class="o">:</span> <span class="mi">3</span><span class="p">);</span>
    
    <span class="nx">si</span><span class="p">.</span><span class="nx">main_data_begin</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">lsf</span> <span class="o">?</span> <span class="mi">8</span> <span class="o">:</span> <span class="mi">9</span><span class="p">);</span>
    <span class="nx">si</span><span class="p">.</span><span class="nx">private_bits</span>    <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">priv_bitlen</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">ngr</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">lsf</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">ngr</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">ch</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">ch</span> <span class="o">&lt;</span> <span class="nx">nch</span><span class="p">;</span> <span class="o">++</span><span class="nx">ch</span><span class="p">)</span>
            <span class="nx">si</span><span class="p">.</span><span class="nx">scfsi</span><span class="p">[</span><span class="nx">ch</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">gr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">gr</span> <span class="o">&lt;</span> <span class="nx">ngr</span><span class="p">;</span> <span class="nx">gr</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">granule</span> <span class="o">=</span> <span class="nx">si</span><span class="p">.</span><span class="nx">gr</span><span class="p">[</span><span class="nx">gr</span><span class="p">];</span>
        
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">ch</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">ch</span> <span class="o">&lt;</span> <span class="nx">nch</span><span class="p">;</span> <span class="nx">ch</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">granule</span><span class="p">.</span><span class="nx">ch</span><span class="p">[</span><span class="nx">ch</span><span class="p">];</span>
            
            <span class="nx">channel</span><span class="p">.</span><span class="nx">part2_3_length</span>    <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
            <span class="nx">channel</span><span class="p">.</span><span class="nx">big_values</span>        <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
            <span class="nx">channel</span><span class="p">.</span><span class="nx">global_gain</span>       <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
            <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac_compress</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">lsf</span> <span class="o">?</span> <span class="mi">9</span> <span class="o">:</span> <span class="mi">4</span><span class="p">);</span>

            <span class="nx">data_bitlen</span> <span class="o">+=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">part2_3_length</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">big_values</span> <span class="o">&gt;</span> <span class="mi">288</span> <span class="o">&amp;&amp;</span> <span class="nx">result</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
                <span class="nx">result</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADBIGVALUES</span><span class="p">;</span>

            <span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></pre></div></td></tr><tr id="section-471"><td class="docs"><div class="pilwrap"><a href="#section-471" class="pilcrow">&#182;</a></div><p>window<em>switching</em>flag</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readOne</span><span class="p">())</span> <span class="p">{</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">readSmall</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

                <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">result</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="nx">result</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADBLOCKTYPE</span><span class="p">;</span>

                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">lsf</span> <span class="o">&amp;&amp;</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="nx">si</span><span class="p">.</span><span class="nx">scfsi</span><span class="p">[</span><span class="nx">ch</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">result</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="nx">result</span> <span class="o">=</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADSCFSI</span><span class="p">;</span>

                <span class="nx">channel</span><span class="p">.</span><span class="nx">region0_count</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">region1_count</span> <span class="o">=</span> <span class="mi">36</span><span class="p">;</span>

                <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">readOne</span><span class="p">())</span>
                    <span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">;</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span>
                    <span class="nx">channel</span><span class="p">.</span><span class="nx">region0_count</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>

                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
                    <span class="nx">channel</span><span class="p">.</span><span class="nx">table_select</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
                    <span class="nx">channel</span><span class="p">.</span><span class="nx">subblock_gain</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
                    <span class="nx">channel</span><span class="p">.</span><span class="nx">table_select</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

                <span class="nx">channel</span><span class="p">.</span><span class="nx">region0_count</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">region1_count</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
            <span class="p">}</span></pre></div></td></tr><tr id="section-472"><td class="docs"><div class="pilwrap"><a href="#section-472" class="pilcrow">&#182;</a></div><p>[preflag,] scalefac<em>scale, count1table</em>select</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">lsf</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">!==</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">NONE</span><span class="p">)</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">result</span><span class="p">;</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">si</span><span class="o">:</span> <span class="nx">si</span><span class="p">,</span>
        <span class="nx">data_bitlen</span><span class="o">:</span> <span class="nx">data_bitlen</span><span class="p">,</span>
        <span class="nx">priv_bitlen</span><span class="o">:</span> <span class="nx">priv_bitlen</span>
    <span class="p">};</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">decodeMainData</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">frame</span><span class="p">,</span> <span class="nx">si</span><span class="p">,</span> <span class="nx">nch</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">header</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">sfreq</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">samplerate</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">MPEG_2_5_EXT</span><span class="p">)</span>
        <span class="nx">sfreq</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span></pre></div></td></tr><tr id="section-473"><td class="docs"><div class="pilwrap"><a href="#section-473" class="pilcrow">&#182;</a></div><p>48000 => 0, 44100 => 1, 32000 => 2,
24000 => 3, 22050 => 4, 16000 => 5</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">sfreqi</span> <span class="o">=</span> <span class="p">((</span><span class="nx">sfreq</span> <span class="o">&gt;&gt;</span>  <span class="mi">7</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x000f</span><span class="p">)</span> <span class="o">+</span> <span class="p">((</span><span class="nx">sfreq</span> <span class="o">&gt;&gt;</span> <span class="mi">15</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x0001</span><span class="p">)</span> <span class="o">-</span> <span class="mi">8</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">MPEG_2_5_EXT</span><span class="p">)</span>
        <span class="nx">sfreqi</span> <span class="o">+=</span> <span class="mi">3</span><span class="p">;</span>
        </pre></div></td></tr><tr id="section-474"><td class="docs"><div class="pilwrap"><a href="#section-474" class="pilcrow">&#182;</a></div><p>scalefactors, Huffman decoding, requantization</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">ngr</span> <span class="o">=</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">xr</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">xr</span><span class="p">;</span>
    
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">gr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">gr</span> <span class="o">&lt;</span> <span class="nx">ngr</span><span class="p">;</span> <span class="o">++</span><span class="nx">gr</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">granule</span> <span class="o">=</span> <span class="nx">si</span><span class="p">.</span><span class="nx">gr</span><span class="p">[</span><span class="nx">gr</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">sfbwidth</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">ch</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">ch</span> <span class="o">&lt;</span> <span class="nx">nch</span><span class="p">;</span> <span class="o">++</span><span class="nx">ch</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">granule</span><span class="p">.</span><span class="nx">ch</span><span class="p">[</span><span class="nx">ch</span><span class="p">];</span>
            <span class="kd">var</span> <span class="nx">part2_length</span><span class="p">;</span>
            
            <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">ch</span><span class="p">]</span> <span class="o">=</span> <span class="nx">SFBWIDTH_TABLE</span><span class="p">[</span><span class="nx">sfreqi</span><span class="p">].</span><span class="nx">l</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">ch</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">)</span> <span class="o">?</span> <span class="nx">SFBWIDTH_TABLE</span><span class="p">[</span><span class="nx">sfreqi</span><span class="p">].</span><span class="nx">m</span> <span class="o">:</span> <span class="nx">SFBWIDTH_TABLE</span><span class="p">[</span><span class="nx">sfreqi</span><span class="p">].</span><span class="nx">s</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">part2_length</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">scalefactors_lsf</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">channel</span><span class="p">,</span> <span class="nx">ch</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">si</span><span class="p">.</span><span class="nx">gr</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">ch</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">header</span><span class="p">.</span><span class="nx">mode_extension</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">part2_length</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">scalefactors</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">channel</span><span class="p">,</span> <span class="nx">si</span><span class="p">.</span><span class="nx">gr</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ch</span><span class="p">[</span><span class="nx">ch</span><span class="p">],</span> <span class="nx">gr</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">si</span><span class="p">.</span><span class="nx">scfsi</span><span class="p">[</span><span class="nx">ch</span><span class="p">]);</span>
            <span class="p">}</span>

            <span class="kd">var</span> <span class="nx">error</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">huffmanDecode</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">xr</span><span class="p">[</span><span class="nx">ch</span><span class="p">],</span> <span class="nx">channel</span><span class="p">,</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">ch</span><span class="p">],</span> <span class="nx">part2_length</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span>
                <span class="k">return</span> <span class="nx">error</span><span class="p">;</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-475"><td class="docs"><div class="pilwrap"><a href="#section-475" class="pilcrow">&#182;</a></div><p>joint stereo processing</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">mode</span> <span class="o">===</span> <span class="nx">MODE</span><span class="p">.</span><span class="nx">JOINT_STEREO</span> <span class="o">&amp;&amp;</span> <span class="nx">header</span><span class="p">.</span><span class="nx">mode_extension</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">error</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stereo</span><span class="p">(</span><span class="nx">xr</span><span class="p">,</span> <span class="nx">si</span><span class="p">.</span><span class="nx">gr</span><span class="p">,</span> <span class="nx">gr</span><span class="p">,</span> <span class="nx">header</span><span class="p">,</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span>
                <span class="k">return</span> <span class="nx">error</span><span class="p">;</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-476"><td class="docs"><div class="pilwrap"><a href="#section-476" class="pilcrow">&#182;</a></div><p>reordering, alias reduction, IMDCT, overlap-add, frequency inversion</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">ch</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">ch</span> <span class="o">&lt;</span> <span class="nx">nch</span><span class="p">;</span> <span class="nx">ch</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">granule</span><span class="p">.</span><span class="nx">ch</span><span class="p">[</span><span class="nx">ch</span><span class="p">];</span>
            <span class="kd">var</span> <span class="nx">sample</span> <span class="o">=</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">sbsample</span><span class="p">[</span><span class="nx">ch</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="mi">18</span> <span class="o">*</span> <span class="nx">gr</span><span class="p">);</span>
            
            <span class="kd">var</span> <span class="nx">sb</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">sblimit</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">output</span><span class="p">;</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">reorder</span><span class="p">(</span><span class="nx">xr</span><span class="p">[</span><span class="nx">ch</span><span class="p">],</span> <span class="nx">channel</span><span class="p">,</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">ch</span><span class="p">]);</span></pre></div></td></tr><tr id="section-477"><td class="docs"><div class="pilwrap"><a href="#section-477" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>According to ISO/IEC 11172-3, "Alias reduction is not applied for<br />granules with block_type === 2 (short block)." However, other<br />sources suggest alias reduction should indeed be performed on the<br />lower two subbands of mixed blocks. Most other implementations do<br />this, so by default we will too.</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>                <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">)</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">aliasreduce</span><span class="p">(</span><span class="nx">xr</span><span class="p">[</span><span class="nx">ch</span><span class="p">],</span> <span class="mi">36</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">aliasreduce</span><span class="p">(</span><span class="nx">xr</span><span class="p">[</span><span class="nx">ch</span><span class="p">],</span> <span class="mi">576</span><span class="p">);</span>
            <span class="p">}</span>
            </pre></div></td></tr><tr id="section-478"><td class="docs"><div class="pilwrap"><a href="#section-478" class="pilcrow">&#182;</a></div><p>subbands 0-1</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">!==</span> <span class="mi">2</span> <span class="o">||</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">))</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">block_type</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">)</span>
                    <span class="nx">block_type</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></pre></div></td></tr><tr id="section-479"><td class="docs"><div class="pilwrap"><a href="#section-479" class="pilcrow">&#182;</a></div><p>long blocks</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sb</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">sb</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="nx">sb</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+=</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">imdct_l</span><span class="p">(</span><span class="nx">xr</span><span class="p">[</span><span class="nx">ch</span><span class="p">].</span><span class="nx">subarray</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+</span> <span class="mi">18</span><span class="p">),</span> <span class="nx">output</span><span class="p">,</span> <span class="nx">block_type</span><span class="p">);</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">overlap</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">overlap</span><span class="p">[</span><span class="nx">ch</span><span class="p">][</span><span class="nx">sb</span><span class="p">],</span> <span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div></td></tr><tr id="section-480"><td class="docs"><div class="pilwrap"><a href="#section-480" class="pilcrow">&#182;</a></div><p>short blocks</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sb</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">sb</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="nx">sb</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+=</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">imdct_s</span><span class="p">(</span><span class="nx">xr</span><span class="p">[</span><span class="nx">ch</span><span class="p">].</span><span class="nx">subarray</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+</span> <span class="mi">18</span><span class="p">),</span> <span class="nx">output</span><span class="p">);</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">overlap</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">overlap</span><span class="p">[</span><span class="nx">ch</span><span class="p">][</span><span class="nx">sb</span><span class="p">],</span> <span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
            
            <span class="k">this</span><span class="p">.</span><span class="nx">freqinver</span><span class="p">(</span><span class="nx">sample</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span></pre></div></td></tr><tr id="section-481"><td class="docs"><div class="pilwrap"><a href="#section-481" class="pilcrow">&#182;</a></div><p>(nonzero) subbands 2-31</p>
</td><td class="code"><div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">576</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">36</span> <span class="o">&amp;&amp;</span> <span class="nx">xr</span><span class="p">[</span><span class="nx">ch</span><span class="p">][</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="o">--</span><span class="nx">i</span><span class="p">;</span>
            <span class="p">}</span>
            
            <span class="nx">sblimit</span> <span class="o">=</span> <span class="mi">32</span> <span class="o">-</span> <span class="p">(((</span><span class="mi">576</span> <span class="o">-</span> <span class="nx">i</span><span class="p">)</span> <span class="o">/</span> <span class="mi">18</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">!==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-482"><td class="docs"><div class="pilwrap"><a href="#section-482" class="pilcrow">&#182;</a></div><p>long blocks</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sb</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="nx">sb</span> <span class="o">&lt;</span> <span class="nx">sblimit</span><span class="p">;</span> <span class="o">++</span><span class="nx">sb</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+=</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">imdct_l</span><span class="p">(</span><span class="nx">xr</span><span class="p">[</span><span class="nx">ch</span><span class="p">].</span><span class="nx">subarray</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+</span> <span class="mi">18</span><span class="p">),</span> <span class="nx">output</span><span class="p">,</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span><span class="p">);</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">overlap</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">overlap</span><span class="p">[</span><span class="nx">ch</span><span class="p">][</span><span class="nx">sb</span><span class="p">],</span> <span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">);</span>

                    <span class="k">if</span> <span class="p">(</span><span class="nx">sb</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="k">this</span><span class="p">.</span><span class="nx">freqinver</span><span class="p">(</span><span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div></td></tr><tr id="section-483"><td class="docs"><div class="pilwrap"><a href="#section-483" class="pilcrow">&#182;</a></div><p>short blocks</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sb</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="nx">sb</span> <span class="o">&lt;</span> <span class="nx">sblimit</span><span class="p">;</span> <span class="o">++</span><span class="nx">sb</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+=</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">imdct_s</span><span class="p">(</span><span class="nx">xr</span><span class="p">[</span><span class="nx">ch</span><span class="p">].</span><span class="nx">subarray</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+</span> <span class="mi">18</span><span class="p">),</span> <span class="nx">output</span><span class="p">);</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">overlap</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">overlap</span><span class="p">[</span><span class="nx">ch</span><span class="p">][</span><span class="nx">sb</span><span class="p">],</span> <span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">);</span>

                    <span class="k">if</span> <span class="p">(</span><span class="nx">sb</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="k">this</span><span class="p">.</span><span class="nx">freqinver</span><span class="p">(</span><span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
            </pre></div></td></tr><tr id="section-484"><td class="docs"><div class="pilwrap"><a href="#section-484" class="pilcrow">&#182;</a></div><p>remaining (zero) subbands</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sb</span> <span class="o">=</span> <span class="nx">sblimit</span><span class="p">;</span> <span class="nx">sb</span> <span class="o">&lt;</span> <span class="mi">32</span><span class="p">;</span> <span class="o">++</span><span class="nx">sb</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">overlap_z</span><span class="p">(</span><span class="nx">frame</span><span class="p">.</span><span class="nx">overlap</span><span class="p">[</span><span class="nx">ch</span><span class="p">][</span><span class="nx">sb</span><span class="p">],</span> <span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">);</span>

                <span class="k">if</span> <span class="p">(</span><span class="nx">sb</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">freqinver</span><span class="p">(</span><span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">NONE</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">scalefactors</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">channel</span><span class="p">,</span> <span class="nx">gr0ch</span><span class="p">,</span> <span class="nx">scfsi</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">slen1</span> <span class="o">=</span> <span class="nx">SFLEN_TABLE</span><span class="p">[</span><span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac_compress</span><span class="p">].</span><span class="nx">slen1</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">slen2</span> <span class="o">=</span> <span class="nx">SFLEN_TABLE</span><span class="p">[</span><span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac_compress</span><span class="p">].</span><span class="nx">slen2</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">sfbi</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">nsfb</span> <span class="o">=</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">)</span> <span class="o">?</span> <span class="mi">8</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">:</span> <span class="mi">6</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="nx">nsfb</span><span class="o">--</span><span class="p">)</span>
            <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">slen1</span><span class="p">);</span>

        <span class="nx">nsfb</span> <span class="o">=</span> <span class="mi">6</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="nx">nsfb</span><span class="o">--</span><span class="p">)</span>
            <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">slen2</span><span class="p">);</span>

        <span class="nx">nsfb</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="nx">nsfb</span><span class="o">--</span><span class="p">)</span>
            <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">scfsi</span> <span class="o">&amp;</span> <span class="mh">0x8</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">)</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gr0ch</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">)</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">slen1</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">scfsi</span> <span class="o">&amp;</span> <span class="mh">0x4</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">)</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gr0ch</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">)</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">slen1</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">scfsi</span> <span class="o">&amp;</span> <span class="mh">0x2</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">)</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gr0ch</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">)</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">slen2</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">scfsi</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">21</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">)</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gr0ch</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">21</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">)</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">slen2</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">()</span> <span class="o">-</span> <span class="nx">start</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">scalefactors_lsf</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">channel</span><span class="p">,</span> <span class="nx">gr1ch</span><span class="p">,</span> <span class="nx">mode_extension</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">scalefac_compress</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac_compress</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">slen</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Int32Array</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">nsfb</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">((</span><span class="nx">mode_extension</span> <span class="o">&amp;</span> <span class="nx">I_STEREO</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">gr1ch</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">&lt;</span> <span class="mi">400</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mi">5</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">%</span> <span class="mi">5</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">%</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>  <span class="nx">scalefac_compress</span> <span class="o">%</span>  <span class="mi">4</span><span class="p">;</span>
        
            <span class="nx">nsfb</span> <span class="o">=</span> <span class="nx">NSFB_TABLE</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">index</span><span class="p">];</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">&lt;</span> <span class="mi">500</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">scalefac_compress</span> <span class="o">-=</span> <span class="mi">400</span><span class="p">;</span>

            <span class="nx">slen</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">5</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">5</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>  <span class="nx">scalefac_compress</span> <span class="o">%</span> <span class="mi">4</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

            <span class="nx">nsfb</span> <span class="o">=</span> <span class="nx">NSFB_TABLE</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">index</span><span class="p">];</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">scalefac_compress</span> <span class="o">-=</span> <span class="mi">500</span><span class="p">;</span>

            <span class="nx">slen</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">scalefac_compress</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">scalefac_compress</span> <span class="o">%</span> <span class="mi">3</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

            <span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">PREFLAG</span><span class="p">;</span>
            <span class="nx">nsfb</span> <span class="o">=</span> <span class="nx">NSFB_TABLE</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="nx">index</span><span class="p">];</span>
        <span class="p">}</span>
        
        <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">part</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">part</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="nx">part</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nsfb</span><span class="p">[</span><span class="nx">part</span><span class="p">];</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">n</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">slen</span><span class="p">[</span><span class="nx">part</span><span class="p">]);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">39</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">n</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>  <span class="c1">// (mode_extension &amp; I_STEREO) &amp;&amp; gr1ch (i.e. ch == 1)</span>
        <span class="nx">scalefac_compress</span> <span class="o">&gt;&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">&lt;</span> <span class="mi">180</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span>  <span class="nx">scalefac_compress</span> <span class="o">/</span> <span class="mi">36</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">%</span> <span class="mi">36</span><span class="p">)</span> <span class="o">/</span> <span class="mi">6</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">%</span> <span class="mi">36</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

            <span class="nx">nsfb</span> <span class="o">=</span> <span class="nx">NSFB_TABLE</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="nx">index</span><span class="p">];</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">&lt;</span> <span class="mi">244</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">scalefac_compress</span> <span class="o">-=</span> <span class="mi">180</span><span class="p">;</span>

            <span class="nx">slen</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">%</span> <span class="mi">64</span><span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">4</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">scalefac_compress</span> <span class="o">%</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>  <span class="nx">scalefac_compress</span> <span class="o">%</span>  <span class="mi">4</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

            <span class="nx">nsfb</span> <span class="o">=</span> <span class="nx">NSFB_TABLE</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="nx">index</span><span class="p">];</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">scalefac_compress</span> <span class="o">-=</span> <span class="mi">244</span><span class="p">;</span>

            <span class="nx">slen</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">scalefac_compress</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">scalefac_compress</span> <span class="o">%</span> <span class="mi">3</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="nx">slen</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

            <span class="nx">nsfb</span> <span class="o">=</span> <span class="nx">NSFB_TABLE</span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="nx">index</span><span class="p">];</span>
        <span class="p">}</span>
        
        <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">part</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">part</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="o">++</span><span class="nx">part</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">max</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">slen</span><span class="p">[</span><span class="nx">part</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nsfb</span><span class="p">[</span><span class="nx">part</span><span class="p">];</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">is_pos</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">slen</span><span class="p">[</span><span class="nx">part</span><span class="p">]);</span>

                <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span> <span class="o">=</span> <span class="nx">is_pos</span><span class="p">;</span>
                <span class="nx">gr1ch</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">n</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">is_pos</span> <span class="o">===</span> <span class="nx">max</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">39</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="nx">gr1ch</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">n</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// apparently not illegal</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">offset</span><span class="p">()</span> <span class="o">-</span> <span class="nx">start</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">huffmanDecode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">xr</span><span class="p">,</span> <span class="nx">channel</span><span class="p">,</span> <span class="nx">sfbwidth</span><span class="p">,</span> <span class="nx">part2_length</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">exponents</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_exponents</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">sfbwidthptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">bits_left</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">part2_3_length</span> <span class="o">-</span> <span class="nx">part2_length</span><span class="p">;</span>    
    <span class="k">if</span> <span class="p">(</span><span class="nx">bits_left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADPART3LEN</span><span class="p">;</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">exponents</span><span class="p">(</span><span class="nx">channel</span><span class="p">,</span> <span class="nx">sfbwidth</span><span class="p">,</span> <span class="nx">exponents</span><span class="p">);</span>
    
    <span class="kd">var</span> <span class="nx">peek</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">copy</span><span class="p">();</span>
    <span class="nx">stream</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">bits_left</span><span class="p">);</span>
    </pre></div></td></tr><tr id="section-485"><td class="docs"><div class="pilwrap"><a href="#section-485" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>align bit reads to byte boundaries</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">cachesz</span>  <span class="o">=</span> <span class="mi">8</span> <span class="o">-</span> <span class="nx">peek</span><span class="p">.</span><span class="nx">bitPosition</span><span class="p">;</span>
    <span class="nx">cachesz</span> <span class="o">+=</span> <span class="p">((</span><span class="mi">32</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">24</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">24</span> <span class="o">-</span> <span class="nx">cachesz</span><span class="p">))</span> <span class="o">&amp;</span> <span class="o">~</span><span class="mi">7</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">bitcache</span> <span class="o">=</span> <span class="nx">peek</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">cachesz</span><span class="p">);</span>
    <span class="nx">bits_left</span> <span class="o">-=</span> <span class="nx">cachesz</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">xrptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    </pre></div></td></tr><tr id="section-486"><td class="docs"><div class="pilwrap"><a href="#section-486" class="pilcrow">&#182;</a></div><p>big_values</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">region</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">reqcache</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">reqcache</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">sfbound</span> <span class="o">=</span> <span class="nx">xrptr</span> <span class="o">+</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbwidthptr</span><span class="o">++</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">rcount</span>  <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">region0_count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">entry</span> <span class="o">=</span> <span class="nx">huff_pair_table</span><span class="p">[</span><span class="nx">channel</span><span class="p">.</span><span class="nx">table_select</span><span class="p">[</span><span class="nx">region</span><span class="p">]];</span>
    <span class="kd">var</span> <span class="nx">table</span>     <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">table</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">linbits</span>   <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">linbits</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">startbits</span> <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">startbits</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">table</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADHUFFTABLE</span><span class="p">;</span>
        
    <span class="kd">var</span> <span class="nx">expptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">exp</span> <span class="o">=</span> <span class="nx">exponents</span><span class="p">[</span><span class="nx">expptr</span><span class="o">++</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">reqhits</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">big_values</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">big_values</span><span class="p">;</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="nx">big_values</span><span class="o">--</span> <span class="o">&amp;&amp;</span> <span class="nx">cachesz</span> <span class="o">+</span> <span class="nx">bits_left</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="nx">xrptr</span> <span class="o">===</span> <span class="nx">sfbound</span><span class="p">)</span> <span class="p">{</span>
             <span class="nx">sfbound</span> <span class="o">+=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbwidthptr</span><span class="o">++</span><span class="p">];</span></pre></div></td></tr><tr id="section-487"><td class="docs"><div class="pilwrap"><a href="#section-487" class="pilcrow">&#182;</a></div><p>change table if region boundary</p>
</td><td class="code"><div class="highlight"><pre>             <span class="k">if</span> <span class="p">(</span><span class="o">--</span><span class="nx">rcount</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                 <span class="k">if</span> <span class="p">(</span><span class="nx">region</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
                     <span class="nx">rcount</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">region1_count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                 <span class="k">else</span>
                     <span class="nx">rcount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// all remaining</span>

                 <span class="nx">entry</span>     <span class="o">=</span> <span class="nx">huff_pair_table</span><span class="p">[</span><span class="nx">channel</span><span class="p">.</span><span class="nx">table_select</span><span class="p">[</span><span class="o">++</span><span class="nx">region</span><span class="p">]];</span>
                 <span class="nx">table</span>     <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">table</span><span class="p">;</span>
                 <span class="nx">linbits</span>   <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">linbits</span><span class="p">;</span>
                 <span class="nx">startbits</span> <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">startbits</span><span class="p">;</span>

                 <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">table</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span>
                     <span class="k">return</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADHUFFTABLE</span><span class="p">;</span>
             <span class="p">}</span>

             <span class="k">if</span> <span class="p">(</span><span class="nx">exp</span> <span class="o">!==</span> <span class="nx">exponents</span><span class="p">[</span><span class="nx">expptr</span><span class="p">])</span> <span class="p">{</span>
                 <span class="nx">exp</span> <span class="o">=</span> <span class="nx">exponents</span><span class="p">[</span><span class="nx">expptr</span><span class="p">];</span>
                 <span class="nx">reqhits</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
             <span class="p">}</span>

             <span class="o">++</span><span class="nx">expptr</span><span class="p">;</span>
         <span class="p">}</span>
         
         <span class="k">if</span> <span class="p">(</span><span class="nx">cachesz</span> <span class="o">&lt;</span> <span class="mi">21</span><span class="p">)</span> <span class="p">{</span>
             <span class="kd">var</span> <span class="nx">bits</span>   <span class="o">=</span> <span class="p">((</span><span class="mi">32</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">21</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">21</span> <span class="o">-</span> <span class="nx">cachesz</span><span class="p">))</span> <span class="o">&amp;</span> <span class="o">~</span><span class="mi">7</span><span class="p">;</span>
             <span class="nx">bitcache</span>   <span class="o">=</span> <span class="p">(</span><span class="nx">bitcache</span> <span class="o">&lt;&lt;</span> <span class="nx">bits</span><span class="p">)</span> <span class="o">|</span> <span class="nx">peek</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">bits</span><span class="p">);</span>
             <span class="nx">cachesz</span>   <span class="o">+=</span> <span class="nx">bits</span><span class="p">;</span>
             <span class="nx">bits_left</span> <span class="o">-=</span> <span class="nx">bits</span><span class="p">;</span>
         <span class="p">}</span>
         
         <span class="kd">var</span> <span class="nx">clumpsz</span> <span class="o">=</span> <span class="nx">startbits</span><span class="p">;</span>
         <span class="kd">var</span> <span class="nx">pair</span> <span class="o">=</span> <span class="nx">table</span><span class="p">[</span> <span class="p">(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="nx">clumpsz</span><span class="p">)))</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">clumpsz</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))];</span>
         
         <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nx">pair</span><span class="p">.</span><span class="kr">final</span><span class="p">)</span> <span class="p">{</span>
             <span class="nx">cachesz</span> <span class="o">-=</span> <span class="nx">clumpsz</span><span class="p">;</span>
             <span class="nx">clumpsz</span> <span class="o">=</span> <span class="nx">pair</span><span class="p">.</span><span class="nx">ptr</span><span class="p">.</span><span class="nx">bits</span><span class="p">;</span>
             <span class="nx">pair</span>    <span class="o">=</span> <span class="nx">table</span><span class="p">[</span><span class="nx">pair</span><span class="p">.</span><span class="nx">ptr</span><span class="p">.</span><span class="nx">offset</span> <span class="o">+</span> <span class="p">(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="nx">clumpsz</span><span class="p">)))</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">clumpsz</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))];</span>
         <span class="p">}</span>
         
         <span class="nx">cachesz</span> <span class="o">-=</span> <span class="nx">pair</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">hlen</span><span class="p">;</span>
         
         <span class="k">if</span> <span class="p">(</span><span class="nx">linbits</span><span class="p">)</span> <span class="p">{</span>
             <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">pair</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
             <span class="kd">var</span> <span class="nx">x_final</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
             
             <span class="k">switch</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                 <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
                     <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                     <span class="k">break</span><span class="p">;</span>

                 <span class="k">case</span> <span class="mi">15</span><span class="o">:</span>
                     <span class="k">if</span> <span class="p">(</span><span class="nx">cachesz</span> <span class="o">&lt;</span> <span class="nx">linbits</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
                         <span class="nx">bitcache</span>   <span class="o">=</span> <span class="p">(</span><span class="nx">bitcache</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">|</span> <span class="nx">peek</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
                         <span class="nx">cachesz</span>   <span class="o">+=</span> <span class="mi">16</span><span class="p">;</span>
                         <span class="nx">bits_left</span> <span class="o">-=</span> <span class="mi">16</span><span class="p">;</span>
                     <span class="p">}</span>

                     <span class="nx">value</span> <span class="o">+=</span> <span class="p">(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="nx">linbits</span><span class="p">)))</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">linbits</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
                     <span class="nx">cachesz</span> <span class="o">-=</span> <span class="nx">linbits</span><span class="p">;</span>

                     <span class="nx">requantized</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">requantize</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">exp</span><span class="p">);</span>
                     <span class="nx">x_final</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// simulating goto, yay</span>
                     <span class="k">break</span><span class="p">;</span>

                 <span class="k">default</span><span class="o">:</span>
                     <span class="k">if</span> <span class="p">(</span><span class="nx">reqhits</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
                         <span class="nx">requantized</span> <span class="o">=</span> <span class="nx">reqcache</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
                     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                         <span class="nx">reqhits</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">value</span><span class="p">);</span>
                         <span class="nx">requantized</span> <span class="o">=</span> <span class="nx">reqcache</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">requantize</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">exp</span><span class="p">);</span>
                     <span class="p">}</span>
                     
                     <span class="nx">x_final</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
             <span class="p">}</span>
             
             <span class="k">if</span><span class="p">(</span><span class="nx">x_final</span><span class="p">)</span> <span class="p">{</span>
                 <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="o">--</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">?</span> <span class="o">-</span><span class="nx">requantized</span> <span class="o">:</span> <span class="nx">requantized</span><span class="p">;</span>
             <span class="p">}</span>
             
             <span class="nx">value</span> <span class="o">=</span> <span class="nx">pair</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
             <span class="kd">var</span> <span class="nx">y_final</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
             
             <span class="k">switch</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                 <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
                     <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                     <span class="k">break</span><span class="p">;</span>

                 <span class="k">case</span> <span class="mi">15</span><span class="o">:</span>
                     <span class="k">if</span> <span class="p">(</span><span class="nx">cachesz</span> <span class="o">&lt;</span> <span class="nx">linbits</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                         <span class="nx">bitcache</span>   <span class="o">=</span> <span class="p">(</span><span class="nx">bitcache</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">|</span> <span class="nx">peek</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
                         <span class="nx">cachesz</span>   <span class="o">+=</span> <span class="mi">16</span><span class="p">;</span>
                         <span class="nx">bits_left</span> <span class="o">-=</span> <span class="mi">16</span><span class="p">;</span>
                     <span class="p">}</span>

                     <span class="nx">value</span> <span class="o">+=</span> <span class="p">(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="nx">linbits</span><span class="p">)))</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">linbits</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
                     <span class="nx">cachesz</span> <span class="o">-=</span> <span class="nx">linbits</span><span class="p">;</span>

                     <span class="nx">requantized</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">requantize</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">exp</span><span class="p">);</span>
                     <span class="nx">y_final</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                     <span class="k">break</span><span class="p">;</span> <span class="c1">// simulating goto, yayzor</span>

                 <span class="k">default</span><span class="o">:</span>
                     <span class="k">if</span> <span class="p">(</span><span class="nx">reqhits</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
                         <span class="nx">requantized</span> <span class="o">=</span> <span class="nx">reqcache</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
                     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                         <span class="nx">reqhits</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">value</span><span class="p">);</span>
                         <span class="nx">reqcache</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">requantize</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">exp</span><span class="p">);</span>
                         <span class="nx">requantized</span> <span class="o">=</span> <span class="nx">reqcache</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
                     <span class="p">}</span>
                     
                     <span class="nx">y_final</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
             <span class="p">}</span>
             
             <span class="k">if</span><span class="p">(</span><span class="nx">y_final</span><span class="p">)</span> <span class="p">{</span>
                 <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="o">--</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">?</span> <span class="o">-</span><span class="nx">requantized</span> <span class="o">:</span> <span class="nx">requantized</span><span class="p">;</span>
             <span class="p">}</span>
             
         <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
             <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">pair</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>

             <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                 <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
             <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                 <span class="k">if</span> <span class="p">(</span><span class="nx">reqhits</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">value</span><span class="p">))</span>
                     <span class="nx">requantized</span> <span class="o">=</span> <span class="nx">reqcache</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
                 <span class="k">else</span> <span class="p">{</span>
                     <span class="nx">reqhits</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">value</span><span class="p">);</span>
                     <span class="nx">requantized</span> <span class="o">=</span> <span class="nx">reqcache</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">requantize</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">exp</span><span class="p">);</span>
                 <span class="p">}</span>

                 <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="o">--</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">?</span> <span class="o">-</span><span class="nx">requantized</span> <span class="o">:</span> <span class="nx">requantized</span><span class="p">;</span>
             <span class="p">}</span>

             <span class="nx">value</span> <span class="o">=</span> <span class="nx">pair</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>

             <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                 <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
             <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                 <span class="k">if</span> <span class="p">(</span><span class="nx">reqhits</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">value</span><span class="p">))</span>
                     <span class="nx">requantized</span> <span class="o">=</span> <span class="nx">reqcache</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
                 <span class="k">else</span> <span class="p">{</span>
                     <span class="nx">reqhits</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">value</span><span class="p">);</span>
                     <span class="nx">requantized</span> <span class="o">=</span> <span class="nx">reqcache</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">requantize</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">exp</span><span class="p">);</span>
                 <span class="p">}</span>

                 <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="o">--</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">?</span> <span class="o">-</span><span class="nx">requantized</span> <span class="o">:</span> <span class="nx">requantized</span><span class="p">;</span>
             <span class="p">}</span>
         <span class="p">}</span>

         <span class="nx">xrptr</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">cachesz</span> <span class="o">+</span> <span class="nx">bits_left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BADHUFFDATA</span><span class="p">;</span>  <span class="c1">// big_values overrun</span>
    </pre></div></td></tr><tr id="section-488"><td class="docs"><div class="pilwrap"><a href="#section-488" class="pilcrow">&#182;</a></div><p>count1    </p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">table</span> <span class="o">=</span> <span class="nx">huff_quad_table</span><span class="p">[</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">COUNT1TABLE_SELECT</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">requantized</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">requantize</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">exp</span><span class="p">);</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="nx">cachesz</span> <span class="o">+</span> <span class="nx">bits_left</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">xrptr</span> <span class="o">&lt;=</span> <span class="mi">572</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">cachesz</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">bitcache</span>   <span class="o">=</span> <span class="p">(</span><span class="nx">bitcache</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">|</span> <span class="nx">peek</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
            <span class="nx">cachesz</span>   <span class="o">+=</span> <span class="mi">16</span><span class="p">;</span>
            <span class="nx">bits_left</span> <span class="o">-=</span> <span class="mi">16</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="kd">var</span> <span class="nx">quad</span> <span class="o">=</span> <span class="nx">table</span><span class="p">[(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="mi">4</span><span class="p">)))</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="mi">4</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))];</span>
        </pre></div></td></tr><tr id="section-489"><td class="docs"><div class="pilwrap"><a href="#section-489" class="pilcrow">&#182;</a></div><p>quad tables guaranteed to have at most one extra lookup</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">quad</span><span class="p">.</span><span class="kr">final</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">cachesz</span> <span class="o">-=</span> <span class="mi">4</span><span class="p">;</span>
            <span class="nx">quad</span> <span class="o">=</span> <span class="nx">table</span><span class="p">[</span><span class="nx">quad</span><span class="p">.</span><span class="nx">ptr</span><span class="p">.</span><span class="nx">offset</span> <span class="o">+</span> <span class="p">(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="nx">quad</span><span class="p">.</span><span class="nx">ptr</span><span class="p">.</span><span class="nx">bits</span><span class="p">)))</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">quad</span><span class="p">.</span><span class="nx">ptr</span><span class="p">.</span><span class="nx">bits</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))];</span>
        <span class="p">}</span>
        
        <span class="nx">cachesz</span> <span class="o">-=</span> <span class="nx">quad</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">hlen</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">xrptr</span> <span class="o">===</span> <span class="nx">sfbound</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">sfbound</span> <span class="o">+=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbwidthptr</span><span class="o">++</span><span class="p">];</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">exp</span> <span class="o">!==</span> <span class="nx">exponents</span><span class="p">[</span><span class="nx">expptr</span><span class="p">])</span> <span class="p">{</span>
                <span class="nx">exp</span> <span class="o">=</span> <span class="nx">exponents</span><span class="p">[</span><span class="nx">expptr</span><span class="p">];</span>
                <span class="nx">requantized</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">requantize</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">exp</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="o">++</span><span class="nx">expptr</span><span class="p">;</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-490"><td class="docs"><div class="pilwrap"><a href="#section-490" class="pilcrow">&#182;</a></div><p>v (0..1)</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">quad</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">v</span> <span class="o">?</span> <span class="p">(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="o">--</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">?</span> <span class="o">-</span><span class="nx">requantized</span> <span class="o">:</span> <span class="nx">requantized</span><span class="p">)</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span></pre></div></td></tr><tr id="section-491"><td class="docs"><div class="pilwrap"><a href="#section-491" class="pilcrow">&#182;</a></div><p>w (0..1)</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">quad</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">w</span> <span class="o">?</span> <span class="p">(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="o">--</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">?</span> <span class="o">-</span><span class="nx">requantized</span> <span class="o">:</span> <span class="nx">requantized</span><span class="p">)</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>

        <span class="nx">xrptr</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">xrptr</span> <span class="o">===</span> <span class="nx">sfbound</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">sfbound</span> <span class="o">+=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbwidthptr</span><span class="o">++</span><span class="p">];</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">exp</span> <span class="o">!==</span> <span class="nx">exponents</span><span class="p">[</span><span class="nx">expptr</span><span class="p">])</span> <span class="p">{</span>
                <span class="nx">exp</span> <span class="o">=</span> <span class="nx">exponents</span><span class="p">[</span><span class="nx">expptr</span><span class="p">];</span>
                <span class="nx">requantized</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">requantize</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">exp</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="o">++</span><span class="nx">expptr</span><span class="p">;</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-492"><td class="docs"><div class="pilwrap"><a href="#section-492" class="pilcrow">&#182;</a></div><p>x (0..1)</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">quad</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">x</span> <span class="o">?</span> <span class="p">(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="o">--</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">?</span> <span class="o">-</span><span class="nx">requantized</span> <span class="o">:</span> <span class="nx">requantized</span><span class="p">)</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span></pre></div></td></tr><tr id="section-493"><td class="docs"><div class="pilwrap"><a href="#section-493" class="pilcrow">&#182;</a></div><p>y (0..1)</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">quad</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">y</span> <span class="o">?</span> <span class="p">(((</span><span class="nx">bitcache</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="nx">cachesz</span><span class="o">--</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">?</span> <span class="o">-</span><span class="nx">requantized</span> <span class="o">:</span> <span class="nx">requantized</span><span class="p">)</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>

        <span class="nx">xrptr</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">cachesz</span> <span class="o">+</span> <span class="nx">bits_left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-494"><td class="docs"><div class="pilwrap"><a href="#section-494" class="pilcrow">&#182;</a></div><p>technically the bitstream is misformatted, but apparently
some encoders are just a bit sloppy with stuffing bits</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">xrptr</span> <span class="o">-=</span> <span class="mi">4</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="o">-</span><span class="nx">bits_left</span> <span class="o">&gt;</span> <span class="nx">BUFFER_GUARD</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;assertion failed: (-bits_left &lt;= Mad.BUFFER_GUARD * CHAR_BIT)&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    </pre></div></td></tr><tr id="section-495"><td class="docs"><div class="pilwrap"><a href="#section-495" class="pilcrow">&#182;</a></div><p>rzero</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">while</span> <span class="p">(</span><span class="nx">xrptr</span> <span class="o">&lt;</span> <span class="mi">576</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span><span class="p">]</span>     <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">xr</span><span class="p">[</span><span class="nx">xrptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">xrptr</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">NONE</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">requantize</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">exp</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-496"><td class="docs"><div class="pilwrap"><a href="#section-496" class="pilcrow">&#182;</a></div><p>usual (x >> 0) tricks to make sure frac and exp stay integers</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">frac</span> <span class="o">=</span> <span class="p">(</span><span class="nx">exp</span> <span class="o">%</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// assumes sign(frac) === sign(exp)</span>
    <span class="nx">exp</span> <span class="o">=</span> <span class="p">(</span><span class="nx">exp</span> <span class="o">/</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">requantized</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="mf">4.0</span> <span class="o">/</span> <span class="mf">3.0</span><span class="p">);</span>
    <span class="nx">requantized</span> <span class="o">*=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="p">(</span><span class="nx">exp</span> <span class="o">/</span> <span class="mf">4.0</span><span class="p">));</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">frac</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">requantized</span> <span class="o">*=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="p">(</span><span class="nx">frac</span> <span class="o">/</span> <span class="mf">4.0</span><span class="p">));</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">exp</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">requantized</span> <span class="o">/=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="nx">exp</span> <span class="o">*</span> <span class="p">(</span><span class="mf">3.0</span> <span class="o">/</span> <span class="mf">4.0</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">requantized</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">exponents</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">channel</span><span class="p">,</span> <span class="nx">sfbwidth</span><span class="p">,</span> <span class="nx">exponents</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">gain</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">global_gain</span> <span class="o">-</span> <span class="mi">210</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">scalefac_multiplier</span> <span class="o">=</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">SCALEFAC_SCALE</span><span class="p">)</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">premask</span> <span class="o">=</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">PREFLAG</span><span class="p">)</span> <span class="o">?</span> <span class="o">~</span><span class="mi">0</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
            </pre></div></td></tr><tr id="section-497"><td class="docs"><div class="pilwrap"><a href="#section-497" class="pilcrow">&#182;</a></div><p>long block subbands 0-1</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">while</span> <span class="p">(</span><span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">36</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">exponents</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gain</span> <span class="o">-</span> <span class="p">((</span><span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="nx">PRETAB</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">&amp;</span> <span class="nx">premask</span><span class="p">))</span> <span class="o">&lt;&lt;</span> <span class="nx">scalefac_multiplier</span><span class="p">);</span>
                <span class="nx">l</span> <span class="o">+=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbi</span><span class="o">++</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-498"><td class="docs"><div class="pilwrap"><a href="#section-498" class="pilcrow">&#182;</a></div><p>this is probably wrong for 8000 Hz short/mixed blocks</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">gain0</span> <span class="o">=</span> <span class="nx">gain</span> <span class="o">-</span> <span class="mi">8</span> <span class="o">*</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">subblock_gain</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">gain1</span> <span class="o">=</span> <span class="nx">gain</span> <span class="o">-</span> <span class="mi">8</span> <span class="o">*</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">subblock_gain</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">gain2</span> <span class="o">=</span> <span class="nx">gain</span> <span class="o">-</span> <span class="mi">8</span> <span class="o">*</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">subblock_gain</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">576</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">exponents</span><span class="p">[</span><span class="nx">sfbi</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gain0</span> <span class="o">-</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="nx">scalefac_multiplier</span><span class="p">);</span>
            <span class="nx">exponents</span><span class="p">[</span><span class="nx">sfbi</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gain1</span> <span class="o">-</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="nx">scalefac_multiplier</span><span class="p">);</span>
            <span class="nx">exponents</span><span class="p">[</span><span class="nx">sfbi</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gain2</span> <span class="o">-</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="nx">scalefac_multiplier</span><span class="p">);</span>
            
            <span class="nx">l</span> <span class="o">+=</span> <span class="mi">3</span> <span class="o">*</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>
            <span class="nx">sfbi</span> <span class="o">+=</span> <span class="mi">3</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">PREFLAG</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">22</span><span class="p">;</span> <span class="nx">sfbi</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">exponents</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gain</span> <span class="o">-</span> <span class="p">((</span><span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">+</span> <span class="nx">PRETAB</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="nx">scalefac_multiplier</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sfbi</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">sfbi</span> <span class="o">&lt;</span> <span class="mi">22</span><span class="p">;</span> <span class="nx">sfbi</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">exponents</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gain</span> <span class="o">-</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="nx">scalefac_multiplier</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">stereo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xr</span><span class="p">,</span> <span class="nx">granules</span><span class="p">,</span> <span class="nx">gr</span><span class="p">,</span> <span class="nx">header</span><span class="p">,</span> <span class="nx">sfbwidth</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">granule</span> <span class="o">=</span> <span class="nx">granules</span><span class="p">[</span><span class="nx">gr</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">modes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">modes</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">sfbi</span><span class="p">,</span> <span class="nx">l</span><span class="p">,</span> <span class="nx">n</span><span class="p">,</span> <span class="nx">i</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">granule</span><span class="p">.</span><span class="nx">ch</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">block_type</span> <span class="o">!==</span> <span class="nx">granule</span><span class="p">.</span><span class="nx">ch</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">block_type</span> <span class="o">||</span> <span class="p">(</span><span class="nx">granule</span><span class="p">.</span><span class="nx">ch</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">)</span> <span class="o">!==</span> <span class="p">(</span><span class="nx">granule</span><span class="p">.</span><span class="nx">ch</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">))</span>
        <span class="k">return</span> <span class="nx">Mad</span><span class="p">.</span><span class="nb">Error</span><span class="p">.</span><span class="nx">BADSTEREO</span><span class="p">;</span>
        
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">39</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
        <span class="nx">modes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">mode_extension</span><span class="p">;</span>
        </pre></div></td></tr><tr id="section-499"><td class="docs"><div class="pilwrap"><a href="#section-499" class="pilcrow">&#182;</a></div><p>intensity stereo</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">mode_extension</span> <span class="o">&amp;</span> <span class="nx">I_STEREO</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">right_ch</span> <span class="o">=</span> <span class="nx">granule</span><span class="p">.</span><span class="nx">ch</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">right_xr</span> <span class="o">=</span> <span class="nx">xr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        
        <span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">I_STEREO</span><span class="p">;</span>
         </pre></div></td></tr><tr id="section-500"><td class="docs"><div class="pilwrap"><a href="#section-500" class="pilcrow">&#182;</a></div><p>first determine which scalefactor bands are to be processed</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="p">(</span><span class="nx">right_ch</span><span class="p">.</span><span class="nx">block_type</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">lower</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">max</span><span class="p">,</span> <span class="nx">bound</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint32Array</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nx">w</span><span class="p">;</span>

            <span class="nx">lower</span> <span class="o">=</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">bound</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">bound</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">bound</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="nx">sfbi</span> <span class="o">=</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="nx">right_ch</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">while</span> <span class="p">(</span><span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">36</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">n</span> <span class="o">=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbi</span><span class="o">++</span><span class="p">];</span>

                    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nx">right_xr</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
                            <span class="nx">lower</span> <span class="o">=</span> <span class="nx">sfbi</span><span class="p">;</span>
                            <span class="k">break</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>

                    <span class="nx">right_xr</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">;</span>
                    <span class="nx">l</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="nx">start</span> <span class="o">=</span> <span class="nx">sfbi</span><span class="p">;</span>
            <span class="p">}</span>
            
            <span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">576</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">n</span> <span class="o">=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbi</span><span class="o">++</span><span class="p">];</span>

                <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">right_xr</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
                        <span class="nx">max</span> <span class="o">=</span> <span class="nx">bound</span><span class="p">[</span><span class="nx">w</span><span class="p">]</span> <span class="o">=</span> <span class="nx">sfbi</span><span class="p">;</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>

                <span class="nx">right_xr</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">;</span>
                <span class="nx">l</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">;</span>
                <span class="nx">w</span> <span class="o">=</span> <span class="p">(</span><span class="nx">w</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span><span class="p">;</span>
            <span class="p">}</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="nx">max</span><span class="p">)</span>
                <span class="nx">lower</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span></pre></div></td></tr><tr id="section-501"><td class="docs"><div class="pilwrap"><a href="#section-501" class="pilcrow">&#182;</a></div><p>long blocks</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">lower</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span>
                <span class="nx">modes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">mode_extension</span> <span class="o">&amp;</span> <span class="o">~</span><span class="nx">I_STEREO</span><span class="p">;</span></pre></div></td></tr><tr id="section-502"><td class="docs"><div class="pilwrap"><a href="#section-502" class="pilcrow">&#182;</a></div><p>short blocks</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">max</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">bound</span><span class="p">[</span><span class="nx">w</span><span class="p">])</span>
                    <span class="nx">modes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">mode_extension</span> <span class="o">&amp;</span> <span class="o">~</span><span class="nx">I_STEREO</span><span class="p">;</span>

                <span class="nx">w</span> <span class="o">=</span> <span class="p">(</span><span class="nx">w</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">bound</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">sfbi</span> <span class="o">=</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">576</span><span class="p">;</span> <span class="nx">l</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">n</span> <span class="o">=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbi</span><span class="o">++</span><span class="p">];</span>

                <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">right_xr</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
                        <span class="nx">bound</span> <span class="o">=</span> <span class="nx">sfbi</span><span class="p">;</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>

                <span class="nx">right_xr</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">bound</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span>
                <span class="nx">modes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">header</span><span class="p">.</span><span class="nx">mode_extension</span> <span class="o">&amp;</span> <span class="o">~</span><span class="nx">I_STEREO</span><span class="p">;</span>
        <span class="p">}</span>
        </pre></div></td></tr><tr id="section-503"><td class="docs"><div class="pilwrap"><a href="#section-503" class="pilcrow">&#182;</a></div><p>now do the actual processing</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">LSF_EXT</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">illegal_pos</span> <span class="o">=</span> <span class="nx">granules</span><span class="p">[</span><span class="nx">gr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">].</span><span class="nx">ch</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">scalefac</span><span class="p">;</span></pre></div></td></tr><tr id="section-504"><td class="docs"><div class="pilwrap"><a href="#section-504" class="pilcrow">&#182;</a></div><p>intensity_scale</p>
</td><td class="code"><div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">lsf_scale</span> <span class="o">=</span> <span class="nx">IS_LSF_TABLE</span><span class="p">[</span><span class="nx">right_ch</span><span class="p">.</span><span class="nx">scalefac_compress</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">];</span>
            
            <span class="k">for</span> <span class="p">(</span><span class="nx">sfbi</span> <span class="o">=</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">576</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">n</span> <span class="o">=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>

                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">modes</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">&amp;</span> <span class="nx">I_STEREO</span><span class="p">))</span>
                    <span class="k">continue</span><span class="p">;</span>

                <span class="k">if</span> <span class="p">(</span><span class="nx">illegal_pos</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">])</span> <span class="p">{</span>
                    <span class="nx">modes</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="nx">I_STEREO</span><span class="p">;</span>
                    <span class="k">continue</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="nx">is_pos</span> <span class="o">=</span> <span class="nx">right_ch</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>
                
                <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">left</span> <span class="o">=</span> <span class="nx">xr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">];</span>

                    <span class="k">if</span> <span class="p">(</span><span class="nx">is_pos</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">xr</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">left</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="kd">var</span> <span class="nx">opposite</span> <span class="o">=</span> <span class="nx">left</span> <span class="o">*</span> <span class="nx">lsf_scale</span><span class="p">[(</span><span class="nx">is_pos</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">];</span>

                        <span class="k">if</span> <span class="p">(</span><span class="nx">is_pos</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                            <span class="nx">xr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">opposite</span><span class="p">;</span>
                            <span class="nx">xr</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">left</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">else</span> <span class="p">{</span>
                            <span class="nx">xr</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">opposite</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">sfbi</span> <span class="o">=</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">576</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">n</span> <span class="o">=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>

                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">modes</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">&amp;</span> <span class="nx">I_STEREO</span><span class="p">))</span>
                    <span class="k">continue</span><span class="p">;</span>

                <span class="nx">is_pos</span> <span class="o">=</span> <span class="nx">right_ch</span><span class="p">.</span><span class="nx">scalefac</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>

                <span class="k">if</span> <span class="p">(</span><span class="nx">is_pos</span> <span class="o">&gt;=</span> <span class="mi">7</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// illegal intensity position</span>
                    <span class="nx">modes</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="nx">I_STEREO</span><span class="p">;</span>
                    <span class="k">continue</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">left</span> <span class="o">=</span> <span class="nx">xr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">];</span>
                    <span class="nx">xr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">left</span> <span class="o">*</span> <span class="nx">IS_TABLE</span><span class="p">[</span><span class="nx">is_pos</span><span class="p">];</span>
                    <span class="nx">xr</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">left</span> <span class="o">*</span> <span class="nx">IS_TABLE</span><span class="p">[</span><span class="mi">6</span> <span class="o">-</span> <span class="nx">is_pos</span><span class="p">];</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </pre></div></td></tr><tr id="section-505"><td class="docs"><div class="pilwrap"><a href="#section-505" class="pilcrow">&#182;</a></div><p>middle/side stereo</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">mode_extension</span> <span class="o">&amp;</span> <span class="nx">MS_STEREO</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">MS_STEREO</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">invsqrt2</span> <span class="o">=</span> <span class="nx">ROOT_TABLE</span><span class="p">[</span><span class="mi">3</span> <span class="o">+</span> <span class="o">-</span><span class="mi">2</span><span class="p">];</span>

        <span class="k">for</span> <span class="p">(</span><span class="nx">sfbi</span> <span class="o">=</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">576</span><span class="p">;</span> <span class="o">++</span><span class="nx">sfbi</span><span class="p">,</span> <span class="nx">l</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">n</span> <span class="o">=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">];</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">modes</span><span class="p">[</span><span class="nx">sfbi</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">MS_STEREO</span><span class="p">)</span>
                <span class="k">continue</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">xr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">];</span>
                <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">xr</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">];</span>

                <span class="nx">xr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">m</span> <span class="o">+</span> <span class="nx">s</span><span class="p">)</span> <span class="o">*</span> <span class="nx">invsqrt2</span><span class="p">;</span>  <span class="c1">// l = (m + s) / sqrt(2)</span>
                <span class="nx">xr</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">l</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">m</span> <span class="o">-</span> <span class="nx">s</span><span class="p">)</span> <span class="o">*</span> <span class="nx">invsqrt2</span><span class="p">;</span>  <span class="c1">// r = (m - s) / sqrt(2)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">NONE</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">aliasreduce</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xr</span><span class="p">,</span> <span class="nx">lines</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">xrPointer</span> <span class="o">=</span> <span class="mi">18</span><span class="p">;</span> <span class="nx">xrPointer</span> <span class="o">&lt;</span> <span class="nx">lines</span><span class="p">;</span> <span class="nx">xrPointer</span> <span class="o">+=</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">xr</span><span class="p">[</span><span class="nx">xrPointer</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
            <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">xr</span><span class="p">[</span><span class="nx">xrPointer</span> <span class="o">+</span> <span class="nx">i</span><span class="p">];</span>

            <span class="nx">xr</span><span class="p">[</span><span class="nx">xrPointer</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">CS</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">-</span> <span class="nx">b</span> <span class="o">*</span> <span class="nx">CA</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="nx">xr</span><span class="p">[</span><span class="nx">xrPointer</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">b</span> <span class="o">*</span> <span class="nx">CS</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">CA</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-506"><td class="docs"><div class="pilwrap"><a href="#section-506" class="pilcrow">&#182;</a></div><p>perform IMDCT and windowing for long blocks</p>
</td><td class="code"><div class="highlight"><pre><span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">imdct_l</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">X</span><span class="p">,</span> <span class="nx">z</span><span class="p">,</span> <span class="nx">block_type</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-507"><td class="docs"><div class="pilwrap"><a href="#section-507" class="pilcrow">&#182;</a></div><p>IMDCT</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">imdct</span><span class="p">.</span><span class="nx">imdct36</span><span class="p">(</span><span class="nx">X</span><span class="p">,</span> <span class="nx">z</span><span class="p">);</span></pre></div></td></tr><tr id="section-508"><td class="docs"><div class="pilwrap"><a href="#section-508" class="pilcrow">&#182;</a></div><p>windowing</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">switch</span> <span class="p">(</span><span class="nx">block_type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>  <span class="c1">// normal window</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">36</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_L</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>  <span class="c1">// start block</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span>  <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_L</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">24</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_S</span><span class="p">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">18</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">36</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>  <span class="c1">// stop block</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span>  <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span>  <span class="mi">6</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span>  <span class="mi">6</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_S</span><span class="p">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">6</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">18</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">36</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_L</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-509"><td class="docs"><div class="pilwrap"><a href="#section-509" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>perform IMDCT and windowing for short blocks</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">imdct_s</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">X</span><span class="p">,</span> <span class="nx">z</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kd">var</span> <span class="nx">yptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">wptr</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">Xptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">36</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">hi</span><span class="p">,</span> <span class="nx">lo</span><span class="p">;</span></pre></div></td></tr><tr id="section-510"><td class="docs"><div class="pilwrap"><a href="#section-510" class="pilcrow">&#182;</a></div><p>IMDCT</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">w</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="nx">w</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">sptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">lo</span> <span class="o">=</span> <span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span>
                <span class="err"></span><span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span>
                <span class="err"></span><span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span>
                <span class="err"></span><span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span>
                <span class="err"></span><span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span>
                <span class="err"></span><span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">5</span><span class="p">];</span>


            <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lo</span><span class="p">;</span>
            <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">-</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">0</span><span class="p">];</span>

            <span class="o">++</span><span class="nx">sptr</span><span class="p">;</span>

            <span class="nx">lo</span> <span class="o">=</span> <span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span>
                 <span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span>
                 <span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span>
                 <span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span>
                 <span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span>
                 <span class="nx">X</span><span class="p">[</span><span class="nx">Xptr</span> <span class="o">+</span> <span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nx">IMDCT_S</span><span class="p">[</span><span class="nx">sptr</span><span class="p">][</span><span class="mi">5</span><span class="p">];</span>

            <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span>  <span class="nx">i</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lo</span><span class="p">;</span>
            <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="mi">11</span> <span class="o">-</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">6</span><span class="p">];</span>

            <span class="o">++</span><span class="nx">sptr</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">yptr</span> <span class="o">+=</span> <span class="mi">12</span><span class="p">;</span>
        <span class="nx">Xptr</span> <span class="o">+=</span> <span class="mi">6</span><span class="p">;</span>
    <span class="p">}</span></pre></div></td></tr><tr id="section-511"><td class="docs"><div class="pilwrap"><a href="#section-511" class="pilcrow">&#182;</a></div><p>windowing, overlapping and concatenation</p>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">yptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">wptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">z</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">z</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span>  <span class="mi">0</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_S</span><span class="p">[</span><span class="nx">wptr</span> <span class="o">+</span> <span class="mi">0</span><span class="p">];</span>

        <span class="nx">lo</span> <span class="o">=</span> <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="mi">0</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_S</span><span class="p">[</span><span class="nx">wptr</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">+</span>
             <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="mi">12</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_S</span><span class="p">[</span><span class="nx">wptr</span> <span class="o">+</span> <span class="mi">0</span><span class="p">];</span>

        <span class="nx">z</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">12</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lo</span><span class="p">;</span>

        <span class="nx">lo</span> <span class="o">=</span> <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="mi">12</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_S</span><span class="p">[</span><span class="nx">wptr</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">+</span>
             <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="mi">24</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_S</span><span class="p">[</span><span class="nx">wptr</span> <span class="o">+</span> <span class="mi">0</span><span class="p">];</span>

        <span class="nx">z</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">18</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lo</span><span class="p">;</span>
        <span class="nx">z</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">24</span><span class="p">]</span> <span class="o">=</span> <span class="nx">y</span><span class="p">[</span><span class="nx">yptr</span> <span class="o">+</span> <span class="mi">24</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">WINDOW_S</span><span class="p">[</span><span class="nx">wptr</span> <span class="o">+</span> <span class="mi">6</span><span class="p">];</span>
        <span class="nx">z</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">30</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="o">++</span><span class="nx">yptr</span><span class="p">;</span>
        <span class="o">++</span><span class="nx">wptr</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">overlap</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">output</span><span class="p">,</span> <span class="nx">overlap</span><span class="p">,</span> <span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">sample</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">sb</span><span class="p">]</span> <span class="o">=</span> <span class="nx">output</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">overlap</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="nx">overlap</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>    <span class="o">=</span> <span class="nx">output</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">18</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">freqinver</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span>
        <span class="nx">sample</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">sb</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="nx">sample</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">sb</span><span class="p">];</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">overlap_z</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">overlap</span><span class="p">,</span> <span class="nx">sample</span><span class="p">,</span> <span class="nx">sb</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">sample</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">sb</span><span class="p">]</span> <span class="o">=</span> <span class="nx">overlap</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="nx">overlap</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>    <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">Layer3</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reorder</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">xr</span><span class="p">,</span> <span class="nx">channel</span><span class="p">,</span> <span class="nx">sfbwidth</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">sfbwidthPointer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></pre></div></td></tr><tr id="section-512"><td class="docs"><div class="pilwrap"><a href="#section-512" class="pilcrow">&#182;</a></div><p>var tmp = makeArray([32, 3, 6]);</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tmp</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">sbw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint32Array</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">sw</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint32Array</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    </pre></div></td></tr><tr id="section-513"><td class="docs"><div class="pilwrap"><a href="#section-513" class="pilcrow">&#182;</a></div><p>this is probably wrong for 8000 Hz mixed blocks</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">sb</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">MIXED_BLOCK_FLAG</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">sb</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">36</span><span class="p">)</span>
            <span class="nx">l</span> <span class="o">+=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbwidthPointer</span><span class="o">++</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">w</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="nx">w</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">sbw</span><span class="p">[</span><span class="nx">w</span><span class="p">]</span> <span class="o">=</span> <span class="nx">sb</span><span class="p">;</span>
        <span class="nx">sw</span><span class="p">[</span><span class="nx">w</span><span class="p">]</span>  <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">f</span> <span class="o">=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbwidthPointer</span><span class="o">++</span><span class="p">];</span>
    <span class="nx">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">18</span> <span class="o">*</span> <span class="nx">sb</span><span class="p">;</span> <span class="nx">l</span> <span class="o">&lt;</span> <span class="mi">576</span><span class="p">;</span> <span class="o">++</span><span class="nx">l</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">f</span><span class="o">--</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">f</span> <span class="o">=</span> <span class="nx">sfbwidth</span><span class="p">[</span><span class="nx">sfbwidthPointer</span><span class="o">++</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
            <span class="nx">w</span> <span class="o">=</span> <span class="p">(</span><span class="nx">w</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="nx">tmp</span><span class="p">[</span><span class="nx">sbw</span><span class="p">[</span><span class="nx">w</span><span class="p">]][</span><span class="nx">w</span><span class="p">][</span><span class="nx">sw</span><span class="p">[</span><span class="nx">w</span><span class="p">]</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">xr</span><span class="p">[</span><span class="nx">l</span><span class="p">];</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">sw</span><span class="p">[</span><span class="nx">w</span><span class="p">]</span> <span class="o">===</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">sw</span><span class="p">[</span><span class="nx">w</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="o">++</span><span class="nx">sbw</span><span class="p">[</span><span class="nx">w</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span></pre></div></td></tr><tr id="section-514"><td class="docs"><div class="pilwrap"><a href="#section-514" class="pilcrow">&#182;</a></div><p>var tmp2 = new Float64Array(32 * 3 * 6);</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">tmp2</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tmp2</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">32</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">k</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">;</span> <span class="nx">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">tmp2</span><span class="p">[</span><span class="nx">ptr</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">][</span><span class="nx">k</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">var</span> <span class="nx">len</span> <span class="o">=</span> <span class="p">(</span><span class="mi">576</span> <span class="o">-</span> <span class="mi">18</span> <span class="o">*</span> <span class="nx">sb</span><span class="p">);</span> 
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">xr</span><span class="p">[</span><span class="mi">18</span> <span class="o">*</span> <span class="nx">sb</span> <span class="o">+</span> <span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">tmp2</span><span class="p">[</span><span class="nx">sb</span> <span class="o">+</span> <span class="nx">i</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">MP3Frame</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">header</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>                     <span class="c1">// MPEG audio header</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">options</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>                       <span class="c1">// decoding options (from stream)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">sbsample</span> <span class="o">=</span> <span class="nx">makeArray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">32</span><span class="p">]);</span> <span class="c1">// synthesis subband filter samples</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">overlap</span> <span class="o">=</span> <span class="nx">makeArray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">18</span><span class="p">]);</span>  <span class="c1">// Layer III block overlap data</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">makeArray</span><span class="p">(</span><span class="nx">lengths</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">lengths</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="nx">lengths</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="p">}</span>
    
    <span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="p">[],</span>
        <span class="nx">len</span> <span class="o">=</span> <span class="nx">lengths</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">ret</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">makeArray</span><span class="p">(</span><span class="nx">lengths</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">DECODERS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Layer I decoding is not implemented!&quot;</span><span class="p">);</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Layer II decoding is not implemented!&quot;</span><span class="p">);</span> <span class="p">},</span>
    <span class="k">new</span> <span class="nx">Layer3</span><span class="p">()</span>
<span class="p">];</span>

<span class="nx">MP3Frame</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">decode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stream</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">header</span> <span class="o">||</span> <span class="o">!</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;</span> <span class="nx">FLAGS</span><span class="p">.</span><span class="nx">INCOMPLETE</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">header</span> <span class="o">=</span> <span class="nx">MP3FrameHeader</span><span class="p">.</span><span class="nx">decode</span><span class="p">(</span><span class="nx">stream</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">header</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="nx">FLAGS</span><span class="p">.</span><span class="nx">INCOMPLETE</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">DECODERS</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">layer</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">decode</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="k">this</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>
<span class="kd">function</span> <span class="nx">MP3Synth</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">filter</span> <span class="o">=</span> <span class="nx">makeArray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">]);</span> <span class="c1">// polyphase filterbank outputs</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">phase</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">pcm</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">samplerate</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">channels</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">length</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">samples</span><span class="o">:</span> <span class="p">[</span><span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">1152</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Float64Array</span><span class="p">(</span><span class="mi">1152</span><span class="p">)]</span>
    <span class="p">};</span>
<span class="p">}</span></pre></div></td></tr><tr id="section-515"><td class="docs"><div class="pilwrap"><a href="#section-515" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>costab[i] = cos(PI / (2 * 32) * i)</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">costab1</span>  <span class="o">=</span> <span class="mf">0.998795456</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab2</span>  <span class="o">=</span> <span class="mf">0.995184727</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab3</span>  <span class="o">=</span> <span class="mf">0.989176510</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab4</span>  <span class="o">=</span> <span class="mf">0.980785280</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab5</span>  <span class="o">=</span> <span class="mf">0.970031253</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab6</span>  <span class="o">=</span> <span class="mf">0.956940336</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab7</span>  <span class="o">=</span> <span class="mf">0.941544065</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab8</span>  <span class="o">=</span> <span class="mf">0.923879533</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab9</span>  <span class="o">=</span> <span class="mf">0.903989293</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab10</span> <span class="o">=</span> <span class="mf">0.881921264</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab11</span> <span class="o">=</span> <span class="mf">0.857728610</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab12</span> <span class="o">=</span> <span class="mf">0.831469612</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab13</span> <span class="o">=</span> <span class="mf">0.803207531</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab14</span> <span class="o">=</span> <span class="mf">0.773010453</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab15</span> <span class="o">=</span> <span class="mf">0.740951125</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab16</span> <span class="o">=</span> <span class="mf">0.707106781</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab17</span> <span class="o">=</span> <span class="mf">0.671558955</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab18</span> <span class="o">=</span> <span class="mf">0.634393284</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab19</span> <span class="o">=</span> <span class="mf">0.595699304</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab20</span> <span class="o">=</span> <span class="mf">0.555570233</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab21</span> <span class="o">=</span> <span class="mf">0.514102744</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab22</span> <span class="o">=</span> <span class="mf">0.471396737</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab23</span> <span class="o">=</span> <span class="mf">0.427555093</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab24</span> <span class="o">=</span> <span class="mf">0.382683432</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab25</span> <span class="o">=</span> <span class="mf">0.336889853</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab26</span> <span class="o">=</span> <span class="mf">0.290284677</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab27</span> <span class="o">=</span> <span class="mf">0.242980180</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab28</span> <span class="o">=</span> <span class="mf">0.195090322</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab29</span> <span class="o">=</span> <span class="mf">0.146730474</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab30</span> <span class="o">=</span> <span class="mf">0.098017140</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">costab31</span> <span class="o">=</span> <span class="mf">0.049067674</span><span class="p">;</span></pre></div></td></tr><tr id="section-516"><td class="docs"><div class="pilwrap"><a href="#section-516" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>NAME:    dct32()<br />DESCRIPTION: perform fast in[32].out[32] DCT</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="nx">MP3Synth</span><span class="p">.</span><span class="nx">dct32</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">_in</span><span class="p">,</span> <span class="nx">slot</span><span class="p">,</span> <span class="nx">lo</span><span class="p">,</span> <span class="nx">hi</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">t0</span><span class="p">,</span>   <span class="nx">t1</span><span class="p">,</span>   <span class="nx">t2</span><span class="p">,</span>   <span class="nx">t3</span><span class="p">,</span>   <span class="nx">t4</span><span class="p">,</span>   <span class="nx">t5</span><span class="p">,</span>   <span class="nx">t6</span><span class="p">,</span>   <span class="nx">t7</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t8</span><span class="p">,</span>   <span class="nx">t9</span><span class="p">,</span>   <span class="nx">t10</span><span class="p">,</span>  <span class="nx">t11</span><span class="p">,</span>  <span class="nx">t12</span><span class="p">,</span>  <span class="nx">t13</span><span class="p">,</span>  <span class="nx">t14</span><span class="p">,</span>  <span class="nx">t15</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t16</span><span class="p">,</span>  <span class="nx">t17</span><span class="p">,</span>  <span class="nx">t18</span><span class="p">,</span>  <span class="nx">t19</span><span class="p">,</span>  <span class="nx">t20</span><span class="p">,</span>  <span class="nx">t21</span><span class="p">,</span>  <span class="nx">t22</span><span class="p">,</span>  <span class="nx">t23</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t24</span><span class="p">,</span>  <span class="nx">t25</span><span class="p">,</span>  <span class="nx">t26</span><span class="p">,</span>  <span class="nx">t27</span><span class="p">,</span>  <span class="nx">t28</span><span class="p">,</span>  <span class="nx">t29</span><span class="p">,</span>  <span class="nx">t30</span><span class="p">,</span>  <span class="nx">t31</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t32</span><span class="p">,</span>  <span class="nx">t33</span><span class="p">,</span>  <span class="nx">t34</span><span class="p">,</span>  <span class="nx">t35</span><span class="p">,</span>  <span class="nx">t36</span><span class="p">,</span>  <span class="nx">t37</span><span class="p">,</span>  <span class="nx">t38</span><span class="p">,</span>  <span class="nx">t39</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t40</span><span class="p">,</span>  <span class="nx">t41</span><span class="p">,</span>  <span class="nx">t42</span><span class="p">,</span>  <span class="nx">t43</span><span class="p">,</span>  <span class="nx">t44</span><span class="p">,</span>  <span class="nx">t45</span><span class="p">,</span>  <span class="nx">t46</span><span class="p">,</span>  <span class="nx">t47</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t48</span><span class="p">,</span>  <span class="nx">t49</span><span class="p">,</span>  <span class="nx">t50</span><span class="p">,</span>  <span class="nx">t51</span><span class="p">,</span>  <span class="nx">t52</span><span class="p">,</span>  <span class="nx">t53</span><span class="p">,</span>  <span class="nx">t54</span><span class="p">,</span>  <span class="nx">t55</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t56</span><span class="p">,</span>  <span class="nx">t57</span><span class="p">,</span>  <span class="nx">t58</span><span class="p">,</span>  <span class="nx">t59</span><span class="p">,</span>  <span class="nx">t60</span><span class="p">,</span>  <span class="nx">t61</span><span class="p">,</span>  <span class="nx">t62</span><span class="p">,</span>  <span class="nx">t63</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t64</span><span class="p">,</span>  <span class="nx">t65</span><span class="p">,</span>  <span class="nx">t66</span><span class="p">,</span>  <span class="nx">t67</span><span class="p">,</span>  <span class="nx">t68</span><span class="p">,</span>  <span class="nx">t69</span><span class="p">,</span>  <span class="nx">t70</span><span class="p">,</span>  <span class="nx">t71</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t72</span><span class="p">,</span>  <span class="nx">t73</span><span class="p">,</span>  <span class="nx">t74</span><span class="p">,</span>  <span class="nx">t75</span><span class="p">,</span>  <span class="nx">t76</span><span class="p">,</span>  <span class="nx">t77</span><span class="p">,</span>  <span class="nx">t78</span><span class="p">,</span>  <span class="nx">t79</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t80</span><span class="p">,</span>  <span class="nx">t81</span><span class="p">,</span>  <span class="nx">t82</span><span class="p">,</span>  <span class="nx">t83</span><span class="p">,</span>  <span class="nx">t84</span><span class="p">,</span>  <span class="nx">t85</span><span class="p">,</span>  <span class="nx">t86</span><span class="p">,</span>  <span class="nx">t87</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t88</span><span class="p">,</span>  <span class="nx">t89</span><span class="p">,</span>  <span class="nx">t90</span><span class="p">,</span>  <span class="nx">t91</span><span class="p">,</span>  <span class="nx">t92</span><span class="p">,</span>  <span class="nx">t93</span><span class="p">,</span>  <span class="nx">t94</span><span class="p">,</span>  <span class="nx">t95</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t96</span><span class="p">,</span>  <span class="nx">t97</span><span class="p">,</span>  <span class="nx">t98</span><span class="p">,</span>  <span class="nx">t99</span><span class="p">,</span>  <span class="nx">t100</span><span class="p">,</span> <span class="nx">t101</span><span class="p">,</span> <span class="nx">t102</span><span class="p">,</span> <span class="nx">t103</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t104</span><span class="p">,</span> <span class="nx">t105</span><span class="p">,</span> <span class="nx">t106</span><span class="p">,</span> <span class="nx">t107</span><span class="p">,</span> <span class="nx">t108</span><span class="p">,</span> <span class="nx">t109</span><span class="p">,</span> <span class="nx">t110</span><span class="p">,</span> <span class="nx">t111</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t112</span><span class="p">,</span> <span class="nx">t113</span><span class="p">,</span> <span class="nx">t114</span><span class="p">,</span> <span class="nx">t115</span><span class="p">,</span> <span class="nx">t116</span><span class="p">,</span> <span class="nx">t117</span><span class="p">,</span> <span class="nx">t118</span><span class="p">,</span> <span class="nx">t119</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t120</span><span class="p">,</span> <span class="nx">t121</span><span class="p">,</span> <span class="nx">t122</span><span class="p">,</span> <span class="nx">t123</span><span class="p">,</span> <span class="nx">t124</span><span class="p">,</span> <span class="nx">t125</span><span class="p">,</span> <span class="nx">t126</span><span class="p">,</span> <span class="nx">t127</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t128</span><span class="p">,</span> <span class="nx">t129</span><span class="p">,</span> <span class="nx">t130</span><span class="p">,</span> <span class="nx">t131</span><span class="p">,</span> <span class="nx">t132</span><span class="p">,</span> <span class="nx">t133</span><span class="p">,</span> <span class="nx">t134</span><span class="p">,</span> <span class="nx">t135</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t136</span><span class="p">,</span> <span class="nx">t137</span><span class="p">,</span> <span class="nx">t138</span><span class="p">,</span> <span class="nx">t139</span><span class="p">,</span> <span class="nx">t140</span><span class="p">,</span> <span class="nx">t141</span><span class="p">,</span> <span class="nx">t142</span><span class="p">,</span> <span class="nx">t143</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t144</span><span class="p">,</span> <span class="nx">t145</span><span class="p">,</span> <span class="nx">t146</span><span class="p">,</span> <span class="nx">t147</span><span class="p">,</span> <span class="nx">t148</span><span class="p">,</span> <span class="nx">t149</span><span class="p">,</span> <span class="nx">t150</span><span class="p">,</span> <span class="nx">t151</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t152</span><span class="p">,</span> <span class="nx">t153</span><span class="p">,</span> <span class="nx">t154</span><span class="p">,</span> <span class="nx">t155</span><span class="p">,</span> <span class="nx">t156</span><span class="p">,</span> <span class="nx">t157</span><span class="p">,</span> <span class="nx">t158</span><span class="p">,</span> <span class="nx">t159</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t160</span><span class="p">,</span> <span class="nx">t161</span><span class="p">,</span> <span class="nx">t162</span><span class="p">,</span> <span class="nx">t163</span><span class="p">,</span> <span class="nx">t164</span><span class="p">,</span> <span class="nx">t165</span><span class="p">,</span> <span class="nx">t166</span><span class="p">,</span> <span class="nx">t167</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t168</span><span class="p">,</span> <span class="nx">t169</span><span class="p">,</span> <span class="nx">t170</span><span class="p">,</span> <span class="nx">t171</span><span class="p">,</span> <span class="nx">t172</span><span class="p">,</span> <span class="nx">t173</span><span class="p">,</span> <span class="nx">t174</span><span class="p">,</span> <span class="nx">t175</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">t176</span><span class="p">;</span>

    <span class="nx">t0</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">31</span><span class="p">];</span>  <span class="nx">t16</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">31</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab1</span><span class="p">));</span>
    <span class="nx">t1</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>  <span class="nx">t17</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">16</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab31</span><span class="p">));</span>

    <span class="nx">t41</span>  <span class="o">=</span> <span class="nx">t16</span> <span class="o">+</span> <span class="nx">t17</span><span class="p">;</span>
    <span class="nx">t59</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t16</span> <span class="o">-</span> <span class="nx">t17</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab2</span><span class="p">));</span>
    <span class="nx">t33</span>  <span class="o">=</span> <span class="nx">t0</span>  <span class="o">+</span> <span class="nx">t1</span><span class="p">;</span>
    <span class="nx">t50</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t0</span>  <span class="o">-</span> <span class="nx">t1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">costab2</span><span class="p">));</span>

    <span class="nx">t2</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">24</span><span class="p">];</span>  <span class="nx">t18</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">24</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab15</span><span class="p">));</span>
    <span class="nx">t3</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">23</span><span class="p">];</span>  <span class="nx">t19</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">23</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab17</span><span class="p">));</span>

    <span class="nx">t42</span>  <span class="o">=</span> <span class="nx">t18</span> <span class="o">+</span> <span class="nx">t19</span><span class="p">;</span>
    <span class="nx">t60</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t18</span> <span class="o">-</span> <span class="nx">t19</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab30</span><span class="p">));</span>
    <span class="nx">t34</span>  <span class="o">=</span> <span class="nx">t2</span>  <span class="o">+</span> <span class="nx">t3</span><span class="p">;</span>
    <span class="nx">t51</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t2</span>  <span class="o">-</span> <span class="nx">t3</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">costab30</span><span class="p">));</span>

    <span class="nx">t4</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">28</span><span class="p">];</span>  <span class="nx">t20</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">28</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab7</span><span class="p">));</span>
    <span class="nx">t5</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">19</span><span class="p">];</span>  <span class="nx">t21</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">19</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab25</span><span class="p">));</span>

    <span class="nx">t43</span>  <span class="o">=</span> <span class="nx">t20</span> <span class="o">+</span> <span class="nx">t21</span><span class="p">;</span>
    <span class="nx">t61</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t20</span> <span class="o">-</span> <span class="nx">t21</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab14</span><span class="p">));</span>
    <span class="nx">t35</span>  <span class="o">=</span> <span class="nx">t4</span>  <span class="o">+</span> <span class="nx">t5</span><span class="p">;</span>
    <span class="nx">t52</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t4</span>  <span class="o">-</span> <span class="nx">t5</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">costab14</span><span class="p">));</span>

    <span class="nx">t6</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">27</span><span class="p">];</span>  <span class="nx">t22</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">27</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab9</span><span class="p">));</span>
    <span class="nx">t7</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>  <span class="nx">t23</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab23</span><span class="p">));</span>

    <span class="nx">t44</span>  <span class="o">=</span> <span class="nx">t22</span> <span class="o">+</span> <span class="nx">t23</span><span class="p">;</span>
    <span class="nx">t62</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t22</span> <span class="o">-</span> <span class="nx">t23</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab18</span><span class="p">));</span>
    <span class="nx">t36</span>  <span class="o">=</span> <span class="nx">t6</span>  <span class="o">+</span> <span class="nx">t7</span><span class="p">;</span>
    <span class="nx">t53</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t6</span>  <span class="o">-</span> <span class="nx">t7</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">costab18</span><span class="p">));</span>

    <span class="nx">t8</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">30</span><span class="p">];</span>  <span class="nx">t24</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">30</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab3</span><span class="p">));</span>
    <span class="nx">t9</span>   <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span> <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">17</span><span class="p">];</span>  <span class="nx">t25</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span> <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">17</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab29</span><span class="p">));</span>

    <span class="nx">t45</span>  <span class="o">=</span> <span class="nx">t24</span> <span class="o">+</span> <span class="nx">t25</span><span class="p">;</span>
    <span class="nx">t63</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t24</span> <span class="o">-</span> <span class="nx">t25</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab6</span><span class="p">));</span>
    <span class="nx">t37</span>  <span class="o">=</span> <span class="nx">t8</span>  <span class="o">+</span> <span class="nx">t9</span><span class="p">;</span>
    <span class="nx">t54</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t8</span>  <span class="o">-</span> <span class="nx">t9</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">costab6</span><span class="p">));</span>

    <span class="nx">t10</span>  <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">25</span><span class="p">];</span>  <span class="nx">t26</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">25</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab13</span><span class="p">));</span>
    <span class="nx">t11</span>  <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">22</span><span class="p">];</span>  <span class="nx">t27</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">22</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab19</span><span class="p">));</span>

    <span class="nx">t46</span>  <span class="o">=</span> <span class="nx">t26</span> <span class="o">+</span> <span class="nx">t27</span><span class="p">;</span>
    <span class="nx">t64</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t26</span> <span class="o">-</span> <span class="nx">t27</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab26</span><span class="p">));</span>
    <span class="nx">t38</span>  <span class="o">=</span> <span class="nx">t10</span> <span class="o">+</span> <span class="nx">t11</span><span class="p">;</span>
    <span class="nx">t55</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t10</span> <span class="o">-</span> <span class="nx">t11</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab26</span><span class="p">));</span>

    <span class="nx">t12</span>  <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">29</span><span class="p">];</span>  <span class="nx">t28</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">29</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab5</span><span class="p">));</span>
    <span class="nx">t13</span>  <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span> <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">18</span><span class="p">];</span>  <span class="nx">t29</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span> <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">18</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab27</span><span class="p">));</span>

    <span class="nx">t47</span>  <span class="o">=</span> <span class="nx">t28</span> <span class="o">+</span> <span class="nx">t29</span><span class="p">;</span>
    <span class="nx">t65</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t28</span> <span class="o">-</span> <span class="nx">t29</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab10</span><span class="p">));</span>
    <span class="nx">t39</span>  <span class="o">=</span> <span class="nx">t12</span> <span class="o">+</span> <span class="nx">t13</span><span class="p">;</span>
    <span class="nx">t56</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t12</span> <span class="o">-</span> <span class="nx">t13</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab10</span><span class="p">));</span>

    <span class="nx">t14</span>  <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>  <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">26</span><span class="p">];</span>  <span class="nx">t30</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>  <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">26</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab11</span><span class="p">));</span>
    <span class="nx">t15</span>  <span class="o">=</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">+</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">21</span><span class="p">];</span>  <span class="nx">t31</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">_in</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">-</span> <span class="nx">_in</span><span class="p">[</span><span class="mi">21</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab21</span><span class="p">));</span>

    <span class="nx">t48</span>  <span class="o">=</span> <span class="nx">t30</span> <span class="o">+</span> <span class="nx">t31</span><span class="p">;</span>
    <span class="nx">t66</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t30</span> <span class="o">-</span> <span class="nx">t31</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab22</span><span class="p">));</span>
    <span class="nx">t40</span>  <span class="o">=</span> <span class="nx">t14</span> <span class="o">+</span> <span class="nx">t15</span><span class="p">;</span>
    <span class="nx">t57</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t14</span> <span class="o">-</span> <span class="nx">t15</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab22</span><span class="p">));</span>

    <span class="nx">t69</span>  <span class="o">=</span> <span class="nx">t33</span> <span class="o">+</span> <span class="nx">t34</span><span class="p">;</span>  <span class="nx">t89</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t33</span> <span class="o">-</span> <span class="nx">t34</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab4</span><span class="p">));</span>
    <span class="nx">t70</span>  <span class="o">=</span> <span class="nx">t35</span> <span class="o">+</span> <span class="nx">t36</span><span class="p">;</span>  <span class="nx">t90</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t35</span> <span class="o">-</span> <span class="nx">t36</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab28</span><span class="p">));</span>
    <span class="nx">t71</span>  <span class="o">=</span> <span class="nx">t37</span> <span class="o">+</span> <span class="nx">t38</span><span class="p">;</span>  <span class="nx">t91</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t37</span> <span class="o">-</span> <span class="nx">t38</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab12</span><span class="p">));</span>
    <span class="nx">t72</span>  <span class="o">=</span> <span class="nx">t39</span> <span class="o">+</span> <span class="nx">t40</span><span class="p">;</span>  <span class="nx">t92</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t39</span> <span class="o">-</span> <span class="nx">t40</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab20</span><span class="p">));</span>
    <span class="nx">t73</span>  <span class="o">=</span> <span class="nx">t41</span> <span class="o">+</span> <span class="nx">t42</span><span class="p">;</span>  <span class="nx">t94</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t41</span> <span class="o">-</span> <span class="nx">t42</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab4</span><span class="p">));</span>
    <span class="nx">t74</span>  <span class="o">=</span> <span class="nx">t43</span> <span class="o">+</span> <span class="nx">t44</span><span class="p">;</span>  <span class="nx">t95</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t43</span> <span class="o">-</span> <span class="nx">t44</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab28</span><span class="p">));</span>
    <span class="nx">t75</span>  <span class="o">=</span> <span class="nx">t45</span> <span class="o">+</span> <span class="nx">t46</span><span class="p">;</span>  <span class="nx">t96</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t45</span> <span class="o">-</span> <span class="nx">t46</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab12</span><span class="p">));</span>
    <span class="nx">t76</span>  <span class="o">=</span> <span class="nx">t47</span> <span class="o">+</span> <span class="nx">t48</span><span class="p">;</span>  <span class="nx">t97</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">t47</span> <span class="o">-</span> <span class="nx">t48</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab20</span><span class="p">));</span>

    <span class="nx">t78</span>  <span class="o">=</span> <span class="nx">t50</span> <span class="o">+</span> <span class="nx">t51</span><span class="p">;</span>  <span class="nx">t100</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t50</span> <span class="o">-</span> <span class="nx">t51</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab4</span><span class="p">));</span>
    <span class="nx">t79</span>  <span class="o">=</span> <span class="nx">t52</span> <span class="o">+</span> <span class="nx">t53</span><span class="p">;</span>  <span class="nx">t101</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t52</span> <span class="o">-</span> <span class="nx">t53</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab28</span><span class="p">));</span>
    <span class="nx">t80</span>  <span class="o">=</span> <span class="nx">t54</span> <span class="o">+</span> <span class="nx">t55</span><span class="p">;</span>  <span class="nx">t102</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t54</span> <span class="o">-</span> <span class="nx">t55</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab12</span><span class="p">));</span>
    <span class="nx">t81</span>  <span class="o">=</span> <span class="nx">t56</span> <span class="o">+</span> <span class="nx">t57</span><span class="p">;</span>  <span class="nx">t103</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t56</span> <span class="o">-</span> <span class="nx">t57</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab20</span><span class="p">));</span>

    <span class="nx">t83</span>  <span class="o">=</span> <span class="nx">t59</span> <span class="o">+</span> <span class="nx">t60</span><span class="p">;</span>  <span class="nx">t106</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t59</span> <span class="o">-</span> <span class="nx">t60</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab4</span><span class="p">));</span>
    <span class="nx">t84</span>  <span class="o">=</span> <span class="nx">t61</span> <span class="o">+</span> <span class="nx">t62</span><span class="p">;</span>  <span class="nx">t107</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t61</span> <span class="o">-</span> <span class="nx">t62</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab28</span><span class="p">));</span>
    <span class="nx">t85</span>  <span class="o">=</span> <span class="nx">t63</span> <span class="o">+</span> <span class="nx">t64</span><span class="p">;</span>  <span class="nx">t108</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t63</span> <span class="o">-</span> <span class="nx">t64</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab12</span><span class="p">));</span>
    <span class="nx">t86</span>  <span class="o">=</span> <span class="nx">t65</span> <span class="o">+</span> <span class="nx">t66</span><span class="p">;</span>  <span class="nx">t109</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t65</span> <span class="o">-</span> <span class="nx">t66</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab20</span><span class="p">));</span>

    <span class="nx">t113</span> <span class="o">=</span> <span class="nx">t69</span>  <span class="o">+</span> <span class="nx">t70</span><span class="p">;</span>
    <span class="nx">t114</span> <span class="o">=</span> <span class="nx">t71</span>  <span class="o">+</span> <span class="nx">t72</span><span class="p">;</span></pre></div></td></tr><tr id="section-517"><td class="docs"><div class="pilwrap"><a href="#section-517" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>0</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>16</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t115</span> <span class="o">=</span> <span class="nx">t73</span>  <span class="o">+</span> <span class="nx">t74</span><span class="p">;</span>
    <span class="nx">t116</span> <span class="o">=</span> <span class="nx">t75</span>  <span class="o">+</span> <span class="nx">t76</span><span class="p">;</span>

    <span class="nx">t32</span>  <span class="o">=</span> <span class="nx">t115</span> <span class="o">+</span> <span class="nx">t116</span><span class="p">;</span></pre></div></td></tr><tr id="section-518"><td class="docs"><div class="pilwrap"><a href="#section-518" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>1</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t118</span> <span class="o">=</span> <span class="nx">t78</span>  <span class="o">+</span> <span class="nx">t79</span><span class="p">;</span>
    <span class="nx">t119</span> <span class="o">=</span> <span class="nx">t80</span>  <span class="o">+</span> <span class="nx">t81</span><span class="p">;</span>

    <span class="nx">t58</span>  <span class="o">=</span> <span class="nx">t118</span> <span class="o">+</span> <span class="nx">t119</span><span class="p">;</span></pre></div></td></tr><tr id="section-519"><td class="docs"><div class="pilwrap"><a href="#section-519" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>2</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t121</span> <span class="o">=</span> <span class="nx">t83</span>  <span class="o">+</span> <span class="nx">t84</span><span class="p">;</span>
    <span class="nx">t122</span> <span class="o">=</span> <span class="nx">t85</span>  <span class="o">+</span> <span class="nx">t86</span><span class="p">;</span>

    <span class="nx">t67</span>  <span class="o">=</span> <span class="nx">t121</span> <span class="o">+</span> <span class="nx">t122</span><span class="p">;</span>

    <span class="nx">t49</span>  <span class="o">=</span> <span class="p">(</span><span class="nx">t67</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t32</span><span class="p">;</span></pre></div></td></tr><tr id="section-520"><td class="docs"><div class="pilwrap"><a href="#section-520" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>3</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t125</span> <span class="o">=</span> <span class="nx">t89</span>  <span class="o">+</span> <span class="nx">t90</span><span class="p">;</span>
    <span class="nx">t126</span> <span class="o">=</span> <span class="nx">t91</span>  <span class="o">+</span> <span class="nx">t92</span><span class="p">;</span>

    <span class="nx">t93</span>  <span class="o">=</span> <span class="nx">t125</span> <span class="o">+</span> <span class="nx">t126</span><span class="p">;</span></pre></div></td></tr><tr id="section-521"><td class="docs"><div class="pilwrap"><a href="#section-521" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>4</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t128</span> <span class="o">=</span> <span class="nx">t94</span>  <span class="o">+</span> <span class="nx">t95</span><span class="p">;</span>
    <span class="nx">t129</span> <span class="o">=</span> <span class="nx">t96</span>  <span class="o">+</span> <span class="nx">t97</span><span class="p">;</span>

    <span class="nx">t98</span>  <span class="o">=</span> <span class="nx">t128</span> <span class="o">+</span> <span class="nx">t129</span><span class="p">;</span>

    <span class="nx">t68</span>  <span class="o">=</span> <span class="p">(</span><span class="nx">t98</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t49</span><span class="p">;</span></pre></div></td></tr><tr id="section-522"><td class="docs"><div class="pilwrap"><a href="#section-522" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>5</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t132</span> <span class="o">=</span> <span class="nx">t100</span> <span class="o">+</span> <span class="nx">t101</span><span class="p">;</span>
    <span class="nx">t133</span> <span class="o">=</span> <span class="nx">t102</span> <span class="o">+</span> <span class="nx">t103</span><span class="p">;</span>

    <span class="nx">t104</span> <span class="o">=</span> <span class="nx">t132</span> <span class="o">+</span> <span class="nx">t133</span><span class="p">;</span>

    <span class="nx">t82</span>  <span class="o">=</span> <span class="p">(</span><span class="nx">t104</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t58</span><span class="p">;</span></pre></div></td></tr><tr id="section-523"><td class="docs"><div class="pilwrap"><a href="#section-523" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>6</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t136</span> <span class="o">=</span> <span class="nx">t106</span> <span class="o">+</span> <span class="nx">t107</span><span class="p">;</span>
    <span class="nx">t137</span> <span class="o">=</span> <span class="nx">t108</span> <span class="o">+</span> <span class="nx">t109</span><span class="p">;</span>

    <span class="nx">t110</span> <span class="o">=</span> <span class="nx">t136</span> <span class="o">+</span> <span class="nx">t137</span><span class="p">;</span>

    <span class="nx">t87</span>  <span class="o">=</span> <span class="p">(</span><span class="nx">t110</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t67</span><span class="p">;</span>

    <span class="nx">t77</span>  <span class="o">=</span> <span class="p">(</span><span class="nx">t87</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t68</span><span class="p">;</span></pre></div></td></tr><tr id="section-524"><td class="docs"><div class="pilwrap"><a href="#section-524" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>7</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t141</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t69</span> <span class="o">-</span> <span class="nx">t70</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab8</span><span class="p">));</span>
    <span class="nx">t142</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t71</span> <span class="o">-</span> <span class="nx">t72</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab24</span><span class="p">));</span>
    <span class="nx">t143</span> <span class="o">=</span> <span class="nx">t141</span> <span class="o">+</span> <span class="nx">t142</span><span class="p">;</span></pre></div></td></tr><tr id="section-525"><td class="docs"><div class="pilwrap"><a href="#section-525" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>8</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>24</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>        <span class="p">(((</span><span class="nx">t141</span> <span class="o">-</span> <span class="nx">t142</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t143</span><span class="p">;</span>

    <span class="nx">t144</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t73</span> <span class="o">-</span> <span class="nx">t74</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab8</span><span class="p">));</span>
    <span class="nx">t145</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t75</span> <span class="o">-</span> <span class="nx">t76</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab24</span><span class="p">));</span>
    <span class="nx">t146</span> <span class="o">=</span> <span class="nx">t144</span> <span class="o">+</span> <span class="nx">t145</span><span class="p">;</span>

    <span class="nx">t88</span>  <span class="o">=</span> <span class="p">(</span><span class="nx">t146</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t77</span><span class="p">;</span></pre></div></td></tr><tr id="section-526"><td class="docs"><div class="pilwrap"><a href="#section-526" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>9</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t148</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t78</span> <span class="o">-</span> <span class="nx">t79</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab8</span><span class="p">));</span>
    <span class="nx">t149</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t80</span> <span class="o">-</span> <span class="nx">t81</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab24</span><span class="p">));</span>
    <span class="nx">t150</span> <span class="o">=</span> <span class="nx">t148</span> <span class="o">+</span> <span class="nx">t149</span><span class="p">;</span>

    <span class="nx">t105</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t150</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t82</span><span class="p">;</span></pre></div></td></tr><tr id="section-527"><td class="docs"><div class="pilwrap"><a href="#section-527" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>10</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t152</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t83</span> <span class="o">-</span> <span class="nx">t84</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab8</span><span class="p">));</span>
    <span class="nx">t153</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t85</span> <span class="o">-</span> <span class="nx">t86</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab24</span><span class="p">));</span>
    <span class="nx">t154</span> <span class="o">=</span> <span class="nx">t152</span> <span class="o">+</span> <span class="nx">t153</span><span class="p">;</span>

    <span class="nx">t111</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t154</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t87</span><span class="p">;</span>

    <span class="nx">t99</span>  <span class="o">=</span> <span class="p">(</span><span class="nx">t111</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t88</span><span class="p">;</span></pre></div></td></tr><tr id="section-528"><td class="docs"><div class="pilwrap"><a href="#section-528" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>11</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t157</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t89</span> <span class="o">-</span> <span class="nx">t90</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab8</span><span class="p">));</span>
    <span class="nx">t158</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t91</span> <span class="o">-</span> <span class="nx">t92</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab24</span><span class="p">));</span>
    <span class="nx">t159</span> <span class="o">=</span> <span class="nx">t157</span> <span class="o">+</span> <span class="nx">t158</span><span class="p">;</span>

    <span class="nx">t127</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t159</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t93</span><span class="p">;</span></pre></div></td></tr><tr id="section-529"><td class="docs"><div class="pilwrap"><a href="#section-529" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>12</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t160</span> <span class="o">=</span> <span class="p">(((</span><span class="nx">t125</span> <span class="o">-</span> <span class="nx">t126</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t127</span><span class="p">;</span></pre></div></td></tr><tr id="section-530"><td class="docs"><div class="pilwrap"><a href="#section-530" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>20</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>28</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>        <span class="p">(((((</span><span class="nx">t157</span> <span class="o">-</span> <span class="nx">t158</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t159</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t160</span><span class="p">;</span>

    <span class="nx">t161</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t94</span> <span class="o">-</span> <span class="nx">t95</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab8</span><span class="p">));</span>
    <span class="nx">t162</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t96</span> <span class="o">-</span> <span class="nx">t97</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab24</span><span class="p">));</span>
    <span class="nx">t163</span> <span class="o">=</span> <span class="nx">t161</span> <span class="o">+</span> <span class="nx">t162</span><span class="p">;</span>

    <span class="nx">t130</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t163</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t98</span><span class="p">;</span>

    <span class="nx">t112</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t130</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t99</span><span class="p">;</span></pre></div></td></tr><tr id="section-531"><td class="docs"><div class="pilwrap"><a href="#section-531" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>13</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t164</span> <span class="o">=</span> <span class="p">(((</span><span class="nx">t128</span> <span class="o">-</span> <span class="nx">t129</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t130</span><span class="p">;</span>

    <span class="nx">t166</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t100</span> <span class="o">-</span> <span class="nx">t101</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab8</span><span class="p">));</span>
    <span class="nx">t167</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t102</span> <span class="o">-</span> <span class="nx">t103</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab24</span><span class="p">));</span>
    <span class="nx">t168</span> <span class="o">=</span> <span class="nx">t166</span> <span class="o">+</span> <span class="nx">t167</span><span class="p">;</span>

    <span class="nx">t134</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t168</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t104</span><span class="p">;</span>

    <span class="nx">t120</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t134</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t105</span><span class="p">;</span></pre></div></td></tr><tr id="section-532"><td class="docs"><div class="pilwrap"><a href="#section-532" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>14</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t135</span> <span class="o">=</span> <span class="p">(((</span><span class="nx">t118</span> <span class="o">-</span> <span class="nx">t119</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t120</span><span class="p">;</span></pre></div></td></tr><tr id="section-533"><td class="docs"><div class="pilwrap"><a href="#section-533" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>18</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t169</span> <span class="o">=</span> <span class="p">(((</span><span class="nx">t132</span> <span class="o">-</span> <span class="nx">t133</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t134</span><span class="p">;</span>

    <span class="nx">t151</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t169</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t135</span><span class="p">;</span></pre></div></td></tr><tr id="section-534"><td class="docs"><div class="pilwrap"><a href="#section-534" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>22</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t170</span> <span class="o">=</span> <span class="p">(((((</span><span class="nx">t148</span> <span class="o">-</span> <span class="nx">t149</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t150</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t151</span><span class="p">;</span></pre></div></td></tr><tr id="section-535"><td class="docs"><div class="pilwrap"><a href="#section-535" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>26</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>30</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>        <span class="p">(((((((</span><span class="nx">t166</span> <span class="o">-</span> <span class="nx">t167</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">))</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span>
             <span class="nx">t168</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t169</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t170</span><span class="p">);</span>

    <span class="nx">t171</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t106</span> <span class="o">-</span> <span class="nx">t107</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab8</span><span class="p">));</span>
    <span class="nx">t172</span> <span class="o">=</span> <span class="p">((</span><span class="nx">t108</span> <span class="o">-</span> <span class="nx">t109</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab24</span><span class="p">));</span>
    <span class="nx">t173</span> <span class="o">=</span> <span class="nx">t171</span> <span class="o">+</span> <span class="nx">t172</span><span class="p">;</span>

    <span class="nx">t138</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t173</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t110</span><span class="p">;</span>
    <span class="nx">t123</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t138</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t111</span><span class="p">;</span>
    <span class="nx">t139</span> <span class="o">=</span> <span class="p">(((</span><span class="nx">t121</span> <span class="o">-</span> <span class="nx">t122</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t123</span><span class="p">;</span>
    <span class="nx">t117</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t123</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t112</span><span class="p">;</span></pre></div></td></tr><tr id="section-536"><td class="docs"><div class="pilwrap"><a href="#section-536" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>15</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t124</span> <span class="o">=</span> <span class="p">(((</span><span class="nx">t115</span> <span class="o">-</span> <span class="nx">t116</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t117</span><span class="p">;</span></pre></div></td></tr><tr id="section-537"><td class="docs"><div class="pilwrap"><a href="#section-537" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>17</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t131</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t139</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t124</span><span class="p">;</span></pre></div></td></tr><tr id="section-538"><td class="docs"><div class="pilwrap"><a href="#section-538" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>19</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t140</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t164</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t131</span><span class="p">;</span></pre></div></td></tr><tr id="section-539"><td class="docs"><div class="pilwrap"><a href="#section-539" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>21</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t174</span> <span class="o">=</span> <span class="p">(((</span><span class="nx">t136</span> <span class="o">-</span> <span class="nx">t137</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t138</span><span class="p">;</span>
    <span class="nx">t155</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t174</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t139</span><span class="p">;</span>
    <span class="nx">t147</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t155</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t140</span><span class="p">;</span></pre></div></td></tr><tr id="section-540"><td class="docs"><div class="pilwrap"><a href="#section-540" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>23</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t156</span> <span class="o">=</span> <span class="p">(((((</span><span class="nx">t144</span> <span class="o">-</span> <span class="nx">t145</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t146</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t147</span><span class="p">;</span></pre></div></td></tr><tr id="section-541"><td class="docs"><div class="pilwrap"><a href="#section-541" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>25</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t175</span> <span class="o">=</span> <span class="p">(((((</span><span class="nx">t152</span> <span class="o">-</span> <span class="nx">t153</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t154</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="nx">t155</span><span class="p">;</span>
    <span class="nx">t165</span> <span class="o">=</span> <span class="p">(</span><span class="nx">t175</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t156</span><span class="p">;</span></pre></div></td></tr><tr id="section-542"><td class="docs"><div class="pilwrap"><a href="#section-542" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>27</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="nx">t176</span> <span class="o">=</span> <span class="p">(((((((</span><span class="nx">t161</span> <span class="o">-</span> <span class="nx">t162</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">-</span>
               <span class="nx">t163</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t164</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t165</span><span class="p">;</span></pre></div></td></tr><tr id="section-543"><td class="docs"><div class="pilwrap"><a href="#section-543" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>29</p></div><div class="body"></div></div><div class="dox"><div class="summary"><p>31</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>        <span class="p">(((((((((</span><span class="nx">t171</span> <span class="o">-</span> <span class="nx">t172</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">costab16</span><span class="p">))</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span>
               <span class="nx">t173</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t174</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t175</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="nx">t176</span><span class="p">);</span></pre></div></td></tr><tr id="section-544"><td class="docs"><div class="pilwrap"><a href="#section-544" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><h2>Totals</h2>

<p>80 multiplies<br /> 80 additions<br />119 subtractions<br /> 49 shifts (not counting SSO)</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">};</span></pre></div></td></tr><tr id="section-545"><td class="docs"><div class="pilwrap"><a href="#section-545" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>These are the coefficients for the subband synthesis window. This is a<br />reordered version of Table B.3 from ISO/IEC 11172-3.</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kr">const</span> <span class="nx">D</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>  <span class="mf">0.000000000</span><span class="p">,</span>   <span class="cm">/*  0 */</span>
       <span class="o">-</span><span class="mf">0.000442505</span><span class="p">,</span>
       <span class="mf">0.003250122</span><span class="p">,</span>
       <span class="o">-</span><span class="mf">0.007003784</span><span class="p">,</span>
       <span class="mf">0.031082153</span><span class="p">,</span>
       <span class="o">-</span><span class="mf">0.078628540</span><span class="p">,</span>
       <span class="mf">0.100311279</span><span class="p">,</span>
       <span class="o">-</span><span class="mf">0.572036743</span><span class="p">,</span>
       <span class="mf">1.144989014</span><span class="p">,</span>
       <span class="mf">0.572036743</span><span class="p">,</span>
       <span class="mf">0.100311279</span><span class="p">,</span>
       <span class="mf">0.078628540</span><span class="p">,</span>
       <span class="mf">0.031082153</span><span class="p">,</span>
       <span class="mf">0.007003784</span><span class="p">,</span>
       <span class="mf">0.003250122</span><span class="p">,</span>
       <span class="mf">0.000442505</span><span class="p">,</span>

       <span class="mf">0.000000000</span><span class="p">,</span>
       <span class="o">-</span><span class="mf">0.000442505</span><span class="p">,</span>
       <span class="mf">0.003250122</span><span class="p">,</span>
       <span class="o">-</span><span class="mf">0.007003784</span><span class="p">,</span>
       <span class="mf">0.031082153</span><span class="p">,</span>
       <span class="o">-</span><span class="mf">0.078628540</span><span class="p">,</span>
       <span class="mf">0.100311279</span><span class="p">,</span>
       <span class="o">-</span><span class="mf">0.572036743</span><span class="p">,</span>
       <span class="mf">1.144989014</span><span class="p">,</span>
       <span class="mf">0.572036743</span><span class="p">,</span>
       <span class="mf">0.100311279</span><span class="p">,</span>
       <span class="mf">0.078628540</span><span class="p">,</span>
       <span class="mf">0.031082153</span><span class="p">,</span>
       <span class="mf">0.007003784</span><span class="p">,</span>
       <span class="mf">0.003250122</span><span class="p">,</span>
       <span class="mf">0.000442505</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>   <span class="cm">/*  1 */</span>
      <span class="o">-</span><span class="mf">0.000473022</span><span class="p">,</span>
      <span class="mf">0.003326416</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.007919312</span><span class="p">,</span>
      <span class="mf">0.030517578</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.084182739</span><span class="p">,</span>
      <span class="mf">0.090927124</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.600219727</span><span class="p">,</span>
      <span class="mf">1.144287109</span><span class="p">,</span>
      <span class="mf">0.543823242</span><span class="p">,</span>
      <span class="mf">0.108856201</span><span class="p">,</span>
      <span class="mf">0.073059082</span><span class="p">,</span>
      <span class="mf">0.031478882</span><span class="p">,</span>
      <span class="mf">0.006118774</span><span class="p">,</span>
      <span class="mf">0.003173828</span><span class="p">,</span>
      <span class="mf">0.000396729</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000473022</span><span class="p">,</span>
      <span class="mf">0.003326416</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.007919312</span><span class="p">,</span>
      <span class="mf">0.030517578</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.084182739</span><span class="p">,</span>
      <span class="mf">0.090927124</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.600219727</span><span class="p">,</span>
      <span class="mf">1.144287109</span><span class="p">,</span>
      <span class="mf">0.543823242</span><span class="p">,</span>
      <span class="mf">0.108856201</span><span class="p">,</span>
      <span class="mf">0.073059082</span><span class="p">,</span>
      <span class="mf">0.031478882</span><span class="p">,</span>
      <span class="mf">0.006118774</span><span class="p">,</span>
      <span class="mf">0.003173828</span><span class="p">,</span>
      <span class="mf">0.000396729</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>   <span class="cm">/*  2 */</span>
      <span class="o">-</span><span class="mf">0.000534058</span><span class="p">,</span>
      <span class="mf">0.003387451</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.008865356</span><span class="p">,</span>
      <span class="mf">0.029785156</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.089706421</span><span class="p">,</span>
      <span class="mf">0.080688477</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.628295898</span><span class="p">,</span>
      <span class="mf">1.142211914</span><span class="p">,</span>
      <span class="mf">0.515609741</span><span class="p">,</span>
      <span class="mf">0.116577148</span><span class="p">,</span>
      <span class="mf">0.067520142</span><span class="p">,</span>
      <span class="mf">0.031738281</span><span class="p">,</span>
      <span class="mf">0.005294800</span><span class="p">,</span>
      <span class="mf">0.003082275</span><span class="p">,</span>
      <span class="mf">0.000366211</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000534058</span><span class="p">,</span>
      <span class="mf">0.003387451</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.008865356</span><span class="p">,</span>
      <span class="mf">0.029785156</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.089706421</span><span class="p">,</span>
      <span class="mf">0.080688477</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.628295898</span><span class="p">,</span>
      <span class="mf">1.142211914</span><span class="p">,</span>
      <span class="mf">0.515609741</span><span class="p">,</span>
      <span class="mf">0.116577148</span><span class="p">,</span>
      <span class="mf">0.067520142</span><span class="p">,</span>
      <span class="mf">0.031738281</span><span class="p">,</span>
      <span class="mf">0.005294800</span><span class="p">,</span>
      <span class="mf">0.003082275</span><span class="p">,</span>
      <span class="mf">0.000366211</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>   <span class="cm">/*  3 */</span>
      <span class="o">-</span><span class="mf">0.000579834</span><span class="p">,</span>
      <span class="mf">0.003433228</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.009841919</span><span class="p">,</span>
      <span class="mf">0.028884888</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.095169067</span><span class="p">,</span>
      <span class="mf">0.069595337</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.656219482</span><span class="p">,</span>
      <span class="mf">1.138763428</span><span class="p">,</span>
      <span class="mf">0.487472534</span><span class="p">,</span>
      <span class="mf">0.123474121</span><span class="p">,</span>
      <span class="mf">0.061996460</span><span class="p">,</span>
      <span class="mf">0.031845093</span><span class="p">,</span>
      <span class="mf">0.004486084</span><span class="p">,</span>
      <span class="mf">0.002990723</span><span class="p">,</span>
      <span class="mf">0.000320435</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000579834</span><span class="p">,</span>
      <span class="mf">0.003433228</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.009841919</span><span class="p">,</span>
      <span class="mf">0.028884888</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.095169067</span><span class="p">,</span>
      <span class="mf">0.069595337</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.656219482</span><span class="p">,</span>
      <span class="mf">1.138763428</span><span class="p">,</span>
      <span class="mf">0.487472534</span><span class="p">,</span>
      <span class="mf">0.123474121</span><span class="p">,</span>
      <span class="mf">0.061996460</span><span class="p">,</span>
      <span class="mf">0.031845093</span><span class="p">,</span>
      <span class="mf">0.004486084</span><span class="p">,</span>
      <span class="mf">0.002990723</span><span class="p">,</span>
      <span class="mf">0.000320435</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>   <span class="cm">/*  4 */</span>
      <span class="o">-</span><span class="mf">0.000625610</span><span class="p">,</span>
      <span class="mf">0.003463745</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.010848999</span><span class="p">,</span>
      <span class="mf">0.027801514</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.100540161</span><span class="p">,</span>
      <span class="mf">0.057617187</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.683914185</span><span class="p">,</span>
      <span class="mf">1.133926392</span><span class="p">,</span>
      <span class="mf">0.459472656</span><span class="p">,</span>
      <span class="mf">0.129577637</span><span class="p">,</span>
      <span class="mf">0.056533813</span><span class="p">,</span>
      <span class="mf">0.031814575</span><span class="p">,</span>
      <span class="mf">0.003723145</span><span class="p">,</span>
      <span class="mf">0.002899170</span><span class="p">,</span>
      <span class="mf">0.000289917</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000625610</span><span class="p">,</span>
      <span class="mf">0.003463745</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.010848999</span><span class="p">,</span>
      <span class="mf">0.027801514</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.100540161</span><span class="p">,</span>
      <span class="mf">0.057617187</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.683914185</span><span class="p">,</span>
      <span class="mf">1.133926392</span><span class="p">,</span>
      <span class="mf">0.459472656</span><span class="p">,</span>
      <span class="mf">0.129577637</span><span class="p">,</span>
      <span class="mf">0.056533813</span><span class="p">,</span>
      <span class="mf">0.031814575</span><span class="p">,</span>
      <span class="mf">0.003723145</span><span class="p">,</span>
      <span class="mf">0.002899170</span><span class="p">,</span>
      <span class="mf">0.000289917</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>   <span class="cm">/*  5 */</span>
      <span class="o">-</span><span class="mf">0.000686646</span><span class="p">,</span>
      <span class="mf">0.003479004</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.011886597</span><span class="p">,</span>
      <span class="mf">0.026535034</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.105819702</span><span class="p">,</span>
      <span class="mf">0.044784546</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.711318970</span><span class="p">,</span>
      <span class="mf">1.127746582</span><span class="p">,</span>
      <span class="mf">0.431655884</span><span class="p">,</span>
      <span class="mf">0.134887695</span><span class="p">,</span>
      <span class="mf">0.051132202</span><span class="p">,</span>
      <span class="mf">0.031661987</span><span class="p">,</span>
      <span class="mf">0.003005981</span><span class="p">,</span>
      <span class="mf">0.002792358</span><span class="p">,</span>
      <span class="mf">0.000259399</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000686646</span><span class="p">,</span>
      <span class="mf">0.003479004</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.011886597</span><span class="p">,</span>
      <span class="mf">0.026535034</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.105819702</span><span class="p">,</span>
      <span class="mf">0.044784546</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.711318970</span><span class="p">,</span>
      <span class="mf">1.127746582</span><span class="p">,</span>
      <span class="mf">0.431655884</span><span class="p">,</span>
      <span class="mf">0.134887695</span><span class="p">,</span>
      <span class="mf">0.051132202</span><span class="p">,</span>
      <span class="mf">0.031661987</span><span class="p">,</span>
      <span class="mf">0.003005981</span><span class="p">,</span>
      <span class="mf">0.002792358</span><span class="p">,</span>
      <span class="mf">0.000259399</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>   <span class="cm">/*  6 */</span>
      <span class="o">-</span><span class="mf">0.000747681</span><span class="p">,</span>
      <span class="mf">0.003479004</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.012939453</span><span class="p">,</span>
      <span class="mf">0.025085449</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.110946655</span><span class="p">,</span>
      <span class="mf">0.031082153</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.738372803</span><span class="p">,</span>
      <span class="mf">1.120223999</span><span class="p">,</span>
      <span class="mf">0.404083252</span><span class="p">,</span>
      <span class="mf">0.139450073</span><span class="p">,</span>
      <span class="mf">0.045837402</span><span class="p">,</span>
      <span class="mf">0.031387329</span><span class="p">,</span>
      <span class="mf">0.002334595</span><span class="p">,</span>
      <span class="mf">0.002685547</span><span class="p">,</span>
      <span class="mf">0.000244141</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000015259</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000747681</span><span class="p">,</span>
      <span class="mf">0.003479004</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.012939453</span><span class="p">,</span>
      <span class="mf">0.025085449</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.110946655</span><span class="p">,</span>
      <span class="mf">0.031082153</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.738372803</span><span class="p">,</span>
      <span class="mf">1.120223999</span><span class="p">,</span>
      <span class="mf">0.404083252</span><span class="p">,</span>
      <span class="mf">0.139450073</span><span class="p">,</span>
      <span class="mf">0.045837402</span><span class="p">,</span>
      <span class="mf">0.031387329</span><span class="p">,</span>
      <span class="mf">0.002334595</span><span class="p">,</span>
      <span class="mf">0.002685547</span><span class="p">,</span>
      <span class="mf">0.000244141</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000030518</span><span class="p">,</span>   <span class="cm">/*  7 */</span>
      <span class="o">-</span><span class="mf">0.000808716</span><span class="p">,</span>
      <span class="mf">0.003463745</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.014022827</span><span class="p">,</span>
      <span class="mf">0.023422241</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.115921021</span><span class="p">,</span>
      <span class="mf">0.016510010</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.765029907</span><span class="p">,</span>
      <span class="mf">1.111373901</span><span class="p">,</span>
      <span class="mf">0.376800537</span><span class="p">,</span>
      <span class="mf">0.143264771</span><span class="p">,</span>
      <span class="mf">0.040634155</span><span class="p">,</span>
      <span class="mf">0.031005859</span><span class="p">,</span>
      <span class="mf">0.001693726</span><span class="p">,</span>
      <span class="mf">0.002578735</span><span class="p">,</span>
      <span class="mf">0.000213623</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000030518</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000808716</span><span class="p">,</span>
      <span class="mf">0.003463745</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.014022827</span><span class="p">,</span>
      <span class="mf">0.023422241</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.115921021</span><span class="p">,</span>
      <span class="mf">0.016510010</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.765029907</span><span class="p">,</span>
      <span class="mf">1.111373901</span><span class="p">,</span>
      <span class="mf">0.376800537</span><span class="p">,</span>
      <span class="mf">0.143264771</span><span class="p">,</span>
      <span class="mf">0.040634155</span><span class="p">,</span>
      <span class="mf">0.031005859</span><span class="p">,</span>
      <span class="mf">0.001693726</span><span class="p">,</span>
      <span class="mf">0.002578735</span><span class="p">,</span>
      <span class="mf">0.000213623</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000030518</span><span class="p">,</span>   <span class="cm">/*  8 */</span>
      <span class="o">-</span><span class="mf">0.000885010</span><span class="p">,</span>
      <span class="mf">0.003417969</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.015121460</span><span class="p">,</span>
      <span class="mf">0.021575928</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.120697021</span><span class="p">,</span>
      <span class="mf">0.001068115</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.791213989</span><span class="p">,</span>
      <span class="mf">1.101211548</span><span class="p">,</span>
      <span class="mf">0.349868774</span><span class="p">,</span>
      <span class="mf">0.146362305</span><span class="p">,</span>
      <span class="mf">0.035552979</span><span class="p">,</span>
      <span class="mf">0.030532837</span><span class="p">,</span>
      <span class="mf">0.001098633</span><span class="p">,</span>
      <span class="mf">0.002456665</span><span class="p">,</span>
      <span class="mf">0.000198364</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000030518</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000885010</span><span class="p">,</span>
      <span class="mf">0.003417969</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.015121460</span><span class="p">,</span>
      <span class="mf">0.021575928</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.120697021</span><span class="p">,</span>
      <span class="mf">0.001068115</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.791213989</span><span class="p">,</span>
      <span class="mf">1.101211548</span><span class="p">,</span>
      <span class="mf">0.349868774</span><span class="p">,</span>
      <span class="mf">0.146362305</span><span class="p">,</span>
      <span class="mf">0.035552979</span><span class="p">,</span>
      <span class="mf">0.030532837</span><span class="p">,</span>
      <span class="mf">0.001098633</span><span class="p">,</span>
      <span class="mf">0.002456665</span><span class="p">,</span>
      <span class="mf">0.000198364</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000030518</span><span class="p">,</span>   <span class="cm">/*  9 */</span>
      <span class="o">-</span><span class="mf">0.000961304</span><span class="p">,</span>
      <span class="mf">0.003372192</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.016235352</span><span class="p">,</span>
      <span class="mf">0.019531250</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.125259399</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.015228271</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.816864014</span><span class="p">,</span>
      <span class="mf">1.089782715</span><span class="p">,</span>
      <span class="mf">0.323318481</span><span class="p">,</span>
      <span class="mf">0.148773193</span><span class="p">,</span>
      <span class="mf">0.030609131</span><span class="p">,</span>
      <span class="mf">0.029937744</span><span class="p">,</span>
      <span class="mf">0.000549316</span><span class="p">,</span>
      <span class="mf">0.002349854</span><span class="p">,</span>
      <span class="mf">0.000167847</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000030518</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000961304</span><span class="p">,</span>
      <span class="mf">0.003372192</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.016235352</span><span class="p">,</span>
      <span class="mf">0.019531250</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.125259399</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.015228271</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.816864014</span><span class="p">,</span>
      <span class="mf">1.089782715</span><span class="p">,</span>
      <span class="mf">0.323318481</span><span class="p">,</span>
      <span class="mf">0.148773193</span><span class="p">,</span>
      <span class="mf">0.030609131</span><span class="p">,</span>
      <span class="mf">0.029937744</span><span class="p">,</span>
      <span class="mf">0.000549316</span><span class="p">,</span>
      <span class="mf">0.002349854</span><span class="p">,</span>
      <span class="mf">0.000167847</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000030518</span><span class="p">,</span>   <span class="cm">/* 10 */</span>
      <span class="o">-</span><span class="mf">0.001037598</span><span class="p">,</span>
      <span class="mf">0.003280640</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.017349243</span><span class="p">,</span>
      <span class="mf">0.017257690</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.129562378</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.032379150</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.841949463</span><span class="p">,</span>
      <span class="mf">1.077117920</span><span class="p">,</span>
      <span class="mf">0.297210693</span><span class="p">,</span>
      <span class="mf">0.150497437</span><span class="p">,</span>
      <span class="mf">0.025817871</span><span class="p">,</span>
      <span class="mf">0.029281616</span><span class="p">,</span>
      <span class="mf">0.000030518</span><span class="p">,</span>
      <span class="mf">0.002243042</span><span class="p">,</span>
      <span class="mf">0.000152588</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000030518</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001037598</span><span class="p">,</span>
      <span class="mf">0.003280640</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.017349243</span><span class="p">,</span>
      <span class="mf">0.017257690</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.129562378</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.032379150</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.841949463</span><span class="p">,</span>
      <span class="mf">1.077117920</span><span class="p">,</span>
      <span class="mf">0.297210693</span><span class="p">,</span>
      <span class="mf">0.150497437</span><span class="p">,</span>
      <span class="mf">0.025817871</span><span class="p">,</span>
      <span class="mf">0.029281616</span><span class="p">,</span>
      <span class="mf">0.000030518</span><span class="p">,</span>
      <span class="mf">0.002243042</span><span class="p">,</span>
      <span class="mf">0.000152588</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000045776</span><span class="p">,</span>   <span class="cm">/* 11 */</span>
      <span class="o">-</span><span class="mf">0.001113892</span><span class="p">,</span>
      <span class="mf">0.003173828</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.018463135</span><span class="p">,</span>
      <span class="mf">0.014801025</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.133590698</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.050354004</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.866363525</span><span class="p">,</span>
      <span class="mf">1.063217163</span><span class="p">,</span>
      <span class="mf">0.271591187</span><span class="p">,</span>
      <span class="mf">0.151596069</span><span class="p">,</span>
      <span class="mf">0.021179199</span><span class="p">,</span>
      <span class="mf">0.028533936</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000442505</span><span class="p">,</span>
      <span class="mf">0.002120972</span><span class="p">,</span>
      <span class="mf">0.000137329</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000045776</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001113892</span><span class="p">,</span>
      <span class="mf">0.003173828</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.018463135</span><span class="p">,</span>
      <span class="mf">0.014801025</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.133590698</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.050354004</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.866363525</span><span class="p">,</span>
      <span class="mf">1.063217163</span><span class="p">,</span>
      <span class="mf">0.271591187</span><span class="p">,</span>
      <span class="mf">0.151596069</span><span class="p">,</span>
      <span class="mf">0.021179199</span><span class="p">,</span>
      <span class="mf">0.028533936</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000442505</span><span class="p">,</span>
      <span class="mf">0.002120972</span><span class="p">,</span>
      <span class="mf">0.000137329</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000045776</span><span class="p">,</span>   <span class="cm">/* 12 */</span>
      <span class="o">-</span><span class="mf">0.001205444</span><span class="p">,</span>
      <span class="mf">0.003051758</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.019577026</span><span class="p">,</span>
      <span class="mf">0.012115479</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.137298584</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.069168091</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.890090942</span><span class="p">,</span>
      <span class="mf">1.048156738</span><span class="p">,</span>
      <span class="mf">0.246505737</span><span class="p">,</span>
      <span class="mf">0.152069092</span><span class="p">,</span>
      <span class="mf">0.016708374</span><span class="p">,</span>
      <span class="mf">0.027725220</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000869751</span><span class="p">,</span>
      <span class="mf">0.002014160</span><span class="p">,</span>
      <span class="mf">0.000122070</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000045776</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001205444</span><span class="p">,</span>
      <span class="mf">0.003051758</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.019577026</span><span class="p">,</span>
      <span class="mf">0.012115479</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.137298584</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.069168091</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.890090942</span><span class="p">,</span>
      <span class="mf">1.048156738</span><span class="p">,</span>
      <span class="mf">0.246505737</span><span class="p">,</span>
      <span class="mf">0.152069092</span><span class="p">,</span>
      <span class="mf">0.016708374</span><span class="p">,</span>
      <span class="mf">0.027725220</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000869751</span><span class="p">,</span>
      <span class="mf">0.002014160</span><span class="p">,</span>
      <span class="mf">0.000122070</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000061035</span><span class="p">,</span>   <span class="cm">/* 13 */</span>
      <span class="o">-</span><span class="mf">0.001296997</span><span class="p">,</span>
      <span class="mf">0.002883911</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.020690918</span><span class="p">,</span>
      <span class="mf">0.009231567</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.140670776</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.088775635</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.913055420</span><span class="p">,</span>
      <span class="mf">1.031936646</span><span class="p">,</span>
      <span class="mf">0.221984863</span><span class="p">,</span>
      <span class="mf">0.151962280</span><span class="p">,</span>
      <span class="mf">0.012420654</span><span class="p">,</span>
      <span class="mf">0.026840210</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001266479</span><span class="p">,</span>
      <span class="mf">0.001907349</span><span class="p">,</span>
      <span class="mf">0.000106812</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000061035</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001296997</span><span class="p">,</span>
      <span class="mf">0.002883911</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.020690918</span><span class="p">,</span>
      <span class="mf">0.009231567</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.140670776</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.088775635</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.913055420</span><span class="p">,</span>
      <span class="mf">1.031936646</span><span class="p">,</span>
      <span class="mf">0.221984863</span><span class="p">,</span>
      <span class="mf">0.151962280</span><span class="p">,</span>
      <span class="mf">0.012420654</span><span class="p">,</span>
      <span class="mf">0.026840210</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001266479</span><span class="p">,</span>
      <span class="mf">0.001907349</span><span class="p">,</span>
      <span class="mf">0.000106812</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000061035</span><span class="p">,</span>   <span class="cm">/* 14 */</span>
      <span class="o">-</span><span class="mf">0.001388550</span><span class="p">,</span>
      <span class="mf">0.002700806</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.021789551</span><span class="p">,</span>
      <span class="mf">0.006134033</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.143676758</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.109161377</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.935195923</span><span class="p">,</span>
      <span class="mf">1.014617920</span><span class="p">,</span>
      <span class="mf">0.198059082</span><span class="p">,</span>
      <span class="mf">0.151306152</span><span class="p">,</span>
      <span class="mf">0.008316040</span><span class="p">,</span>
      <span class="mf">0.025909424</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001617432</span><span class="p">,</span>
      <span class="mf">0.001785278</span><span class="p">,</span>
      <span class="mf">0.000106812</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000061035</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001388550</span><span class="p">,</span>
      <span class="mf">0.002700806</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.021789551</span><span class="p">,</span>
      <span class="mf">0.006134033</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.143676758</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.109161377</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.935195923</span><span class="p">,</span>
      <span class="mf">1.014617920</span><span class="p">,</span>
      <span class="mf">0.198059082</span><span class="p">,</span>
      <span class="mf">0.151306152</span><span class="p">,</span>
      <span class="mf">0.008316040</span><span class="p">,</span>
      <span class="mf">0.025909424</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001617432</span><span class="p">,</span>
      <span class="mf">0.001785278</span><span class="p">,</span>
      <span class="mf">0.000106812</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000076294</span><span class="p">,</span>   <span class="cm">/* 15 */</span>
      <span class="o">-</span><span class="mf">0.001480103</span><span class="p">,</span>
      <span class="mf">0.002487183</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.022857666</span><span class="p">,</span>
      <span class="mf">0.002822876</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.146255493</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.130310059</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.956481934</span><span class="p">,</span>
      <span class="mf">0.996246338</span><span class="p">,</span>
      <span class="mf">0.174789429</span><span class="p">,</span>
      <span class="mf">0.150115967</span><span class="p">,</span>
      <span class="mf">0.004394531</span><span class="p">,</span>
      <span class="mf">0.024932861</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001937866</span><span class="p">,</span>
      <span class="mf">0.001693726</span><span class="p">,</span>
      <span class="mf">0.000091553</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000076294</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001480103</span><span class="p">,</span>
      <span class="mf">0.002487183</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.022857666</span><span class="p">,</span>
      <span class="mf">0.002822876</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.146255493</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.130310059</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.956481934</span><span class="p">,</span>
      <span class="mf">0.996246338</span><span class="p">,</span>
      <span class="mf">0.174789429</span><span class="p">,</span>
      <span class="mf">0.150115967</span><span class="p">,</span>
      <span class="mf">0.004394531</span><span class="p">,</span>
      <span class="mf">0.024932861</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001937866</span><span class="p">,</span>
      <span class="mf">0.001693726</span><span class="p">,</span>
      <span class="mf">0.000091553</span> <span class="p">],</span>

    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000076294</span><span class="p">,</span>   <span class="cm">/* 16 */</span>
      <span class="o">-</span><span class="mf">0.001586914</span><span class="p">,</span>
      <span class="mf">0.002227783</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.023910522</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000686646</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.148422241</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.152206421</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.976852417</span><span class="p">,</span>
      <span class="mf">0.976852417</span><span class="p">,</span>
      <span class="mf">0.152206421</span><span class="p">,</span>
      <span class="mf">0.148422241</span><span class="p">,</span>
      <span class="mf">0.000686646</span><span class="p">,</span>
      <span class="mf">0.023910522</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.002227783</span><span class="p">,</span>
      <span class="mf">0.001586914</span><span class="p">,</span>
      <span class="mf">0.000076294</span><span class="p">,</span>

      <span class="o">-</span><span class="mf">0.000076294</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.001586914</span><span class="p">,</span>
      <span class="mf">0.002227783</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.023910522</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.000686646</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.148422241</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.152206421</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.976852417</span><span class="p">,</span>
      <span class="mf">0.976852417</span><span class="p">,</span>
      <span class="mf">0.152206421</span><span class="p">,</span>
      <span class="mf">0.148422241</span><span class="p">,</span>
      <span class="mf">0.000686646</span><span class="p">,</span>
      <span class="mf">0.023910522</span><span class="p">,</span>
      <span class="o">-</span><span class="mf">0.002227783</span><span class="p">,</span>
      <span class="mf">0.001586914</span><span class="p">,</span>
      <span class="mf">0.000076294</span> <span class="p">]</span>
<span class="p">];</span></pre></div></td></tr><tr id="section-546"><td class="docs"><div class="pilwrap"><a href="#section-546" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>perform full frequency PCM synthesis</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="nx">MP3Synth</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">full</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">frame</span><span class="p">,</span> <span class="nx">nch</span><span class="p">,</span> <span class="nx">ns</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">Dptr</span><span class="p">,</span> <span class="nx">hi</span><span class="p">,</span> <span class="nx">lo</span><span class="p">,</span> <span class="nx">ptr</span><span class="p">;</span>
    
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">ch</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">ch</span> <span class="o">&lt;</span> <span class="nx">nch</span><span class="p">;</span> <span class="o">++</span><span class="nx">ch</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">sbsample</span> <span class="o">=</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">sbsample</span><span class="p">[</span><span class="nx">ch</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">filter</span>  <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">filter</span><span class="p">[</span><span class="nx">ch</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">phase</span>   <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">phase</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">pcm</span>     <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">pcm</span><span class="p">.</span><span class="nx">samples</span><span class="p">[</span><span class="nx">ch</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">pcm1Ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">pcm2Ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">s</span> <span class="o">&lt;</span> <span class="nx">ns</span><span class="p">;</span> <span class="o">++</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">MP3Synth</span><span class="p">.</span><span class="nx">dct32</span><span class="p">(</span><span class="nx">sbsample</span><span class="p">[</span><span class="nx">s</span><span class="p">],</span> <span class="nx">phase</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">filter</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">phase</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">phase</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">]);</span>

            <span class="kd">var</span> <span class="nx">pe</span> <span class="o">=</span> <span class="nx">phase</span> <span class="o">&amp;</span> <span class="o">~</span><span class="mi">1</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">po</span> <span class="o">=</span> <span class="p">((</span><span class="nx">phase</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xf</span><span class="p">)</span> <span class="o">|</span> <span class="mi">1</span><span class="p">;</span></pre></div></td></tr><tr id="section-547"><td class="docs"><div class="pilwrap"><a href="#section-547" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>calculate 32 samples</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">fe</span> <span class="o">=</span> <span class="nx">filter</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span> <span class="nx">phase</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">];</span>
            <span class="kd">var</span> <span class="nx">fx</span> <span class="o">=</span> <span class="nx">filter</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="o">~</span><span class="nx">phase</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">];</span>
            <span class="kd">var</span> <span class="nx">fo</span> <span class="o">=</span> <span class="nx">filter</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="o">~</span><span class="nx">phase</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">];</span>

            <span class="kd">var</span> <span class="nx">fePtr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">fxPtr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">foPtr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            
            <span class="nx">Dptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

            <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">D</span><span class="p">[</span><span class="nx">Dptr</span><span class="p">];</span>
            <span class="nx">_fx</span> <span class="o">=</span> <span class="nx">fx</span><span class="p">[</span><span class="nx">fxPtr</span><span class="p">];</span>
            <span class="nx">_fe</span> <span class="o">=</span> <span class="nx">fe</span><span class="p">[</span><span class="nx">fePtr</span><span class="p">];</span>

            <span class="nx">lo</span> <span class="o">=</span>  <span class="nx">_fx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">0</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fx</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">14</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fx</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">12</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fx</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">10</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fx</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">8</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fx</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">6</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fx</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">4</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fx</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">2</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">=</span> <span class="o">-</span><span class="nx">lo</span><span class="p">;</span>                      
            
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span>  <span class="mi">0</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">14</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">12</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">10</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span>  <span class="mi">8</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span>  <span class="mi">6</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span>  <span class="mi">4</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span>  <span class="mi">2</span><span class="p">];</span>

            <span class="nx">pcm</span><span class="p">[</span><span class="nx">pcm1Ptr</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lo</span><span class="p">;</span>
            <span class="nx">pcm2Ptr</span> <span class="o">=</span> <span class="nx">pcm1Ptr</span> <span class="o">+</span> <span class="mi">30</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">sb</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">sb</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">;</span> <span class="o">++</span><span class="nx">sb</span><span class="p">)</span> <span class="p">{</span>
                <span class="o">++</span><span class="nx">fePtr</span><span class="p">;</span>
                <span class="o">++</span><span class="nx">Dptr</span><span class="p">;</span></pre></div></td></tr><tr id="section-548"><td class="docs"><div class="pilwrap"><a href="#section-548" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>D[32 - sb][i] === -D[sb][31 - i]</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">D</span><span class="p">[</span><span class="nx">Dptr</span><span class="p">];</span>
                <span class="nx">_fo</span> <span class="o">=</span> <span class="nx">fo</span><span class="p">[</span><span class="nx">foPtr</span><span class="p">];</span>
                <span class="nx">_fe</span> <span class="o">=</span> <span class="nx">fe</span><span class="p">[</span><span class="nx">fePtr</span><span class="p">];</span>

                <span class="nx">lo</span>  <span class="o">=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">0</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">14</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">12</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">10</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">8</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">6</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">4</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">2</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">=</span> <span class="o">-</span><span class="nx">lo</span><span class="p">;</span>

                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">2</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">4</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">6</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">8</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">10</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">12</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">14</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">0</span><span class="p">];</span>

                <span class="nx">pcm</span><span class="p">[</span><span class="nx">pcm1Ptr</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lo</span><span class="p">;</span>

                <span class="nx">lo</span> <span class="o">=</span>  <span class="nx">_fe</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span> <span class="mi">16</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span> <span class="mi">14</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span> <span class="mi">12</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span> <span class="mi">10</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span>  <span class="mi">8</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span>  <span class="mi">6</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span>  <span class="mi">4</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fe</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">pe</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span>  <span class="mi">2</span><span class="p">];</span>

                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span>  <span class="mi">2</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span>  <span class="mi">4</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span>  <span class="mi">6</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span>  <span class="mi">8</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span> <span class="mi">10</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span> <span class="mi">12</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span> <span class="mi">14</span><span class="p">];</span>
                <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="o">-</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">-</span> <span class="mi">16</span><span class="p">];</span>

                <span class="nx">pcm</span><span class="p">[</span><span class="nx">pcm2Ptr</span><span class="o">--</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lo</span><span class="p">;</span>
                <span class="o">++</span><span class="nx">foPtr</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="o">++</span><span class="nx">Dptr</span><span class="p">;</span>

            <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">D</span><span class="p">[</span><span class="nx">Dptr</span><span class="p">];</span>
            <span class="nx">_fo</span> <span class="o">=</span> <span class="nx">fo</span><span class="p">[</span><span class="nx">foPtr</span><span class="p">];</span>

            <span class="nx">lo</span>  <span class="o">=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">0</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">14</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">12</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span> <span class="mi">10</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">8</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">6</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">4</span><span class="p">];</span>
            <span class="nx">lo</span> <span class="o">+=</span> <span class="nx">_fo</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ptr</span><span class="p">[</span><span class="nx">po</span> <span class="o">+</span>  <span class="mi">2</span><span class="p">];</span>

            <span class="nx">pcm</span><span class="p">[</span><span class="nx">pcm1Ptr</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="nx">lo</span><span class="p">;</span>
            <span class="nx">pcm1Ptr</span> <span class="o">+=</span> <span class="mi">16</span><span class="p">;</span>
            <span class="nx">phase</span> <span class="o">=</span> <span class="p">(</span><span class="nx">phase</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">16</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-549"><td class="docs"><div class="pilwrap"><a href="#section-549" class="pilcrow">&#182;</a></div><p>TODO: synth.half()</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-550"><td class="docs"><div class="pilwrap"><a href="#section-550" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>NAME:    synth.frame()<br />DESCRIPTION: perform PCM synthesis of frame subband samples</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="nx">MP3Synth</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">frame</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">frame</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">nch</span> <span class="o">=</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">nchannels</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">ns</span>  <span class="o">=</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">nbsamples</span><span class="p">();</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">pcm</span><span class="p">.</span><span class="nx">samplerate</span> <span class="o">=</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">samplerate</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">pcm</span><span class="p">.</span><span class="nx">channels</span>   <span class="o">=</span> <span class="nx">nch</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">pcm</span><span class="p">.</span><span class="nx">length</span>     <span class="o">=</span> <span class="mi">32</span> <span class="o">*</span> <span class="nx">ns</span><span class="p">;</span></pre></div></td></tr><tr id="section-551"><td class="docs"><div class="pilwrap"><a href="#section-551" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>if (frame.options &amp; Mad.Option.HALFSAMPLERATE) {<br />     this.pcm.samplerate /= 2;<br />     this.pcm.length     /= 2;</p></div><div class="body"><pre><code> throw new Error("HALFSAMPLERATE is not supported. What do you think? As if I have the time for this");
 }
</code></pre></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">full</span><span class="p">(</span><span class="nx">frame</span><span class="p">,</span> <span class="nx">nch</span><span class="p">,</span> <span class="nx">ns</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">phase</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">phase</span> <span class="o">+</span> <span class="nx">ns</span><span class="p">)</span> <span class="o">%</span> <span class="mi">16</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">MP3Decoder</span> <span class="o">=</span> <span class="nx">Decoder</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">Decoder</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="s1">&#39;mp3&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">floatingPoint</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">mp3_stream</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MP3Stream</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bitstream</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MP3Frame</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">synth</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MP3Synth</span><span class="p">();</span>
    <span class="p">};</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">readChunk</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>            
        <span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">mp3_stream</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">frame</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">frame</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">synth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">synth</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">stream</span><span class="p">.</span><span class="nx">available</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">once</span><span class="p">(</span><span class="s1">&#39;available&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">readChunk</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">frame</span><span class="p">.</span><span class="nx">decode</span><span class="p">(</span><span class="nx">stream</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">!==</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">BUFLEN</span> <span class="o">&amp;&amp;</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span> <span class="o">!==</span> <span class="nx">MP3Stream</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">.</span><span class="nx">LOSTSYNC</span><span class="p">)</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;A decoding error occurred: &#39;</span> <span class="o">+</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">error</span><span class="p">);</span>
                
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="nx">synth</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">frame</span><span class="p">);</span>
        </pre></div></td></tr><tr id="section-552"><td class="docs"><div class="pilwrap"><a href="#section-552" class="pilcrow">&#182;</a></div><p>interleave samples</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">synth</span><span class="p">.</span><span class="nx">pcm</span><span class="p">.</span><span class="nx">samples</span><span class="p">,</span>
            <span class="nx">channels</span> <span class="o">=</span> <span class="nx">synth</span><span class="p">.</span><span class="nx">pcm</span><span class="p">.</span><span class="nx">channels</span><span class="p">,</span>
            <span class="nx">len</span> <span class="o">=</span> <span class="nx">synth</span><span class="p">.</span><span class="nx">pcm</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
            <span class="nx">output</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Float32Array</span><span class="p">(</span><span class="nx">len</span> <span class="o">*</span> <span class="nx">channels</span><span class="p">),</span>
            <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">k</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">channels</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">output</span><span class="p">[</span><span class="nx">j</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">k</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>
            
        <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="nx">output</span><span class="p">);</span>
    <span class="p">};</span>
<span class="p">});</span>

<span class="p">})();</span>

</pre></div></td></tr></tbody></table><div id="projectname"><a href="../../../index.html">JukeboxJS</a></div></div></body></html>